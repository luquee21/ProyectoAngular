!function(){function t(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||r(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=r(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function n(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||r(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o(t,e,n){return(o=f()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&u(i,n.prototype),i}).apply(null,arguments)}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=f();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?h(t):e}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e,n){return e&&v(t.prototype,e),n&&v(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return a}));var r=n("WVRz"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),s=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var c=this.getOrInitializeService(u);s.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),s=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"6Uf2":function(t,e,n){"use strict";(function(t){var e,r=n("zIRd"),i=n("WVRz"),o=n("qOnz"),a=n("q/0M"),s=n("/6Yf"),u=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Object(o.J)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Object(o.D)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),c=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Object(o.k)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),l=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new u(e)}}catch(n){}return new c},h=l("localStorage"),f=l("sessionStorage"),p=new a.b("@firebase/database"),d=(e=1,function(){return e++}),v=function(t){var e=Object(o.I)(t),n=new o.d;n.update(e);var r=n.digest();return o.h.encodeByteArray(r)},g=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r="",i=0;i<e.length;i++){var a=e[i];Array.isArray(a)||a&&"object"==typeof a&&"number"==typeof a.length?r+=t.apply(null,a):r+="object"==typeof a?Object(o.J)(a):a,r+=" "}return r},y=null,m=!0,b=function(t,e){Object(o.f)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(p.logLevel=a.a.VERBOSE,y=p.log.bind(p),e&&f.set("logging_enabled",!0)):"function"==typeof t?y=t:(y=null,f.remove("logging_enabled"))},_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===m&&(m=!1,null===y&&!0===f.get("logging_enabled")&&b(!0)),y){var n=g.apply(null,t);y(n)}},w=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];_.apply(void 0,Object(i.f)([t],e))}},E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+g.apply(void 0,Object(i.f)(t));p.error(n)},k=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+g.apply(void 0,Object(i.f)(t));throw p.error(n),new Error(n)},I=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+g.apply(void 0,Object(i.f)(t));p.warn(n)},C=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},T="[MIN_NAME]",S="[MAX_NAME]",O=function(t,e){if(t===e)return 0;if(t===T||e===S)return-1;if(e===T||t===S)return 1;var n=K(t),r=K(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},A=function(t,e){return t===e?0:t<e?-1:1},N=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Object(o.J)(e))},P=function t(e){if("object"!=typeof e||null===e)return Object(o.J)(e);var n=[];for(var r in e)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Object(o.J)(n[a]),i+=":",i+=t(e[n[a]]);return i+"}"},x=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function R(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var j,D,L,F,M,U,V,q,B,H,z=function(t){var e,n,r,i,a;Object(o.f)(!C(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(e?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},W=new RegExp("^-?(0*)\\d{1,10}$"),K=function(t){if(W.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},G=function(t){try{t()}catch(e){setTimeout((function(){throw I("Exception was thrown by user callback.",e.stack||""),e}),Math.floor(0))}},Q=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},Y=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!1,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=O(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),X=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(o.H)(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=Object(o.H)(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=Object(o.H)(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),J=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=h.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&h.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(Object(o.f)("string"==typeof t,"typeof type must == string"),Object(o.f)("object"==typeof e,"typeof params must == object"),"websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if("long_polling"!==t)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return R(e,(function(t,e){r.push(t+"="+e)})),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}(),$=function(t,e){var n=Z(t),r=n.namespace;return"firebase.com"===n.domain&&k(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||k("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&I("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new J(n.host,n.secure,r,e,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new Y(n.pathString)}},Z=function(t){var e="",n="",r="",o="",a="",s=!0,u="https",c=443;if("string"==typeof t){var l=t.indexOf("//");l>=0&&(u=t.substring(0,l-1),t=t.substring(l+2));var h=t.indexOf("/");-1===h&&(h=t.length);var f=t.indexOf("?");-1===f&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(o=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(h,f)));var p=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var o=Object(i.h)(t.split("&")),a=o.next();!a.done;a=o.next()){var s=a.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):I("Invalid query segment '"+s+"' in query '"+t+"'")}}}catch(c){e={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,f)));(l=e.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(e.substring(l+1),10)):l=e.length;var d=e.slice(0,l);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),a=r}"ns"in p&&(a=p.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:o,namespace:a}},tt=/[\[\].#$\/\u0000-\u001F\u007F]/,et=/[\[\].#$\u0000-\u001F\u007F]/,nt=function(t){return"string"==typeof t&&0!==t.length&&!tt.test(t)},rt=function(t){return"string"==typeof t&&0!==t.length&&!et.test(t)},it=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!C(t)||t&&"object"==typeof t&&Object(o.k)(t,".sv")},ot=function(t,e,n,r,i){i&&void 0===n||at(Object(o.o)(t,e,i),n,r)},at=function t(e,n,r){var i=r instanceof Y?new X(r,e):r;if(void 0===n)throw new Error(e+"contains undefined "+i.toErrorString());if("function"==typeof n)throw new Error(e+"contains a function "+i.toErrorString()+" with contents = "+n.toString());if(C(n))throw new Error(e+"contains "+n.toString()+" "+i.toErrorString());if("string"==typeof n&&n.length>10485760/3&&Object(o.H)(n)>10485760)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+i.toErrorString()+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var a=!1,s=!1;if(R(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!nt(n)))throw new Error(e+" contains an invalid key ("+n+") "+i.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(n),t(e,r,i),i.pop()})),a&&s)throw new Error(e+' contains ".value" child '+i.toErrorString()+" in addition to actual children.")}},st=function(t,e,n,r,i){if(!i||void 0!==n){var a=Object(o.o)(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(a+" must be an object containing the children to replace.");var s=[];R(n,(function(t,e){var n=new Y(t);if(at(a,e,r.child(n)),".priority"===n.getBack()&&!it(e))throw new Error(a+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=(r=e[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!nt(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(Y.comparePaths);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&a.contains(r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(a,s)}},ut=function(t,e,n,r){if(!r||void 0!==n){if(C(n))throw new Error(Object(o.o)(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!it(n))throw new Error(Object(o.o)(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ct=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(o.o)(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},lt=function(t,e,n,r){if(!(r&&void 0===n||nt(n)))throw new Error(Object(o.o)(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ht=function(t,e,n,r){if(!(r&&void 0===n||rt(n)))throw new Error(Object(o.o)(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ft=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ht(t,e,n,r)},pt=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},dt=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!nt(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),rt(t)}(r))throw new Error(Object(o.o)(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},vt=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Object(o.o)(t,e,r)+"must be a boolean.")},gt=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){Object(o.K)("OnDisconnect.cancel",0,1,arguments.length),Object(o.L)("OnDisconnect.cancel",1,t,!0);var e=new o.a;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){Object(o.K)("OnDisconnect.remove",0,1,arguments.length),pt("OnDisconnect.remove",this.path_),Object(o.L)("OnDisconnect.remove",1,t,!0);var e=new o.a;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){Object(o.K)("OnDisconnect.set",1,2,arguments.length),pt("OnDisconnect.set",this.path_),ot("OnDisconnect.set",1,t,this.path_,!1),Object(o.L)("OnDisconnect.set",2,e,!0);var n=new o.a;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){Object(o.K)("OnDisconnect.setWithPriority",2,3,arguments.length),pt("OnDisconnect.setWithPriority",this.path_),ot("OnDisconnect.setWithPriority",1,t,this.path_,!1),ut("OnDisconnect.setWithPriority",2,e,!1),Object(o.L)("OnDisconnect.setWithPriority",3,n,!0);var r=new o.a;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(Object(o.K)("OnDisconnect.update",1,2,arguments.length),pt("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,I("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}st("OnDisconnect.update",1,t,this.path_,!1),Object(o.L)("OnDisconnect.update",2,e,!0);var i=new o.a;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),yt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Object(o.K)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),mt=(j="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",D=0,L=[],function(t){var e,n=t===D;D=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=j.charAt(t%64),t=Math.floor(t/64);Object(o.f)(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===L[e];e--)L[e]=0;L[e]++}else for(e=0;e<12;e++)L[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=j.charAt(L[e]);return Object(o.f)(20===i.length,"nextPushId: Length should be 20."),i}),bt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),_t=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new bt(T,t),r=new bt(T,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return bt.MIN},t}(),wt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return F},set:function(t){F=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return O(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw Object(o.g)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return bt.MIN},e.prototype.maxPost=function(){return new bt(S,F)},e.prototype.makePost=function(t,e){return Object(o.f)("string"==typeof t,"KeyIndex indexValue must always be a string."),new bt(t,F)},e.prototype.toString=function(){return".key"},e}(_t),Et=new wt,kt=function(t){return"number"==typeof t?"number:"+z(t):"string:"+t},It=function(t){if(t.isLeafNode()){var e=t.val();Object(o.f)("string"==typeof e||"number"==typeof e||"object"==typeof e&&Object(o.k)(e,".sv"),"Priority must be a string or number.")}else Object(o.f)(t===M||t.isEmpty(),"priority of unexpected type.");Object(o.f)(t===M||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Ct=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Object(o.f)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),It(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return U},set:function(t){U=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(o.f)(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+kt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?z(this.value_):this.value_,this.lazyHash_=v(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Object(o.f)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),a=t.VALUE_TYPE_ORDER.indexOf(r);return Object(o.f)(i>=0,"Unknown leaf type: "+n),Object(o.f)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Tt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?O(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return bt.MIN},e.prototype.maxPost=function(){return new bt(S,new Ct("[PRIORITY-POST]",q))},e.prototype.makePost=function(t,e){var n=V(t);return new bt(e,new Ct("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(_t)),St=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Ot=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Nt.EMPTY_NODE,this.right=null!=o?o:Nt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Nt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Nt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),At=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Ot(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Nt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ot.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ot.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new St(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new St(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new St(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new St(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new At,t}(),Pt=Math.log(2),xt=function(){function t(t){this.count=parseInt(Math.log(t+1)/Pt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Rt=function(t,e,n,r){t.sort(e);var i=function(e){for(var r=null,i=null,o=t.length,a=function(e,r){var i=o-e,a=o;o-=e;var u=function e(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=t[r],a=n?n(o):o,new Ot(a,o.node,Ot.BLACK,null,null);var u=parseInt(s/2,10)+r,c=e(r,u),l=e(u+1,i);return o=t[u],a=n?n(o):o,new Ot(a,o.node,Ot.BLACK,c,l)}(i+1,a),c=t[i],l=n?n(c):c;s(new Ot(l,c.node,r,null,u))},s=function(t){r?(r.left=t,r=t):(i=t,r=t)},u=0;u<e.count;++u){var c=e.nextBitIsOne(),l=Math.pow(2,e.count-(u+1));c?a(l,Ot.BLACK):(a(l,Ot.BLACK),a(l,Ot.RED))}return i}(new xt(t.length));return new Nt(r||e,i)},jt={},Dt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return Object(o.f)(jt&&Tt,"ChildrenNode.ts has not been loaded"),B=B||new t({".priority":jt},{".priority":Tt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Object(o.G)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Nt?e:null},t.prototype.hasIndex=function(t){return Object(o.k)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){Object(o.f)(e!==Et,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,a=[],s=!1,u=n.getIterator(bt.Wrap),c=u.getNext();c;)s=s||e.isDefinedOn(c.node),a.push(c),c=u.getNext();r=s?Rt(a,e.getCompare()):jt;var l=e.toString(),h=Object(i.a)({},this.indexSet_);h[l]=e;var f=Object(i.a)({},this.indexes_);return f[l]=r,new t(f,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(Object(o.E)(this.indexes_,(function(t,i){var a=Object(o.G)(r.indexSet_,i);if(Object(o.f)(a,"Missing index implementation for "+i),t===jt){if(a.isDefinedOn(e.node)){for(var s=[],u=n.getIterator(bt.Wrap),c=u.getNext();c;)c.name!==e.name&&s.push(c),c=u.getNext();return s.push(e),Rt(s,a.getCompare())}return jt}var l=n.get(e.name),h=t;return l&&(h=h.remove(new bt(e.name,l))),h.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Object(o.E)(this.indexes_,(function(t){if(t===jt)return t;var r=n.get(e.name);return r?t.remove(new bt(e.name,r)):t})),this.indexSet_)},t}();function Lt(t,e){return O(t.name,e.name)}function Ft(t,e){return O(t,e)}var Mt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&It(this.priorityNode_),this.children_.isEmpty()&&Object(o.f)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return H||(H=new t(new Nt(Ft),null,Dt.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||H},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?H:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(Object(o.f)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new bt(e,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?H:this.priorityNode_;return new t(i,s,a)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;Object(o.f)(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Tt,(function(a,s){n[a]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+kt(this.getPriority().val())+":"),this.forEachChild(Tt,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":v(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new bt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new bt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new bt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,bt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,bt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ut?-1:0},t.prototype.withIndex=function(e){if(e===Et||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Et||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Tt),r=e.getIterator(Tt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Et?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Ut=new(function(t){function e(){return t.call(this,new Nt(Ft),Mt.EMPTY_NODE,Dt.Default)||this}return Object(i.c)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Mt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Mt));function Vt(t,e){if(void 0===e&&(e=null),null===t)return Mt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),Object(o.f)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Ct(t,Vt(e));if(t instanceof Array){var n=Mt.EMPTY_NODE;return R(t,(function(e,r){if(Object(o.k)(t,e)&&"."!==e.substring(0,1)){var i=Vt(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}})),n.updatePriority(Vt(e))}var r=[],i=!1;if(R(t,(function(t,e){if("."!==t.substring(0,1)){var n=Vt(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new bt(t,n)))}})),0===r.length)return Mt.EMPTY_NODE;var a=Rt(r,Lt,(function(t){return t.name}),Ft);if(i){var s=Rt(r,Tt.getCompare());return new Mt(a,Vt(e),new Dt({".priority":s},{".priority":Tt}))}return new Mt(a,Vt(e),Dt.Default)}Object.defineProperties(bt,{MIN:{value:new bt(T,Mt.EMPTY_NODE)},MAX:{value:new bt(S,Ut)}}),wt.__EMPTY_NODE=Mt.EMPTY_NODE,Ct.__childrenNodeConstructor=Mt,M=Ut,q=Ut,V=Vt;var qt,Bt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?O(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return bt.MIN},e.prototype.maxPost=function(){return bt.MAX},e.prototype.makePost=function(t,e){var n=Vt(t);return new bt(e,n)},e.prototype.toString=function(){return".value"},e}(_t)),Ht=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,Object(o.f)(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return Object(i.c)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?O(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=Vt(t),r=Mt.EMPTY_NODE.updateChild(this.indexPath_,n);return new bt(e,r)},e.prototype.maxPost=function(){var t=Mt.EMPTY_NODE.updateChild(this.indexPath_,Ut);return new bt(S,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(_t),zt=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return Object(o.K)("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return Object(o.K)("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return Object(o.K)("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return Object(o.K)("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){Object(o.K)("DataSnapshot.child",0,1,arguments.length),e=String(e),ht("DataSnapshot.child",1,e,!1);var n=new Y(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,Tt)},t.prototype.hasChild=function(t){Object(o.K)("DataSnapshot.hasChild",1,1,arguments.length),ht("DataSnapshot.hasChild",1,t,!1);var e=new Y(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return Object(o.K)("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(Object(o.K)("DataSnapshot.forEach",1,1,arguments.length),Object(o.L)("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return e(new t(i,n.ref_.child(r),Tt))}))},t.prototype.hasChildren=function(){return Object(o.K)("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Object(o.K)("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return Object(o.K)("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Wt=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(o.J)(this.snapshot.exportVal())},t}(),Kt=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Gt=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Wt("value",this,new zt(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Object(o.f)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Kt(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),Qt=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,Object(o.k)(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Kt(this,t,e):null},t.prototype.createEvent=function(t,e){Object(o.f)(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new Wt(t.type,this,new zt(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Object(o.f)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var a=r[0],s=i[0];return!(s!==a||e.callbacks_[a]&&this.callbacks_[s]&&e.callbacks_[a]!==this.callbacks_[s])}return i.every((function(t){return e.callbacks_[t]===n.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),Yt=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return Object(o.f)(qt,"Reference.ts has not been loaded"),qt},set:function(t){qt=t},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Et){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==T)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==S)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Tt){if(null!=e&&!it(e)||null!=n&&!it(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(o.f)(t.getIndex()instanceof Ht||t.getIndex()===Bt,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return Object(o.K)("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){Object(o.K)("Query.on",2,4,arguments.length),ct("Query.on",1,e,!1),Object(o.L)("Query.on",2,n,!1);var a=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,a.cancel,a.context);else{var s={};s[e]=n,this.onChildEvent(s,a.cancel,a.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new Gt(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new Qt(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){Object(o.K)("Query.off",0,3,arguments.length),ct("Query.off",1,t,!0),Object(o.L)("Query.off",2,e,!0),Object(o.M)("Query.off",3,n,!0);var r=null,i=null;if("value"===t){var a=e||null;r=new Gt(a,null,n||null)}else t&&(e&&((i={})[t]=e),r=new Qt(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,i){var a=this;Object(o.K)("Query.once",1,4,arguments.length),ct("Query.once",1,e,!1),Object(o.L)("Query.once",2,n,!0);var s=t.getCancelAndContextArgs_("Query.once",r,i),u=!0,c=new o.a;c.promise.catch((function(){}));var l=function t(r){u&&(u=!1,a.off(e,t),n&&n.bind(s.context)(r),c.resolve(r))};return this.on(e,l,(function(t){a.off(e,l),s.cancel&&s.cancel.bind(s.context)(t),c.reject(t)})),c.promise},t.prototype.limitToFirst=function(e){if(Object(o.K)("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(Object(o.K)("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(Object(o.K)("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');ht("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new Y(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Ht(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){Object(o.K)("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(Et);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){Object(o.K)("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(Tt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){Object(o.K)("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(Bt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),Object(o.K)("Query.startAt",0,2,arguments.length),ot("Query.startAt",1,e,this.path,!0),lt("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),Object(o.K)("Query.endAt",0,2,arguments.length),ot("Query.endAt",1,e,this.path,!0),lt("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(Object(o.K)("Query.equalTo",1,2,arguments.length),ot("Query.equalTo",1,t,this.path,!1),lt("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return Object(o.K)("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return Object(o.K)("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=P(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(Object(o.K)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,i=this.path.equals(e.path),a=this.queryIdentifier()===e.queryIdentifier();return r&&i&&a},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,Object(o.L)(t,3,r.cancel,!0),r.context=n,Object(o.M)(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(Object(o.o)(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Xt=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),Jt=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=this.path_.child(e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),$t=function(t,e,n){return t&&"object"==typeof t?(Object(o.f)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?Zt(t[".sv"],e,n):"object"==typeof t[".sv"]?te(t[".sv"],e):void Object(o.f)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Zt=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Object(o.f)(!1,"Unexpected server value: "+t)}},te=function(t,e,n){t.hasOwnProperty("increment")||Object(o.f)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&Object(o.f)(!1,"Unexpected increment value: "+r);var i=e.node();if(Object(o.f)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!=typeof a?r:a+r},ee=function(t,e,n,r){return re(e,new Jt(n,t),r)},ne=function(t,e,n){return re(t,new Xt(e),n)};function re(t,e,n){var r,i=t.getPriority().val(),o=$t(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var a=t,s=$t(a.getValue(),e,n);return s!==a.getValue()||o!==a.getPriority().val()?new Ct(s,Vt(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Ct(o))),u.forEachChild(Tt,(function(t,i){var o=re(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}var ie,oe,ae=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(Tt,(function(t,e){n.remember(new Y(t),e)})),this.forget(t)}if(this.children.size>0){var r=t.getFront();return t=t.popFront(),this.children.has(r)&&this.children.get(r).forget(t)&&this.children.delete(r),0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,r){var i=new Y(t.toString()+"/"+n);r.forEachTree(i,e)}))},t.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},t}(),se=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({}),ue=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,Object(o.f)(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),ce=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=se.ACK_USER_WRITE,this.source=ue.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return Object(o.f)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Y(e));return new t(Y.Empty,n,this.revert)}return Object(o.f)(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),le=function(){function t(t,e){void 0===e&&(ie||(ie=new Nt(A)),e=ie),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return R(e,(function(t,e){n=n.set(new Y(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:Y.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new Y(n).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=(this.children.get(r)||t.Empty).set(e.popFront(),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r,i=e.getFront(),o=(this.children.get(i)||t.Empty).setTree(e.popFront(),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(Y.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(t.child(r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,Y.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,Y.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(Y.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t.Empty=new t(null),t}(),he=function(){function t(t,e){this.source=t,this.path=e,this.type=se.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,Y.Empty):new t(this.source,this.path.popFront())},t}(),fe=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=se.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,Y.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),pe=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=se.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new Y(e));return n.isEmpty()?null:n.value?new fe(this.source,Y.Empty,n.value):new t(this.source,Y.Empty,n)}return Object(o.f)(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),de=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),ve=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new de(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new de(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new de(Mt.EMPTY_NODE,!1,!1),new de(Mt.EMPTY_NODE,!1,!1)),t}(),ge=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),ye=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,a){Object(o.f)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=t.getImmediateChild(e);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?t:(null!=a&&(n.isEmpty()?t.hasChild(e)?a.trackChildChange(ge.childRemovedChange(e,s)):Object(o.f)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(ge.childAddedChange(e,n)):a.trackChildChange(ge.childChangedChange(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Tt,(function(t,r){e.hasChild(t)||n.trackChildChange(ge.childRemovedChange(t,r))})),e.isLeafNode()||e.forEachChild(Tt,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(ge.childChangedChange(e,r,i))}else n.trackChildChange(ge.childAddedChange(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Mt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),me=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Object(o.f)(e===ge.CHILD_ADDED||e===ge.CHILD_CHANGED||e===ge.CHILD_REMOVED,"Only child changes supported for tracking"),Object(o.f)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(e===ge.CHILD_ADDED&&i===ge.CHILD_REMOVED)this.changeMap.set(n,ge.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e===ge.CHILD_REMOVED&&i===ge.CHILD_ADDED)this.changeMap.delete(n);else if(e===ge.CHILD_REMOVED&&i===ge.CHILD_CHANGED)this.changeMap.set(n,ge.childRemovedChange(n,r.oldSnap));else if(e===ge.CHILD_CHANGED&&i===ge.CHILD_ADDED)this.changeMap.set(n,ge.childAddedChange(n,t.snapshotNode));else{if(e!==ge.CHILD_CHANGED||i!==ge.CHILD_CHANGED)throw Object(o.g)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,ge.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),be=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),_e=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new de(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),we=function(t,e){this.viewCache=t,this.changes=e},Ee=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){Object(o.f)(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),Object(o.f)(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var a,s,u=new me;if(n.type===se.OVERWRITE){var c=n;c.source.fromUser?a=this.applyUserOverwrite_(e,c.path,c.snap,r,i,u):(Object(o.f)(c.source.fromServer,"Unknown source."),s=c.source.tagged||e.getServerCache().isFiltered()&&!c.path.isEmpty(),a=this.applyServerOverwrite_(e,c.path,c.snap,r,i,s,u))}else if(n.type===se.MERGE){var l=n;l.source.fromUser?a=this.applyUserMerge_(e,l.path,l.children,r,i,u):(Object(o.f)(l.source.fromServer,"Unknown source."),s=l.source.tagged||e.getServerCache().isFiltered(),a=this.applyServerMerge_(e,l.path,l.children,r,i,s,u))}else if(n.type===se.ACK_USER_WRITE){var h=n;a=h.revert?this.revertUserWrite_(e,h.path,r,i,u):this.ackUserWrite_(e,h.path,h.affectedTree,r,i,u)}else{if(n.type!==se.LISTEN_COMPLETE)throw Object(o.g)("Unknown operation type: "+n.type);a=this.listenComplete_(e,n.path,r,u)}var f=u.getChanges();return t.maybeAddValueEvent_(e,a,f),new we(a,f)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ge.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var a=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var s=void 0,u=void 0;if(e.isEmpty())if(Object(o.f)(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var c=t.getCompleteServerSnap(),l=n.calcCompleteEventChildren(c instanceof Mt?c:Mt.EMPTY_NODE);s=this.filter_.updateFullNode(t.getEventCache().getNode(),l,i)}else{var h=n.calcCompleteEventCache(t.getCompleteServerSnap());s=this.filter_.updateFullNode(t.getEventCache().getNode(),h,i)}else{var f=e.getFront();if(".priority"===f){Object(o.f)(1===e.getLength(),"Can't have a priority with additional path components");var p=a.getNode();u=t.getServerCache().getNode();var d=n.calcEventCacheAfterServerOverwrite(e,p,u);s=null!=d?this.filter_.updatePriority(p,d):a.getNode()}else{var v=e.popFront(),g=void 0;if(a.isCompleteForChild(f)){u=t.getServerCache().getNode();var y=n.calcEventCacheAfterServerOverwrite(e,a.getNode(),u);g=null!=y?a.getNode().getImmediateChild(f).updateChild(v,y):a.getNode().getImmediateChild(f)}else g=n.calcCompleteChild(f,t.getServerCache());s=null!=g?this.filter_.updateChild(a.getNode(),f,g,v,r,i):a.getNode()}}return t.updateEventSnap(s,a.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,a){var s,u=t.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())s=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(e,n);s=c.updateFullNode(u.getNode(),l,null)}else{var h=e.getFront();if(!u.isCompleteForPath(e)&&e.getLength()>1)return t;var f=e.popFront(),p=u.getNode().getImmediateChild(h).updateChild(f,n);s=".priority"===h?c.updatePriority(u.getNode(),p):c.updateChild(u.getNode(),h,p,f,be,null)}var d=t.updateServerSnap(s,u.isFullyInitialized()||e.isEmpty(),c.filtersNodes()),v=new _e(r,d,i);return this.generateEventCacheAfterServerEvent_(d,e,r,v,a)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var a,s,u=t.getEventCache(),c=new _e(r,t,i);if(e.isEmpty())s=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),a=t.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var l=e.getFront();if(".priority"===l)s=this.filter_.updatePriority(t.getEventCache().getNode(),n),a=t.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered());else{var h=e.popFront(),f=u.getNode().getImmediateChild(l),p=void 0;if(h.isEmpty())p=n;else{var d=c.getCompleteChild(l);p=null!=d?".priority"===h.getBack()&&d.getChild(h.parent()).isEmpty()?d:d.updateChild(h,n):Mt.EMPTY_NODE}if(f.equals(p))a=t;else{var v=this.filter_.updateChild(u.getNode(),l,p,h,c,o);a=t.updateEventSnap(v,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,a){var s=this,u=e;return r.foreach((function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())&&(u=s.applyUserOverwrite_(u,l,c,i,o,a))})),r.foreach((function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())||(u=s.applyUserOverwrite_(u,l,c,i,o,a))})),u},t.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,a){var s=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,c=t;u=e.isEmpty()?n:le.Empty.setTree(e,n);var l=t.getServerCache().getNode();return u.children.inorderTraversal((function(e,n){if(l.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),h=s.applyMerge_(u,n);c=s.applyServerOverwrite_(c,new Y(e),h,r,i,o,a)}})),u.children.inorderTraversal((function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!l.hasChild(e)&&!u){var h=t.getServerCache().getNode().getImmediateChild(e),f=s.applyMerge_(h,n);c=s.applyServerOverwrite_(c,new Y(e),f,r,i,o,a)}})),c},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var a=t.getServerCache().isFiltered(),s=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,s.getNode().getChild(e),r,i,a,o);if(e.isEmpty()){var u=le.Empty;return s.getNode().forEachChild(Et,(function(t,e){u=u.set(new Y(t),e)})),this.applyServerMerge_(t,e,u,r,i,a,o)}return t}var c=le.Empty;return n.foreach((function(t,n){var r=e.child(t);s.isCompleteForPath(r)&&(c=c.set(t,s.getNode().getChild(r)))})),this.applyServerMerge_(t,e,c,r,i,a,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,be,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var a;if(null!=n.shadowingWrite(e))return t;var s=new _e(n,t,r),u=t.getEventCache().getNode(),c=void 0;if(e.isEmpty()||".priority"===e.getFront()){var l=void 0;if(t.getServerCache().isFullyInitialized())l=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var h=t.getServerCache().getNode();Object(o.f)(h instanceof Mt,"serverChildren would be complete if leaf node"),l=n.calcCompleteEventChildren(h)}c=this.filter_.updateFullNode(u,l=l,i)}else{var f=e.getFront(),p=n.calcCompleteChild(f,t.getServerCache());null==p&&t.getServerCache().isCompleteForChild(f)&&(p=u.getImmediateChild(f)),(c=null!=p?this.filter_.updateChild(u,f,p,e.popFront(),s,i):t.getEventCache().getNode().hasChild(f)?this.filter_.updateChild(u,f,Mt.EMPTY_NODE,e.popFront(),s,i):u).isEmpty()&&t.getServerCache().isFullyInitialized()&&(a=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(c=this.filter_.updateFullNode(c,a,i))}return a=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(Y.Empty),t.updateEventSnap(c,a,this.filter_.filtersNodes())},t}(),ke=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach((function(t){t.type===ge.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(ge.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(i,ge.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,ge.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,ge.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,ge.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,ge.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,a=n.filter((function(t){return t.type===e}));a.sort(this.compareChanges_.bind(this)),a.forEach((function(e){var n=o.materializeSingleChange_(e,i);r.forEach((function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))}))}))},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw Object(o.g)("Should only compare child_ events.");var n=new bt(t.childName,t.snapshotNode),r=new bt(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),Ie=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new ye(n.getIndex()),i=n.getNodeFilter();this.processor_=new Ee(i);var o=e.getServerCache(),a=e.getEventCache(),s=r.updateFullNode(Mt.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(Mt.EMPTY_NODE,a.getNode(),null),c=new de(s,o.isFullyInitialized(),r.filtersNodes()),l=new de(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=new ve(l,c),this.eventGenerator_=new ke(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){Object(o.f)(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(t){var i=t.createCancelEvent(e=e,r);i&&n.push(i)}))}if(t){for(var i=[],a=0;a<this.eventRegistrations_.length;++a){var s=this.eventRegistrations_[a];if(s.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(a+1));break}}else i.push(s)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===se.MERGE&&null!==t.source.queryId&&(Object(o.f)(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),Object(o.f)(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),Object(o.f)(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Tt,(function(t,e){n.push(ge.childAddedChange(t,e))})),e.isFullyInitialized()&&n.push(ge.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){return this.eventGenerator_.generateEventsForChanges(t,e,n?[n]:this.eventRegistrations_)},t}(),Ce=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return Object(o.f)(oe,"Reference.ts has not been loaded"),oe},set:function(t){Object(o.f)(!oe,"__referenceConstructor has already been defined"),oe=t},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var r,a,s=t.source.queryId;if(null!==s){var u=this.views.get(s);return Object(o.f)(null!=u,"SyncTree gave us an op for an invalid query."),u.applyOperation(t,e,n)}var c=[];try{for(var l=Object(i.h)(this.views.values()),h=l.next();!h.done;h=l.next())c=c.concat((u=h.value).applyOperation(t,e,n))}catch(f){r={error:f}}finally{try{h&&!h.done&&(a=l.return)&&a.call(l)}finally{if(r)throw r.error}}return c},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),a=this.views.get(o);if(!a){var s=n.calcCompleteEventCache(i?r:null),u=!1;s?u=!0:r instanceof Mt?(s=n.calcCompleteEventChildren(r),u=!1):(s=Mt.EMPTY_NODE,u=!1);var c=new ve(new de(s,u,!1),new de(r,i,!1));a=new Ie(t,c),this.views.set(o,a)}return a.addEventRegistration(e),a.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var o,a,s=e.queryIdentifier(),u=[],c=[],l=this.hasCompleteView();if("default"===s)try{for(var h=Object(i.h)(this.views.entries()),f=h.next();!f.done;f=h.next()){var p,d=Object(i.e)(f.value,2),v=d[0];c=c.concat((p=d[1]).removeEventRegistration(n,r)),p.isEmpty()&&(this.views.delete(v),p.getQuery().getQueryParams().loadsAllData()||u.push(p.getQuery()))}}catch(g){o={error:g}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}else(p=this.views.get(s))&&(c=c.concat(p.removeEventRegistration(n,r)),p.isEmpty()&&(this.views.delete(s),p.getQuery().getQueryParams().loadsAllData()||u.push(p.getQuery())));return l&&!this.hasCompleteView()&&u.push(new t.__referenceConstructor(e.repo,e.path)),{removed:u,events:c}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=Object(i.h)(this.views.values()),o=r.next();!o.done;o=r.next()){var a=o.value;a.getQuery().getQueryParams().loadsAllData()||n.push(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var o=Object(i.h)(this.views.values()),a=o.next();!a.done;a=o.next())r=r||a.value.getCompleteServerCache(t)}catch(s){e={error:s}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=Object(i.h)(this.views.values()),r=n.next();!r.done;r=n.next()){var o=r.value;if(o.getQuery().getQueryParams().loadsAllData())return o}}catch(a){t={error:a}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),Te=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new le(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,a=Y.relativePath(i,e);return o=o.updateChild(a,n),new t(this.writeTree_.set(i,o))}var s=new le(n);return new t(this.writeTree_.setTree(e,s))},t.prototype.addWrites=function(t,e){var n=this;return R(e,(function(e,r){n=n.addWrite(t.child(e),r)})),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,le.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(Y.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Tt,(function(e,n){t.push(new bt(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new bt(e,n.value))})),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new le(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal((function(n,a){".priority"===n?(Object(o.f)(null!==a.value,"Priority writes must always be leaf nodes"),i=a.value):r=t(e.child(n),a,r)})),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(".priority"),i)),r}(Y.Empty,this.writeTree_,t)},t.Empty=new t(new le(null)),t}(),Se=function(){function t(){this.visibleWrites_=Te.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new Oe(t,this)},t.prototype.addOverwrite=function(t,e,n,r){Object(o.f)(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){Object(o.f)(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));Object(o.f)(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,a=!1,s=this.allWrites_.length-1;i&&s>=0;){var u=this.allWrites_[s];u.visible&&(s>=n&&this.recordContainsPath_(u,r.path)?i=!1:r.path.contains(u.path)&&(a=!0)),s--}return!!i&&(a?(this.resetTree_(),!0):(r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):R(r.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))})),!0))},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);return!i&&o.isEmpty()?n:i||null!=n||o.hasCompleteWrite(Y.Empty)?t.layerTree_(this.allWrites_,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))}),e).apply(n||Mt.EMPTY_NODE):null}var a=this.visibleWrites_.getCompleteNode(e);if(null!=a)return a;var s=this.visibleWrites_.childCompoundWrite(e);return s.isEmpty()?n:null!=n||s.hasCompleteWrite(Y.Empty)?s.apply(n||Mt.EMPTY_NODE):null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Mt.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(Tt,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Tt,(function(t,e){var r=i.childCompoundWrite(new Y(t)).apply(e);n=n.updateImmediateChild(t,r)})),i.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){Object(o.f)(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var a=this.visibleWrites_.childCompoundWrite(i);return a.isEmpty()?r.getChild(e):a.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var a,s=this.visibleWrites_.childCompoundWrite(t),u=s.getCompleteNode(Y.Empty);if(null!=u)a=u;else{if(null==e)return[];a=s.apply(e)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];for(var c=[],l=o.getCompare(),h=i?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),f=h.getNext();f&&c.length<r;)0!==l(f,n)&&c.push(f),f=h.getNext();return c},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,Y.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=Te.Empty,i=0;i<t.length;++i){var a=t[i];if(e(a)){var s=a.path,u=void 0;if(a.snap)n.contains(s)?(u=Y.relativePath(n,s),r=r.addWrite(u,a.snap)):s.contains(n)&&(u=Y.relativePath(s,n),r=r.addWrite(Y.Empty,a.snap.getChild(u)));else{if(!a.children)throw Object(o.g)("WriteRecord should have .snap or .children");if(n.contains(s))u=Y.relativePath(n,s),r=r.addWrites(u,a.children);else if(s.contains(n))if((u=Y.relativePath(s,n)).isEmpty())r=r.addWrites(Y.Empty,a.children);else{var c=Object(o.G)(a.children,u.getFront());if(c){var l=c.getChild(u.popFront());r=r.addWrite(Y.Empty,l)}}}}}return r},t}(),Oe=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),Ae=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=le.Empty,this.pendingWriteTree_=new Se,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new fe(ue.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=le.fromObject(e);return this.applyOperationToSyncPoints_(new pe(ue.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=le.Empty;return null!=n.snap?r=r.set(Y.Empty,!0):R(n.children,(function(t,e){r=r.set(new Y(t),e)})),this.applyOperationToSyncPoints_(new ce(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new fe(ue.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=le.fromObject(e);return this.applyOperationToSyncPoints_(new pe(ue.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new he(ue.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=Y.relativePath(a,e),c=new fe(ue.forServerTaggedQuery(s),u,n);return this.applyTaggedOperation_(a,c)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=Y.relativePath(a,e),c=le.fromObject(n),l=new pe(ue.forServerTaggedQuery(s),u,c);return this.applyTaggedOperation_(a,l)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,a=i.queryId,s=Y.relativePath(o,e),u=new he(ue.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(o,u)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,a=!1;this.syncPointTree_.foreachOnPath(r,(function(t,e){var n=Y.relativePath(t,r);i=i||e.getCompleteServerCache(n),a=a||e.hasCompleteView()}));var s,u=this.syncPointTree_.get(r);u?(a=a||u.hasCompleteView(),i=i||u.getCompleteServerCache(Y.Empty)):(u=new Ce,this.syncPointTree_=this.syncPointTree_.set(r,u)),null!=i?s=!0:(s=!1,i=Mt.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=e.getCompleteServerCache(Y.Empty);n&&(i=i.updateImmediateChild(t,n))})));var c=u.viewExistsForQuery(e);if(!c&&!e.getQueryParams().loadsAllData()){var l=t.makeQueryKey_(e);Object(o.f)(!this.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=t.getNextQueryTag_();this.queryToTagMap.set(l,h),this.tagToQueryMap.set(h,l)}var f=this.pendingWriteTree_.childWrites(r),p=u.addEventRegistration(e,n,f,i,s);if(!c&&!a){var d=u.viewForQuery(e);p=p.concat(this.setupListener_(e,d))}return p},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,a=this.syncPointTree_.get(o),s=[];if(a&&("default"===e.queryIdentifier()||a.viewExistsForQuery(e))){var u=a.removeEventRegistration(e,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var c=u.removed;s=u.events;var l=-1!==c.findIndex((function(t){return t.getQueryParams().loadsAllData()})),h=this.syncPointTree_.findOnPath(o,(function(t,e){return e.hasCompleteView()}));if(l&&!h){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(f),d=0;d<p.length;++d){var v=p[d],g=v.getQuery(),y=this.createListenerForView_(v);this.listenProvider_.startListening(t.queryForListening_(g),this.tagForQuery_(g),y.hashFn,y.onComplete)}}!h&&c.length>0&&!r&&(l?this.listenProvider_.stopListening(t.queryForListening_(e),null):c.forEach((function(e){var n=i.queryToTagMap.get(t.makeQueryKey_(e));i.listenProvider_.stopListening(t.queryForListening_(e),n)}))),this.removeTags_(c)}return s},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,(function(e,n){var r=Y.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),R(n,(function(t,e){r=r.concat(e)})),r}))},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),a=this.createListenerForView_(n),s=this.listenProvider_.startListening(t.queryForListening_(e),i,a.hashFn,a.onComplete),u=this.syncPointTree_.subtree(r);if(i)Object(o.f)(!u.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),R(n,(function(t,e){r=r.concat(e)})),r})),l=0;l<c.length;++l){var h=c[l];this.listenProvider_.stopListening(t.queryForListening_(h),this.tagForQuery_(h))}return s},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Mt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return Object(o.f)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Y(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);Object(o.f)(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(Y.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(Y.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(Y.Empty));var o=[],a=t.path.getFront(),s=t.operationForChild(a),u=e.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=r.child(a);o=o.concat(this.applyOperationHelper_(s,u,c,l))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(Y.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(Y.Empty));var a=[];return e.children.inorderTraversal((function(e,o){var s=n?n.getImmediateChild(e):null,u=r.child(e),c=t.operationForChild(e);c&&(a=a.concat(i.applyOperationDescendantsHelper_(c,o,s,u)))})),o&&(a=a.concat(o.applyOperation(t,r,n))),a},t.nextQueryTag_=1,t}(),Ne=function(){function t(){this.rootNode_=Mt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Pe=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Object(o.k)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Object(o.m)(this.counters_)},t}(),xe=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Pe),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Re=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=Object(i.a)({},t);return this.last_&&R(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),je=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Re(t);var n=1e4+2e4*Math.random();Q(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;R(e,(function(e,i){i>0&&Object(o.k)(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),Q(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),De=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Le(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Le=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();y&&_("event: "+e.toString()),G(n)}}},t.prototype.getPath=function(){return this.path_},t}(),Fe=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Object(o.f)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=Object(i.f)(this.listeners_[t]),o=0;o<r.length;o++)r[o].callback.apply(r[o].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){Object(o.f)(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),Me=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return Object(i.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o.f)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(Fe),Ue=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Object(o.x)()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return Object(i.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o.f)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Fe),Ve=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&G((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),qe=function(){function t(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=w(t),this.stats_=xe.getCollection(e),this.urlFn=function(t){return e.connectionURL("long_polling",t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Ve(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(Object(o.z)()||"complete"===document.readyState)t();else{var e=!1,n=function n(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Be((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(i.e)(t,5),o=r[0],a=r[1],s=r[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===o)n.id=a,n.password=s;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(i.e)(t,2),o=r[0],a=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(o,a)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(Object(o.z)()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=Object(o.J)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=Object(o.i)(e),r=x(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!Object(o.z)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=Object(o.J)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),Be=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(o.z)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=d(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(a='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){_("frame writing exception"),u.stack&&_(u.stack),_(u)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||_("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;Object(o.z)()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){_("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},t}(),He="";function ze(t){He=t}var We=null;"undefined"!=typeof MozWebSocket?We=MozWebSocket:"undefined"!=typeof WebSocket&&(We=WebSocket);var Ke=function(){function t(e,n,r,i,o){this.connId=e,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=w(this.connId),this.stats_=xe.getCollection(n),this.connURL=t.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n){var r={v:"5"};return!Object(o.z)()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL("websocket",r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,h.set("previous_websocket_failure",!0);try{if(Object(o.z)()){var r={headers:{"User-Agent":"Firebase/5/"+He+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}},i=process.env,a=0===this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;a&&(r.proxy={origin:a}),this.mySock=new We(this.connURL,[],r)}else this.mySock=new We(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||""}})}catch(u){this.log_("Error instantiating WebSocket.");var s=u.message||u.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==We&&!t.forceDisallow_},t.previouslyFailed=function(){return h.isInMemoryStorage||!0===h.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){h.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=Object(o.D)(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(Object(o.f)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=Object(o.J)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=x(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),Ge=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[qe,Ke]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,o=Ke&&Ke.isAvailable(),a=o&&!Ke.previouslyFailed();if(e.webSocketOnly&&(o||I("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[Ke];else{var s=this.transports_=[];try{for(var u=Object(i.h)(t.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Qe=function(){function t(t,e,n,r,i,o,a,s){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=a,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=w("c:"+this.id+":"),this.transportManager_=new Ge(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Q((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=N("t",t),n=N("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=N("t",t),n=N("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=N("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?E("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):E("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&I("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Q((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Q((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(h.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),Ye=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),Xe=function(t){function e(n,r,i,a,s,u,c){var l=t.call(this)||this;if(l.repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=s,l.authTokenProvider_=u,l.authOverride_=c,l.id=e.nextPersistentConnectionId_++,l.log_=w("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingPutCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=1e3,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Object(o.z)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),Me.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&Ue.getInstance().on("online",l.onOnline_,l),l}return Object(i.c)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(Object(o.J)(i)),Object(o.f)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),a=t.path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Object(o.f)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),Object(o.f)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};t.tag&&(a.q=r.queryObject(),a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;e.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,s))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&Object(o.k)(t,"w")){var n=Object(o.G)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();I("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||Object(o.q)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=Object(o.C)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),Object(o.f)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Object(o.J)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):E("Unrecognized action received from server: "+Object(o.J)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;Object(o.f)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){var t=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+e.nextConnectionId_++,s=this,u=this.lastSessionId,c=!1,l=null,h=function(){l?l.close():(c=!0,i())};this.realtime_={close:h,sendRequest:function(t){Object(o.f)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(t)}};var f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(f).then((function(t){c?_("getToken() completed but was canceled"):(_("getToken() completed. Creating connection."),s.authToken_=t&&t.accessToken,l=new Qe(a,s.repoInfo_,s.applicationId_,n,r,i,(function(t){I(t+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")}),u))})).then(null,(function(e){s.log_("Failed to get token: "+e),c||(t.repoInfo_.nodeAdmin&&I(e),h())}))}},e.prototype.interrupt=function(t){_("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){_("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Object(o.u)(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return P(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new Y(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){_("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var o=Object(i.h)(this.listens.values()),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var u=(n=void 0,Object(i.h)(s.values())),c=u.next();!c.done;c=u.next())this.sendListen_(c.value)}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(p){t={error:p}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";Object(o.z)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+He.replace(/\./g,"-")]=1,Object(o.x)()?t["framework.cordova"]=1:Object(o.A)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=Ue.getInstance().currentlyOnline();return Object(o.u)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(Ye),Je=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=w("p:rest:"),i.listens_={},i}return Object(i.c)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Object(o.f)(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var a=this,s=t.path.toString();this.log_("Listen called for "+s+" "+t.queryIdentifier());var u=e.getListenId_(t,r),c={};this.listens_[u]=c;var l=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(s+".json",l,(function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&a.onDataUpdate_(s,n,!1,r),Object(o.G)(a.listens_,u)===c&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var a=i&&i.accessToken;a&&(e.auth=a);var s=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+Object(o.F)(e);r.log_("Sending REST request for "+s);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+s+" received. status:",u.status,"response:",u.responseText);var t=null;if(u.status>=200&&u.status<300){try{t=Object(o.D)(u.responseText)}catch(e){I("Failed to parse JSON response for "+s+": "+u.responseText)}n(null,t)}else 401!==u.status&&404!==u.status&&I("Got unsuccessful REST response for "+s+" Status: "+u.status),n(u.status);n=null}},u.open("GET",s,!0),u.send()}))},e}(Ye),$e=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.app=n,this.authTokenProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new De,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new ae,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.start=function(){var t=this;if(this.stats_=xe.getCollection(this.repoInfo_),this.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new Je(this.repoInfo_,this.onDataUpdate_.bind(this),this.authTokenProvider_),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var e=this.app.options.databaseAuthVariableOverride;if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(o.J)(e)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}this.persistentConnection_=new Xe(this.repoInfo_,this.app.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),this.authTokenProvider_,e),this.server_=this.persistentConnection_}this.authTokenProvider_.addTokenChangeListener((function(e){t.server_.refreshAuthToken(e)})),this.statsReporter_=xe.getOrCreateReporter(this.repoInfo_,(function(){return new je(t.stats_,t.server_)})),this.transactionsInit_(),this.infoData_=new Ne,this.infoSyncTree_=new Ae({startListening:function(e,n,r,i){var o=[],a=t.infoData_.getNode(e.path);return a.isEmpty()||(o=t.infoSyncTree_.applyServerOverwrite(e.path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Ae({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,(function(n,r){var o=i(n,r);t.eventQueue_.raiseEventsForChangedPath(e.path,o)})),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})},t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new Y(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new Y(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var a=[];if(r)if(n){var s=Object(o.E)(e,(function(t){return Vt(t)}));a=this.serverSyncTree_.applyTaggedQueryMerge(i,s,r)}else{var u=Vt(e);a=this.serverSyncTree_.applyTaggedQueryOverwrite(i,u,r)}else if(n){var c=Object(o.E)(e,(function(t){return Vt(t)}));a=this.serverSyncTree_.applyServerMerge(i,c)}else{var l=Vt(e);a=this.serverSyncTree_.applyServerOverwrite(i,l)}var h=i;a.length>0&&(h=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(h,a)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;R(t,(function(t,n){e.updateInfo_(t,n)}))},t.prototype.updateInfo_=function(t,e){var n=new Y("/.info/"+t),r=Vt(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),a=Vt(e,n),s=this.serverSyncTree_.calcCompleteEventCache(t),u=ne(a,s,o),c=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserOverwrite(t,u,c,!0);this.eventQueue_.queueEvents(l),this.server_.put(t.toString(),a.val(!0),(function(e,n){var o="ok"===e;o||I("set at "+t+" failed: "+e);var a=i.serverSyncTree_.ackUserWrite(c,!o);i.eventQueue_.raiseEventsForChangedPath(t,a),i.callOnCompleteCallback(r,e,n)}));var h=this.abortTransactions_(t);this.rerunTransactions_(h),this.eventQueue_.raiseEventsForChangedPath(h,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),a={};if(R(e,(function(e,n){i=!1,a[e]=ee(t.child(e),Vt(n),r.serverSyncTree_,o)})),i)_("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var s=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserMerge(t,a,s);this.eventQueue_.queueEvents(u),this.server_.merge(t.toString(),e,(function(e,i){var o="ok"===e;o||I("update at "+t+" failed: "+e);var a=r.serverSyncTree_.ackUserWrite(s,!o),u=a.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(u,a),r.callOnCompleteCallback(n,e,i)})),R(e,(function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=new ae;this.onDisconnect_.forEachTree(Y.Empty,(function(r,i){var o=ee(r,i,t.serverSyncTree_,e);n.remember(r,o)}));var r=[];n.forEachTree(Y.Empty,(function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)})),this.onDisconnect_=new ae,this.eventQueue_.raiseEventsForChangedPath(Y.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)}))},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=Vt(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),(function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)}))},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=Vt(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)}))},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(Object(o.u)(e))return _("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,(function(i,o){"ok"===i&&R(e,(function(e,n){var i=Vt(n);r.onDisconnect_.remember(t.child(e),i)})),r.callOnCompleteCallback(n,i,o)}))},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Re(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce((function(t,e){return Math.max(e.length,t)}),0);R(e,(function(t,e){for(var r=t,i=t.length;i<n+2;i++)r+=" ";console.log(r+e)}))}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),_.apply(void 0,Object(i.f)([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&G((function(){if("ok"===e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}}))},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new hn(this))},enumerable:!1,configurable:!0}),t}(),Ze=function(){function t(e){this.indexedFilter_=new ye(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new bt(e,n))||(n=Mt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Mt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Mt.EMPTY_NODE);var i=this;return e.forEachChild(Tt,(function(t,e){i.matches(new bt(t,e))||(r=r.updateImmediateChild(t,Mt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),tn=function(){function t(t){this.rangedFilter_=new Ze(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new bt(e,n))||(n=Mt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Mt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Mt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Mt.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)a=i.getNext(),!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,Mt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(t,e){return s(e,t)}}else a=this.index_.getCompare();var u=t;Object(o.f)(u.numChildren()===this.limit_,"");var c=new bt(e,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(e)){for(var f=u.getImmediateChild(e),p=r.getChildAfterChild(this.index_,l,this.reverse_);null!=p&&(p.name===e||u.hasChild(p.name));)p=r.getChildAfterChild(this.index_,p,this.reverse_);var d=null==p?1:a(p,c);if(h&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(ge.childChangedChange(e,n,f)),u.updateImmediateChild(e,n);null!=i&&i.trackChildChange(ge.childRemovedChange(e,f));var v=u.updateImmediateChild(e,Mt.EMPTY_NODE);return null!=p&&this.rangedFilter_.matches(p)?(null!=i&&i.trackChildChange(ge.childAddedChange(p.name,p.node)),v.updateImmediateChild(p.name,p.node)):v}return n.isEmpty()?t:h&&a(l,c)>=0?(null!=i&&(i.trackChildChange(ge.childRemovedChange(l.name,l.node)),i.trackChildChange(ge.childAddedChange(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(l.name,Mt.EMPTY_NODE)):t},t}(),en=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Tt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return Object(o.f)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Object(o.f)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:T},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Object(o.f)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Object(o.f)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:S},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return Object(o.f)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==Tt&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Tt},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new ye(this.getIndex()):this.hasLimit()?new tn(this):new Ze(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()||(this.index_===Tt?e=n.PRIORITY_INDEX:this.index_===Bt?e=n.VALUE_INDEX:this.index_===Et?e=n.KEY_INDEX:(Object(o.f)(this.index_ instanceof Ht,"Unrecognized index type!"),e=this.index_.toString()),r[n.ORDER_BY]=Object(o.J)(e),this.startSet_&&(r[n.START_AT]=Object(o.J)(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+Object(o.J)(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=Object(o.J)(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+Object(o.J)(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_)),r},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),nn=function(t){function e(e,n){if(!(e instanceof $e))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,en.DEFAULT,!1)||this}return Object(i.c)(e,t),e.prototype.getKey=function(){return Object(o.K)("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return Object(o.K)("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof Y||(null===this.path.getFront()?ft("Reference.child",1,t,!1):ht("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){Object(o.K)("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){Object(o.K)("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){Object(o.K)("Reference.set",1,2,arguments.length),pt("Reference.set",this.path),ot("Reference.set",1,t,this.path,!1),Object(o.L)("Reference.set",2,e,!0);var n=new o.a;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(Object(o.K)("Reference.update",1,2,arguments.length),pt("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,I("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}st("Reference.update",1,t,this.path,!1),Object(o.L)("Reference.update",2,e,!0);var i=new o.a;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(Object(o.K)("Reference.setWithPriority",2,3,arguments.length),pt("Reference.setWithPriority",this.path),ot("Reference.setWithPriority",1,t,this.path,!1),ut("Reference.setWithPriority",2,e,!1),Object(o.L)("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new o.a;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return Object(o.K)("Reference.remove",0,1,arguments.length),pt("Reference.remove",this.path),Object(o.L)("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(Object(o.K)("Reference.transaction",1,3,arguments.length),pt("Reference.transaction",this.path),Object(o.L)("Reference.transaction",1,t,!1),Object(o.L)("Reference.transaction",2,e,!0),vt("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new o.a;"function"==typeof e&&r.promise.catch((function(){}));var i=function(t,n,i){t?r.reject(t):r.resolve(new yt(n,i)),"function"==typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){Object(o.K)("Reference.setPriority",1,2,arguments.length),pt("Reference.setPriority",this.path),ut("Reference.setPriority",1,t,!1),Object(o.L)("Reference.setPriority",2,e,!0);var n=new o.a;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){Object(o.K)("Reference.push",0,2,arguments.length),pt("Reference.push",this.path),ot("Reference.push",1,t,this.path,!0),Object(o.L)("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=mt(r),a=this.child(i),s=this.child(i);return n=null!=t?a.set(t,e).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch((function(){})),a},e.prototype.onDisconnect=function(){return pt("Reference.onDisconnect",this.path),new gt(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Yt);Yt.__referenceConstructor=nn,Ce.__referenceConstructor=nn;var rn=function(){this.children={},this.childCount=0,this.value=null},on=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new rn),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n=e instanceof Y?e:new Y(e),r=this,i=n.getFront();null!==i;)r=new t(i,r,Object(o.G)(r.node_.children,i)||new rn),i=(n=n.popFront()).getFront();return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){Object(o.f)(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;R(this.node_.children,(function(r,i){e(new t(r,n,i))}))},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},t.prototype.path=function(){return new Y(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=Object(o.k)(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}(),an=function(t){return t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT",t}({});$e.MAX_TRANSACTION_RETRIES_=25,$e.prototype.transactionsInit_=function(){this.transactionQueueTree_=new on},$e.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var i=function(){},a=new nn(this,t);a.on("value",i);var s={path:t,update:e,onComplete:n,status:null,order:d(),applyLocally:r,retryCount:0,unwatcher:function(){a.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=this.getLatestState_(t);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c){if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var l=new zt(s.currentInputSnapshot,new nn(this,s.path),Tt);s.onComplete(null,!1,l)}}else{at("transaction failed: Data returned ",c,s.path),s.status=an.RUN;var h=this.transactionQueueTree_.subTree(t),f=h.getValue()||[];f.push(s),h.setValue(f);var p=void 0;"object"==typeof c&&null!==c&&Object(o.k)(c,".priority")?(p=Object(o.G)(c,".priority"),Object(o.f)(it(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(this.serverSyncTree_.calcCompleteEventCache(t)||Mt.EMPTY_NODE).getPriority().val(),p=p;var v=this.generateServerValues(),g=Vt(c,p),y=ne(g,u,v);s.currentOutputSnapshotRaw=g,s.currentOutputSnapshotResolved=y,s.currentWriteId=this.getNextWriteId_();var m=this.serverSyncTree_.applyUserOverwrite(t,y,s.currentWriteId,s.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,m),this.sendReadyTransactions_()}},$e.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Mt.EMPTY_NODE},$e.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);Object(o.f)(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return t.status===an.RUN}))&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild((function(t){e.sendReadyTransactions_(t)}))},$e.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map((function(t){return t.currentWriteId})),i=this.getLatestState_(t,r),a=i,s=i.hash(),u=0;u<e.length;u++){var c=e[u];Object(o.f)(c.status===an.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=an.SENT,c.retryCount++;var l=Y.relativePath(t,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var h=a.val(!0),f=t;this.server_.put(f.toString(),h,(function(r){n.log_("transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<e.length;a++){if(e[a].status=an.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[a].currentWriteId)),e[a].onComplete){var s=e[a].currentOutputSnapshotResolved,u=new nn(n,e[a].path),c=new zt(s,u,Tt);o.push(e[a].onComplete.bind(null,null,!0,c))}e[a].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i),a=0;a<o.length;a++)G(o[a])}else{if("datastale"===r)for(a=0;a<e.length;a++)e[a].status=e[a].status===an.SENT_NEEDS_ABORT?an.NEEDS_ABORT:an.RUN;else for(I("transaction at "+f.toString()+" failed: "+r),a=0;a<e.length;a++)e[a].status=an.NEEDS_ABORT,e[a].abortReason=r;n.rerunTransactions_(t)}}),s)},$e.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},$e.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],r=[],i=t.filter((function(t){return t.status===an.RUN})).map((function(t){return t.currentWriteId})),a=0;a<t.length;a++){var s=t[a],u=Y.relativePath(e,s.path),c=!1,l=void 0;if(Object(o.f)(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),s.status===an.NEEDS_ABORT)c=!0,l=s.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else if(s.status===an.RUN)if(s.retryCount>=$e.MAX_TRANSACTION_RETRIES_)c=!0,l="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else{var h=this.getLatestState_(s.path,i);s.currentInputSnapshot=h;var f=t[a].update(h.val());if(void 0!==f){at("transaction failed: Data returned ",f,s.path);var p=Vt(f);"object"==typeof f&&null!=f&&Object(o.k)(f,".priority")||(p=p.updatePriority(h.getPriority()));var d=s.currentWriteId,v=this.generateServerValues(),g=ne(p,h,v);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=g,s.currentWriteId=this.getNextWriteId_(),i.splice(i.indexOf(d),1),r=(r=r.concat(this.serverSyncTree_.applyUserOverwrite(s.path,g,s.currentWriteId,s.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(d,!0))}else c=!0,l="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,r),r=[],c&&(t[a].status=an.COMPLETED,setTimeout(t[a].unwatcher,Math.floor(0)),t[a].onComplete))if("nodata"===l){var y=new nn(this,t[a].path),m=new zt(t[a].currentInputSnapshot,y,Tt);n.push(t[a].onComplete.bind(null,null,!1,m))}else n.push(t[a].onComplete.bind(null,new Error(l),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),a=0;a<n.length;a++)G(n[a]);this.sendReadyTransactions_()}},$e.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=t.getFront();null!==e&&null===n.getValue();)n=n.subTree(e),e=(t=t.popFront()).getFront();return n},$e.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},$e.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},$e.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==an.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},$e.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},$e.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,a=0;a<e.length;a++)e[a].status===an.SENT_NEEDS_ABORT||(e[a].status===an.SENT?(Object(o.f)(i===a-1,"All SENT items should be at beginning of queue."),i=a,e[a].status=an.SENT_NEEDS_ABORT,e[a].abortReason="set"):(Object(o.f)(e[a].status===an.RUN,"Unexpected transaction status in abort"),e[a].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[a].currentWriteId,!0)),e[a].onComplete&&n.push(e[a].onComplete.bind(null,new Error("set"),!1,null))));for(-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r),a=0;a<n.length;a++)G(n[a])}};var sn,un=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(_("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';I(t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),cn=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN="owner",t}(),ln=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return sn||(sn=new t),sn},t.prototype.interrupt=function(){var t,e,n,r;try{for(var o=Object(i.h)(Object.keys(this.repos_)),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var u=(n=void 0,Object(i.h)(Object.keys(this.repos_[s]))),c=u.next();!c.done;c=u.next())this.repos_[s][c.value].interrupt()}catch(l){n={error:l}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},t.prototype.resume=function(){var t,e,n,r;try{for(var o=Object(i.h)(Object.keys(this.repos_)),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var u=(n=void 0,Object(i.h)(Object.keys(this.repos_[s]))),c=u.next();!c.done;c=u.next())this.repos_[s][c.value].resume()}catch(l){n={error:l}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},t.prototype.applyEmulatorSettings=function(t,e,n){t.repoInfo_=new J(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),t.repoInfo_.nodeAdmin&&(t.authTokenProvider_=new cn)},t.prototype.databaseFromApp=function(t,e,n,r){var i=n||t.options.databaseURL;void 0===i&&(t.options.projectId||k("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_("Using default host for project ",t.options.projectId),i=t.options.projectId+"-default-rtdb.firebaseio.com");var o,a=$(i,r),s=a.repoInfo,u=void 0;"undefined"!=typeof process&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(o=!0,s=(a=$(i="http://"+u+"?ns="+s.namespace,r)).repoInfo):o=!a.repoInfo.secure;var c=r&&o?new cn:new un(t,e);return dt("Invalid Firebase Database URL",1,a),a.path.isEmpty()||k("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(s,t,c).database},t.prototype.deleteRepo=function(t){var e=Object(o.G)(this.repos_,t.app.name);e&&Object(o.G)(e,t.key)===t||k("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.key]},t.prototype.createRepo=function(t,e,n){var r=Object(o.G)(this.repos_,e.name);r||(this.repos_[e.name]=r={});var i=Object(o.G)(r,t.toURLString());return i&&k("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new $e(t,this.useRestClient_,e,n),r[t.toURLString()]=i,i},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),hn=function(){function t(t){var e=this;this.repoInternal_=t,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return Object(i.b)(e,void 0,void 0,(function(){return Object(i.d)(this,(function(t){return this.checkDeleted_("delete"),ln.getInstance().deleteRepo(this.repo_),this.repoInternal_=null,this.rootInternal_=null,[2]}))}))}},t instanceof $e||k("Don't call new Database() directly - please use firebase.database().")}return Object.defineProperty(t.prototype,"repo_",{get:function(){return this.instanceStarted_||(this.repoInternal_.start(),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root_",{get:function(){return this.rootInternal_||(this.rootInternal_=new nn(this.repo_,Y.Empty)),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.useEmulator=function(t,e){this.checkDeleted_("useEmulator"),this.instanceStarted_?k("Cannot call useEmulator() after instance has already been initialized."):ln.getInstance().applyEmulatorSettings(this.repoInternal_,t,e)},t.prototype.ref=function(t){return this.checkDeleted_("ref"),Object(o.K)("database.ref",0,1,arguments.length),t instanceof nn?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),Object(o.K)(e,1,1,arguments.length);var n=$(t,this.repo_.repoInfo_.nodeAdmin);dt(e,1,n);var r=n.repoInfo;return r.isCustomHost()||r.host===this.repo_.repoInfo_.host||k(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repoInternal_&&k("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){Object(o.K)("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){Object(o.K)("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},t}(),fn=Object.freeze({__proto__:null,forceLongPolling:function(){Ke.forceDisallow(),qe.forceAllow()},forceWebSockets:function(){qe.forceDisallow()},isWebSocketsAvailable:function(){return Ke.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.customAuthImpl,i=t.namespace,o=t.nodeAdmin,a=void 0!==o&&o;ze(t.version);var u=new s.c("auth-internal",new s.b("database-standalone"));return u.setComponent(new s.a("auth-internal",(function(){return r}),"PRIVATE")),{instance:ln.getInstance().databaseFromApp(e,u,n,a),namespace:i}}}),pn=Xe;Xe.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Xe.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var dn=Object.freeze({__proto__:null,DataConnection:pn,RealTimeConnection:Qe,hijackHash:function(t){var e=Xe.prototype.put;return Xe.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){Xe.prototype.put=e}},ConnectionTarget:J,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){ln.getInstance().forceRestClient(t)}}),vn=hn.ServerValue;!function(e){ze(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new s.a("database",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return ln.getInstance().databaseFromApp(n,r,e)}),"PUBLIC").setServiceProps({Reference:nn,Query:Yt,Database:hn,DataSnapshot:zt,enableLogging:b,INTERNAL:fn,ServerValue:vn,TEST_ACCESS:dn}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.7.1"),Object(o.z)()&&(t.exports=n)}(r.a)}).call(this,n("3UD+")(t))},WVRz:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return s})),n.d(e,"h",(function(){return u})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function s(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}},nbvr:function(t,e,n){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function r(t,e,r){var i,o=new Promise((function(o,a){n(i=t[e].apply(t,r)).then(o,a)}));return o.request=i,o}function i(t,e,n){var i=r(t,e,n);return i.then((function(t){if(t)return new l(t,i.request)}))}function o(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function a(t,e,n,i){i.forEach((function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})}))}function s(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function u(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})}))}function c(t){this._index=t}function l(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function f(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function p(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new f(n)}function d(t){this._db=t}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(l.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then((function(t){if(t)return new l(t,e._request)}))}))})})),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),a(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),p.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["deleteObjectStore","close"]),d.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[h,c].forEach((function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,h].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})})),t.openDb=function(t,e,n){var i=r(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){n&&n(new p(o.result,t.oldVersion,o.transaction))}),i.then((function(t){return new d(t)}))},t.deleteDb=function(t){return r(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return p}));var o=[],a=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),s={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},u=a.INFO,c=((i={})[a.DEBUG]="log",i[a.VERBOSE]="log",i[a.INFO]="info",i[a.WARN]="warn",i[a.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in a))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],t)),this._logHandler.apply(this,r([this,a.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],t)),this._logHandler.apply(this,r([this,a.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],t)),this._logHandler.apply(this,r([this,a.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],t)),this._logHandler.apply(this,r([this,a.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],t)),this._logHandler.apply(this,r([this,a.ERROR],t))},t}();function f(t){o.forEach((function(e){e.setLogLevel(t)}))}function p(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:a[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return S})),n.d(e,"c",(function(){return T})),n.d(e,"d",(function(){return V})),n.d(e,"e",(function(){return C})),n.d(e,"f",(function(){return i})),n.d(e,"g",(function(){return o})),n.d(e,"h",(function(){return s})),n.d(e,"i",(function(){return u})),n.d(e,"j",(function(){return X})),n.d(e,"k",(function(){return D})),n.d(e,"l",(function(){return q})),n.d(e,"m",(function(){return l})),n.d(e,"n",(function(){return h})),n.d(e,"o",(function(){return W})),n.d(e,"p",(function(){return p})),n.d(e,"q",(function(){return j})),n.d(e,"r",(function(){return g})),n.d(e,"s",(function(){return y})),n.d(e,"t",(function(){return b})),n.d(e,"u",(function(){return F})),n.d(e,"v",(function(){return _})),n.d(e,"w",(function(){return k})),n.d(e,"x",(function(){return d})),n.d(e,"y",(function(){return v})),n.d(e,"z",(function(){return E})),n.d(e,"A",(function(){return m})),n.d(e,"B",(function(){return w})),n.d(e,"C",(function(){return R})),n.d(e,"D",(function(){return N})),n.d(e,"E",(function(){return M})),n.d(e,"F",(function(){return U})),n.d(e,"G",(function(){return L})),n.d(e,"H",(function(){return Y})),n.d(e,"I",(function(){return Q})),n.d(e,"J",(function(){return P})),n.d(e,"K",(function(){return z})),n.d(e,"L",(function(){return K})),n.d(e,"M",(function(){return G})),n.d(e,"N",(function(){return I}));var r=n("WVRz"),i=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&s)<<2|c>>6,h=63&c;u||(h=64,a||(l=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!==s&&(r.push(a<<4&240|s>>2),64!==u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){var e=a(t);return s.encodeByteArray(e,!0)},c=function(t){try{return s.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t){return h(void 0,t)}function h(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=h(t[n],e[n]));return t}var f=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function p(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(p())}function v(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function g(){return"object"==typeof self&&self.self===self}function y(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function m(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function b(){return p().indexOf("Electron/")>=0}function _(){var t=p();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function w(){return p().indexOf("MSAppHost/")>=0}function E(){return!1}function k(){return"indexedDB"in self&&null!=indexedDB}function I(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}}))}function C(){return!(!navigator||!navigator.cookieEnabled)}var T=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,S.prototype.create),o}return Object(r.c)(e,t),e}(Error),S=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?O(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new T(i,s,r);return u},t}();function O(t,e){return t.replace(A,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var A=/\{\$([^}]+)}/g;function N(t){return JSON.parse(t)}function P(t){return JSON.stringify(t)}var x=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=N(c(o[0])||""),n=N(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:r,signature:i}},R=function(t){var e=x(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},j=function(t){var e=x(t).claims;return"object"==typeof e&&!0===e.admin};function D(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function L(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function F(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function M(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function U(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}var V=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,a=this.chain_[0],s=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^s&(u^c),o=1518500249):(i=s^u^c,o=1859775393):r<60?(i=s&u|c&(s|u),o=2400959708):(i=s^u^c,o=3395469782);var h=(a<<5|a>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(s<<30|s>>>2),s=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function q(t,e){var n=new B(t,e);return n.subscribe.bind(n)}var B=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=H),void 0===r.error&&(r.error=H),void 0===r.complete&&(r.complete=H);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function H(){}var z=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function W(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}function K(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(W(t,e,r)+"must be a valid function.")}function G(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(W(t,e,r)+"must be a valid context object.")}var Q=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);if(o>=55296&&o<=56319){var a=o-55296;r++,i(r<t.length,"Surrogate pair missing trail surrogate."),o=65536+(a<<10)+(t.charCodeAt(r)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},Y=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};function X(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}},zIRd:function(t,e,n){"use strict";var r,i,o=n("WVRz"),a=n("qOnz"),s=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.b("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.b("@firebase/app"),p=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(a.m)(t),this.container=new s.b(e.name),this._addComponent(new s.a("app",(function(){return u}),"PUBLIC"));try{for(var c=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var d=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(Object(a.k)(e,s))throw l.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(u.join(" "))}c(new s.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(a.k)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(s){var u,c,h=s.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===s.type?r[h]:null;if(n.set(h,s),"PUBLIC"===s.type){var p=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==s.serviceProps&&Object(a.n)(p,s.serviceProps),r[h]=p,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,s.multipleInstances?t:[])}}try{for(var d=Object(o.h)(Object.keys(e)),v=d.next();!v.done;v=d.next())e[v.value]._addComponent(s)}catch(g){u={error:g}}finally{try{v&&!v.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===s.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(p);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(a.n)(e,t)},createSubscribe:a.l,ErrorFactory:a.b,deepExtend:a.n}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(a.r)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=d.initializeApp;d.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(a.y)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),y.apply(void 0,t)};var m=d;!function(t,e){t.INTERNAL.registerComponent(new s.a("platform-logger",(function(t){return new v(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.13",void 0),t.registerVersion("fire-js","")}(m),e.a=m},zUnb:function(r,i,u){"use strict";function f(t){return"function"==typeof t}u.r(i);var v=!1,y={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else v&&console.log("RxJS: Back to a better error behavior. Thank you. <3");v=t},get useDeprecatedSynchronousErrorHandling(){return v}};function m(t){setTimeout((function(){throw t}),0)}var b={closed:!0,next:function(t){},error:function(t){if(y.useDeprecatedSynchronousErrorHandling)throw t;m(t)},complete:function(){}},_=Array.isArray||function(t){return t&&"number"==typeof t.length};function w(t){return null!==t&&"object"==typeof t}var E,k=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map((function(t,e){return"".concat(e+1,") ").concat(t.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),I=((E=function(){function t(e){d(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return g(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._ctorUnsubscribe,i=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var a=0;a<n.length;++a)n[a].remove(this);if(f(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(l){e=l instanceof k?C(l.errors):[l]}}if(_(o))for(var s=-1,u=o.length;++s<u;){var c=o[s];if(w(c))try{c.unsubscribe()}catch(l){e=e||[],l instanceof k?e=e.concat(C(l.errors)):e.push(l)}}if(e)throw new k(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=function(t){return t.closed=!0,t}(new E),E);function C(t){return t.reduce((function(t,e){return t.concat(e instanceof k?e.errors:e)}),[])}var T="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),S=function(t){s(n,t);var e=c(n);function n(t,r,i){var o;switch(d(this,n),(o=e.call(this)).syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=b;break;case 1:if(!t){o.destination=b;break}if("object"==typeof t){t instanceof n?(o.syncErrorThrowable=t.syncErrorThrowable,o.destination=t,t.add(h(o))):(o.syncErrorThrowable=!0,o.destination=new O(h(o),t));break}default:o.syncErrorThrowable=!0,o.destination=new O(h(o),t,r,i)}return o}return g(n,[{key:T,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,a(p(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(I),O=function(t){s(n,t);var e=c(n);function n(t,r,i,o){var a,s;d(this,n),(a=e.call(this))._parentSubscriber=t;var u=h(a);return f(r)?s=r:r&&(s=r.next,i=r.error,o=r.complete,r!==b&&(f((u=Object.create(r)).unsubscribe)&&a.add(u.unsubscribe.bind(u)),u.unsubscribe=a.unsubscribe.bind(h(a)))),a._context=u,a._next=s,a._error=i,a._complete=o,a}return g(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;y.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=y.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):m(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;m(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};y.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),y.useDeprecatedSynchronousErrorHandling)throw n;m(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!y.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return y.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(m(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(S),A="function"==typeof Symbol&&Symbol.observable||"@@observable";function N(t){return t}var P,x=((P=function(){function t(e){d(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return g(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var r=this.operator,i=function(t,e,n){if(t){if(t instanceof S)return t;if(t[T])return t[T]()}return t||e||n?new S(t,e,n):new S(b)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||y.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),y.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){y.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;t=r&&r instanceof S?r:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=R(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}}),r,e)}))}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:A,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:(0===(r=e).length?N:1===r.length?r[0]:function(t){return r.reduce((function(t,e){return e(t)}),t)})(this);var r}},{key:"toPromise",value:function(t){var e=this;return new(t=R(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))}}]),t}()).create=function(t){return new P(t)},P);function R(t){if(t||(t=y.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var j,D=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),L=function(t){s(n,t);var e=c(n);function n(t,r){var i;return d(this,n),(i=e.call(this)).subject=t,i.subscriber=r,i.closed=!1,i}return g(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(I),F=function(t){s(n,t);var e=c(n);function n(t){var r;return d(this,n),(r=e.call(this,t)).destination=t,r}return n}(S),M=((j=function(t){s(n,t);var e=c(n);function n(){var t;return d(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return g(n,[{key:T,value:function(){return new F(this)}},{key:"lift",value:function(t){var e=new U(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new D;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new D;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new D;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new D;return a(p(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new D;return this.hasError?(t.error(this.thrownError),I.EMPTY):this.isStopped?(t.complete(),I.EMPTY):(this.observers.push(t),new L(this,t))}},{key:"asObservable",value:function(){var t=new x;return t.source=this,t}}]),n}(x)).create=function(t,e){return new U(t,e)},j),U=function(t){s(n,t);var e=c(n);function n(t,r){var i;return d(this,n),(i=e.call(this)).destination=t,i.source=r,i}return g(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):I.EMPTY}}]),n}(M);function V(t){return t&&"function"==typeof t.schedule}function q(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new B(t,e))}}var B=function(){function t(e,n){d(this,t),this.project=e,this.thisArg=n}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new H(t,this.project,this.thisArg))}}]),t}(),H=function(t){s(n,t);var e=c(n);function n(t,r,i){var o;return d(this,n),(o=e.call(this,t)).project=r,o.count=0,o.thisArg=i||h(o),o}return g(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(S),z=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}};var W="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",K=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function G(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var Q=function(t){if(t&&"function"==typeof t[A])return r=t,function(t){var e=r[A]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(K(t))return z(t);if(G(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,m),t};if(t&&"function"==typeof t[W])return e=t,function(t){for(var n=e[W]();;){var r=void 0;try{r=n.next()}catch(i){return t.error(i),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,r,i=w(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(i," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))};function Y(t,e){return new x((function(n){var r=new I,i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function X(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[A]}(t))return function(t,e){return new x((function(n){var r=new I;return r.add(e.schedule((function(){var i=t[A]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if(G(t))return function(t,e){return new x((function(n){var r=new I;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(K(t))return Y(t,e);if(function(t){return t&&"function"==typeof t[W]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new x((function(n){var r,i=new I;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[W](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof x?t:new x(Q(t))}var J=function(t){s(n,t);var e=c(n);function n(t){var r;return d(this,n),(r=e.call(this)).parent=t,r}return g(n,[{key:"_next",value:function(t){this.parent.notifyNext(t)}},{key:"_error",value:function(t){this.parent.notifyError(t),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(S),$=function(t){s(n,t);var e=c(n);function n(){return d(this,n),e.apply(this,arguments)}return g(n,[{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyError",value:function(t){this.destination.error(t)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(S);function Z(t,e){if(!e.closed)return t instanceof x?t.subscribe(e):Q(t)(e)}function tt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(r){return r.pipe(tt((function(n,r){return X(t(n,r)).pipe(q((function(t,i){return e(n,t,r,i)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new et(t,n))})}var et=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;d(this,t),this.project=e,this.concurrent=n}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new nt(t,this.project,this.concurrent))}}]),t}(),nt=function(t){s(n,t);var e=c(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return d(this,n),(i=e.call(this,t)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return g(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=new J(this),n=this.destination;n.add(e);var r=Z(t,e);r!==e&&n.add(r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyComplete",value:function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}($);function rt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return tt(N,t)}function it(t,e){return e?Y(t,e):new x(z(t))}function ot(){return function(t){return t.lift(new st(t))}}var at,st=function(){function t(e){d(this,t),this.connectable=e}return g(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new ut(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),ut=function(t){s(n,t);var e=c(n);function n(t,r){var i;return d(this,n),(i=e.call(this,t)).connectable=r,i}return g(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(S),ct={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(at=function(t){s(n,t);var e=c(n);function n(t,r){var i;return d(this,n),(i=e.call(this)).source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return g(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new I).add(this.source.subscribe(new lt(this.getSubject(),this))),t.closed&&(this._connection=null,t=I.EMPTY)),t}},{key:"refCount",value:function(){return ot()(this)}}]),n}(x).prototype)._subscribe},_isComplete:{value:at._isComplete,writable:!0},getSubject:{value:at.getSubject},connect:{value:at.connect},refCount:{value:at.refCount}},lt=function(t){s(n,t);var e=c(n);function n(t,r){var i;return d(this,n),(i=e.call(this,t)).connectable=r,i}return g(n,[{key:"_error",value:function(t){this._unsubscribe(),a(p(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),a(p(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(F);function ht(){return new M}function ft(t){return{toString:t}.toString()}function pt(t,e,n){return ft((function(){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var a=o(i,e);return s.annotation=a,s;function s(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(a),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}))}var dt=pt("Inject",(function(t){return{token:t}})),vt=pt("Optional"),gt=pt("Self"),yt=pt("SkipSelf"),mt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function bt(t){for(var e in t)if(t[e]===bt)return e;throw Error("Could not find renamed property on target object.")}function _t(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function wt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Et(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function kt(t){return It(t,t[Tt])||It(t,t[At])}function It(t,e){return e&&e.token===t?e:null}function Ct(t){return t&&(t.hasOwnProperty(St)||t.hasOwnProperty(Nt))?t[St]:null}var Tt=bt({"\u0275prov":bt}),St=bt({"\u0275inj":bt}),Ot=bt({"\u0275provFallback":bt}),At=bt({ngInjectableDef:bt}),Nt=bt({ngInjectorDef:bt});function Pt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Pt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function xt(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var Rt=bt({__forward_ref__:bt});function jt(t){return t.__forward_ref__=jt,t.toString=function(){return Pt(this())},t}function Dt(t){return Lt(t)?t():t}function Lt(t){return"function"==typeof t&&t.hasOwnProperty(Rt)&&t.__forward_ref__===jt}var Ft,Mt="undefined"!=typeof globalThis&&globalThis,Ut="undefined"!=typeof window&&window,Vt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,qt="undefined"!=typeof global&&global,Bt=Mt||qt||Ut||Vt,Ht=bt({"\u0275cmp":bt}),zt=bt({"\u0275dir":bt}),Wt=bt({"\u0275pipe":bt}),Kt=bt({"\u0275mod":bt}),Gt=bt({"\u0275loc":bt}),Qt=bt({"\u0275fac":bt}),Yt=bt({__NG_ELEMENT_ID__:bt}),Xt=function(){function t(e,n){d(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=wt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return g(t,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),t}(),Jt=new Xt("INJECTOR",-1),$t={},Zt=/\n/gm,te=bt({provide:String,useValue:bt}),ee=void 0;function ne(t){var e=ee;return ee=t,e}function re(t){var e=Ft;return Ft=t,e}function ie(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mt.Default;if(void 0===ee)throw new Error("inject() must be called from an injection context");return null===ee?ae(t,void 0,e):ee.get(t,e&mt.Optional?null:void 0,e)}function oe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mt.Default;return(Ft||ie)(Dt(t),e)}function ae(t,e,n){var r=kt(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&mt.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND [".concat(Pt(t),"]"))}function se(t){for(var e=[],n=0;n<t.length;n++){var r=Dt(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=mt.Default,a=0;a<r.length;a++){var s=r[a];s instanceof vt||"Optional"===s.ngMetadataName||s===vt?o|=mt.Optional:s instanceof yt||"SkipSelf"===s.ngMetadataName||s===yt?o|=mt.SkipSelf:s instanceof gt||"Self"===s.ngMetadataName||s===gt?o|=mt.Self:i=s instanceof dt||s===dt?s.token:s}e.push(oe(i,o))}else e.push(oe(r))}return e}var ue=function(){function t(){d(this,t)}return g(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$t;if(e===$t){var n=new Error("NullInjectorError: No provider for ".concat(Pt(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),ce=function t(){d(this,t)},le=function t(){d(this,t)};function he(t,e){t.forEach((function(t){return Array.isArray(t)?he(t,e):e(t)}))}function fe(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function pe(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function de(t,e){var n=ve(t,e);if(n>=0)return t[1|n]}function ve(t,e){return function(t,e,n){for(var r=0,i=t.length>>1;i!==r;){var o=r+(i-r>>1),a=t[o<<1];if(e===a)return o<<1;a>e?i=o:r=o+1}return~(i<<1)}(t,e)}var ge,ye=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),me=((ge={})[ge.Emulated=0]="Emulated",ge[ge.Native=1]="Native",ge[ge.None=2]="None",ge[ge.ShadowDom=3]="ShadowDom",ge),be={},_e=[],we=0;function Ee(t){return ft((function(){var e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===ye.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||_e,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||me.Emulated,id:"c",styles:t.styles||_e,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=we++,n.inputs=Se(t.inputs,e),n.outputs=Se(t.outputs),i&&i.forEach((function(t){return t(n)})),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map(ke)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(Ie)}:null,n}))}function ke(t){return Ae(t)||function(t){return t[zt]||null}(t)}function Ie(t){return function(t){return t[Wt]||null}(t)}var Ce={};function Te(t){var e={type:t.type,bootstrap:t.bootstrap||_e,declarations:t.declarations||_e,imports:t.imports||_e,exports:t.exports||_e,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&ft((function(){Ce[t.id]=t.type})),e}function Se(t,e){if(null==t)return be;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var Oe=Ee;function Ae(t){return t[Ht]||null}function Ne(t,e){return t.hasOwnProperty(Qt)?t[Qt]:null}function Pe(t,e){var n=t[Kt]||null;if(!n&&!0===e)throw new Error("Type ".concat(Pt(t)," does not have '\u0275mod' property."));return n}function xe(t){return Array.isArray(t)&&"object"==typeof t[1]}function Re(t){return Array.isArray(t)&&!0===t[1]}function je(t){return 0!=(8&t.flags)}function De(t){return 2==(2&t.flags)}function Le(t){return 1==(1&t.flags)}function Fe(t){return null!==t.template}function Me(t){return 0!=(512&t[2])}var Ue=function(){function t(e,n,r){d(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return g(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function Ve(){return qe}function qe(t){return t.type.prototype.ngOnChanges&&(t.setInput=He),Be}function Be(){var t=ze(this),e=null==t?void 0:t.current;if(e){var n=t.previous;if(n===be)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function He(t,e,n,r){var i=ze(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:be,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new Ue(u&&u.currentValue,e,a===be),t[r]=e}function ze(t){return t.__ngSimpleChanges__||null}Ve.ngInherit=!0;var We=void 0;function Ke(t){return!!t.listen}var Ge={createRenderer:function(t,e){return void 0!==We?We:"undefined"!=typeof document?document:void 0}};function Qe(t){for(;Array.isArray(t);)t=t[0];return t}function Ye(t,e){return Qe(e[t+20])}function Xe(t,e){return Qe(e[t.index])}function Je(t,e){return t.data[e+20]}function $e(t,e){var n=e[t];return xe(n)?n:n[0]}function Ze(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function tn(t){return 4==(4&t[2])}function en(t){return 128==(128&t[2])}function nn(t,e){return null===t||null==e?null:t[e]}function rn(t){t[18]=0}function on(t,e){t[5]+=e;for(var n=t,r=t[3];null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}var an={lFrame:Cn(null),bindingsEnabled:!0,checkNoChangesMode:!1};function sn(){return an.bindingsEnabled}function un(){return an.lFrame.lView}function cn(){return an.lFrame.tView}function ln(t){an.lFrame.contextLView=t}function hn(){return an.lFrame.currentTNode}function fn(t,e){an.lFrame.currentTNode=t,an.lFrame.isParent=e}function pn(){return an.lFrame.isParent}function dn(){return an.checkNoChangesMode}function vn(t){an.checkNoChangesMode=t}function gn(){var t=an.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function yn(){return an.lFrame.bindingIndex++}function mn(t,e){var n=an.lFrame;n.bindingIndex=n.bindingRootIndex=t,bn(e)}function bn(t){an.lFrame.currentDirectiveIndex=t}function _n(){return an.lFrame.currentQueryIndex}function wn(t){an.lFrame.currentQueryIndex=t}function En(t,e){var n=In();an.lFrame=n,n.currentTNode=e,n.lView=t}function kn(t){var e=In(),n=t[1];an.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex}function In(){var t=an.lFrame,e=null===t?null:t.child;return null===e?Cn(t):e}function Cn(t){var e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Tn(){var t=an.lFrame;return an.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Sn=Tn;function On(){var t=Tn();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function An(){return an.lFrame.selectedIndex}function Nn(t){an.lFrame.selectedIndex=t}function Pn(){var t=an.lFrame;return Je(t.tView,t.selectedIndex)}function xn(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n].type.prototype,o=i.ngAfterContentInit,a=i.ngAfterContentChecked,s=i.ngAfterViewInit,u=i.ngAfterViewChecked,c=i.ngOnDestroy;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),u&&((t.viewHooks||(t.viewHooks=[])).push(n,u),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,u)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function Rn(t,e,n){Ln(t,e,3,n)}function jn(t,e,n,r){(3&t[2])===n&&Ln(t,e,n,r)}function Dn(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ln(t,e,n,r){for(var i=null!=r?r:-1,o=0,a=void 0!==r?65535&t[18]:0;a<e.length;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(Fn(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Fn(t,e,n,r){var i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(a)):o.call(a)}var Mn=function t(e,n,r){d(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function Un(t,e,n){for(var r=Ke(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?t.setAttribute(e,s,u,a):e.setAttributeNS(a,s,u)}else{var c=o,l=n[++i];qn(c)?r&&t.setProperty(e,c,l):r?t.setAttribute(e,c,l):e.setAttribute(c,l),i++}}return i}function Vn(t){return 3===t||4===t||6===t}function qn(t){return 64===t.charCodeAt(0)}function Bn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var i=e[r];"number"==typeof i?n=i:0===n||Hn(t,n,i,null,-1===n||2===n?e[++r]:null)}return t}function Hn(t,e,n,r,i){var o=0,a=t.length;if(-1===e)a=-1;else for(;o<t.length;){var s=t[o++];if("number"==typeof s){if(s===e){a=-1;break}if(s>e){a=o-1;break}}}for(;o<t.length;){var u=t[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function zn(t){return-1!==t}function Wn(t){return 32767&t}function Kn(t,e){for(var n=t>>16,r=e;n>0;)r=r[15],n--;return r}function Gn(t){return"string"==typeof t?t:null==t?"":""+t}function Qn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Gn(t)}var Yn=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Bt);function Xn(t){return t instanceof Function?t():t}var Jn=!0;function $n(t){var e=Jn;return Jn=t,e}var Zn=0;function tr(t,e){var n=nr(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,er(r.data,t),er(e,null),er(r.blueprint,null));var i=rr(t,e),o=t.injectorIndex;if(zn(i))for(var a=Wn(i),s=Kn(i,e),u=s[1].data,c=0;c<8;c++)e[o+c]=s[a+c]|u[a+c];return e[o+8]=i,o}function er(t,e){t.push(0,0,0,0,0,0,0,0,e)}function nr(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function rr(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=0,r=null,i=e;null!==i;){var o=i[1],a=o.type;if(null===(r=2===a?o.declTNode:1===a?i[6]:null))return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function ir(t,e,n){!function(t,e,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Yt)&&(r=n[Yt]),null==r&&(r=n[Yt]=Zn++);var i=255&r,o=1<<i,a=64&i,s=32&i,u=e.data;128&i?a?s?u[t+7]|=o:u[t+6]|=o:s?u[t+5]|=o:u[t+4]|=o:a?s?u[t+3]|=o:u[t+2]|=o:s?u[t+1]|=o:u[t]|=o}(t,e,n)}function or(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:mt.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t.hasOwnProperty(Yt)?t[Yt]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof o){En(e,t);try{var a=o();if(null!=a||r&mt.Optional)return a;throw new Error("No provider for ".concat(Qn(n),"!"))}finally{Sn()}}else if("number"==typeof o){if(-1===o)return new fr(t,e);var s=null,u=nr(t,e),c=-1,l=r&mt.Host?e[16][6]:null;for((-1===u||r&mt.SkipSelf)&&(-1!==(c=-1===u?rr(t,e):e[u+8])&&hr(r,!1)?(s=e[1],u=Wn(c),e=Kn(c,e)):u=-1);-1!==u;){var h=e[1];if(lr(o,u,h.data)){var f=sr(u,e,n,s,r,l);if(f!==ar)return f}-1!==(c=e[u+8])&&hr(r,e[1].data[u+8]===l)&&lr(o,u,e)?(s=h,u=Wn(c),e=Kn(c,e)):u=-1}}}if(r&mt.Optional&&void 0===i&&(i=null),0==(r&(mt.Self|mt.Host))){var p=e[9],d=re(void 0);try{return p?p.get(n,i,r&mt.Optional):ae(n,i,r&mt.Optional)}finally{re(d)}}if(r&mt.Optional)return i;throw new Error("NodeInjector: NOT_FOUND [".concat(Qn(n),"]"))}var ar={};function sr(t,e,n,r,i,o){var a=e[1],s=a.data[t+8],u=ur(s,a,n,null==r?De(s)&&Jn:r!=a&&2===s.type,i&mt.Host&&o===s);return null!==u?cr(e,a,u,s):ar}function ur(t,e,n,r,i){for(var o=t.providerIndexes,a=e.data,s=1048575&o,u=t.directiveStart,c=o>>20,l=i?s+c:t.directiveEnd,h=r?s:s+c;h<l;h++){var f=a[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var p=a[u];if(p&&Fe(p)&&p.type===n)return u}return null}function cr(t,e,n,r){var i=t[n],o=e.data;if(i instanceof Mn){var a=i;if(a.resolving)throw new Error("Circular dep for "+Qn(o[n]));var s=$n(a.canSeeViewProviders);a.resolving=!0;var u=a.injectImpl?re(a.injectImpl):null;En(t,r);try{i=t[n]=a.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.type.prototype,i=r.ngOnChanges,o=r.ngOnInit,a=r.ngDoCheck;if(i){var s=qe(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,o),a&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,a))}(n,o[n],e)}finally{null!==u&&re(u),$n(s),a.resolving=!1,Sn()}}return i}function lr(t,e,n){var r=64&t,i=32&t;return!!((128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e])&1<<t)}function hr(t,e){return!(t&mt.Self||t&mt.Host&&e)}var fr=function(){function t(e,n){d(this,t),this._tNode=e,this._lView=n}return g(t,[{key:"get",value:function(t,e){return or(this._tNode,this._lView,t,void 0,e)}}]),t}();function pr(t){var e=t;if(Lt(t))return function(){var t=pr(Dt(e));return t?t():null};var n=Ne(e);if(null===n){var r=Ct(e);n=r&&r.factory}return n||null}function dr(t){return t.ngDebugContext}function vr(t){return t.ngOriginalError}function gr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var yr=function(){function t(){d(this,t),this._console=console}return g(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||gr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?dr(t)?dr(t):this._findContext(vr(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=vr(t);e&&vr(e);)e=vr(e);return e}}]),t}(),mr=function(){function t(e){d(this,t),this.changingThisBreaksApplicationSecurity=e}return g(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}]),t}();function br(t){return t instanceof mr?t.changingThisBreaksApplicationSecurity:t}var _r=!0,wr=!1;function Er(){return wr=!0,_r}var kr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ir=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,Cr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Tr(t){var e,n,r=(e=un())&&e[12];return r?r.sanitize(Cr.URL,t)||"":function(t,e){var n=function(t){return t instanceof mr&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return n===e}(t,"URL")?br(t):(n=Gn(t),(n=String(n)).match(kr)||n.match(Ir)?n:(Er()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(n," (see http://g.co/ng/security#xss)")),"unsafe:"+n))}function Sr(t,e){t.__ngContext__=e}function Or(t,e,n){for(var r=t.length;;){var i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Ar(t,e,n){for(var r=0;r<t.length;){var i=t[r++];if(n&&"class"===i){if(-1!==Or((i=t[r]).toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Nr(t){return 0===t.type&&"ng-template"!==t.tagName}function Pr(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function xr(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(Vn(t[e]))return e;return t.length}(i),a=!1,s=0;s<e.length;s++){var u=e[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!Pr(t,u,n)||""===u&&1===e.length){if(Rr(r))return!1;a=!0}}else{var c=8&r?u:e[++s];if(8&r&&null!==t.attrs){if(!Ar(t.attrs,c,n)){if(Rr(r))return!1;a=!0}continue}var l=jr(8&r?"class":u,i,Nr(t),n);if(-1===l){if(Rr(r))return!1;a=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==Or(f,c,0)||2&r&&c!==h){if(Rr(r))return!1;a=!0}}}}else{if(!a&&!Rr(r)&&!Rr(u))return!1;if(a&&Rr(u))continue;a=!1,r=u|1&r}}return Rr(r)||a}function Rr(t){return 0==(1&t)}function jr(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var a=e[i];if(a===t)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=e[++i];"string"==typeof s;)s=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Dr(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++)if(xr(t,e[r],n))return!0;return!1}function Lr(t,e){return t?":not("+e.trim()+")":e}function Fr(t){for(var e=t[0],n=1,r=2,i="",o=!1;n<t.length;){var a=t[n];if("string"==typeof a)if(2&r){var s=t[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||Rr(a)||(e+=Lr(o,i),i=""),r=a,o=o||!Rr(r);n++}return""!==i&&(e+=Lr(o,i)),e}var Mr={};function Ur(t){var e=t[3];return Re(e)?e[3]:e}function Vr(t){return Br(t[13])}function qr(t){return Br(t[4])}function Br(t){for(;null!==t&&!Re(t);)t=t[4];return t}function Hr(t){zr(cn(),un(),An()+t,dn())}function zr(t,e,n,r){if(!r)if(3==(3&e[2])){var i=t.preOrderCheckHooks;null!==i&&Rn(e,i,n)}else{var o=t.preOrderHooks;null!==o&&jn(e,o,0,n)}Nn(n)}function Wr(t,e){return t<<17|e<<2}function Kr(t){return t>>17&32767}function Gr(t){return 2|t}function Qr(t){return(131068&t)>>2}function Yr(t,e){return-131069&t|e<<2}function Xr(t){return 1|t}function Jr(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=t.data[o];wn(i),a.contentQueries(2,e[o],o)}}}function $r(t,e,n){return Ke(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Zr(t,e,n,r,i,o,a,s,u,c){var l=e.blueprint.slice();return l[0]=i,l[2]=140|r,rn(l),l[3]=l[15]=t,l[8]=n,l[10]=a||t&&t[10],l[11]=s||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function ti(t,e,n,r,i){var o=e+20,a=t.data[o]||function(t,e,n,r,i){var o=hn(),a=pn(),s=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=s),null!==o&&(a&&null==o.child&&null!==s.parent?o.child=s:a||(o.next=s)),s}(t,o,n,r,i);return fn(a,!0),a}function ei(t,e,n){kn(e);try{var r=t.viewQuery;null!==r&&Pi(1,r,n);var i=t.template;null!==i&&ii(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Jr(t,e),t.staticViewQueries&&Pi(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)Ti(t,e[n])}(e,o)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),a}finally{e[2]&=-5,On()}}function ni(t,e,n,r){var i=e[2];if(256!=(256&i)){kn(e);var o=dn();try{rn(e),an.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&ii(t,e,n,2,r);var a=3==(3&i);if(!o)if(a){var s=t.preOrderCheckHooks;null!==s&&Rn(e,s,null)}else{var u=t.preOrderHooks;null!==u&&jn(e,u,0,null),Dn(e,0)}if(function(t){for(var e=Vr(t);null!==e;e=qr(e))if(e[2])for(var n=e[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&on(o,1),i[2]|=1024}}(e),function(t){for(var e=Vr(t);null!==e;e=qr(e))for(var n=10;n<e.length;n++){var r=e[n],i=r[1];en(r)&&ni(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&Jr(t,e),!o)if(a){var c=t.contentCheckHooks;null!==c&&Rn(e,c)}else{var l=t.contentHooks;null!==l&&jn(e,l,1),Dn(e,1)}!function(t,e){try{var n=t.expandoInstructions;if(null!==n)for(var r=t.expandoStartIndex,i=-1,o=0;o<n.length;o++){var a=n[o];"number"==typeof a?a<=0?(Nn(0-a),i=r+=9+n[++o]):r+=a:(null!==a&&(mn(r,i),a(2,e[i])),i++)}}finally{Nn(-1)}}(t,e);var h=t.components;null!==h&&function(t,e){for(var n=0;n<e.length;n++)Ci(t,e[n])}(e,h);var f=t.viewQuery;if(null!==f&&Pi(2,f,r),!o)if(a){var p=t.viewCheckHooks;null!==p&&Rn(e,p)}else{var d=t.viewHooks;null!==d&&jn(e,d,2),Dn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,on(e[3],-1))}finally{On()}}}function ri(t,e,n,r){var i=e[10],o=!dn(),a=tn(e);try{o&&!a&&i.begin&&i.begin(),a&&ei(t,e,r),ni(t,e,n,r)}finally{o&&!a&&i.end&&i.end()}}function ii(t,e,n,r,i){var o=An();try{Nn(-1),2&r&&e.length>20&&zr(t,e,0,dn()),n(r,i)}finally{Nn(o)}}function oi(t,e,n){sn()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||tr(n,e),Sr(r,e);for(var a=n.initialInputs,s=i;s<o;s++){var u=t.data[s],c=Fe(u);c&&wi(e,n,u);var l=cr(e,t,s,n);Sr(l,e),null!==a&&Ei(0,s-i,l,u,0,a),c&&($e(n.index,e)[8]=l)}}(t,e,n,Xe(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,a=t.firstCreatePass,s=n.index-20,u=an.lFrame.currentDirectiveIndex;try{Nn(s);for(var c=r;c<i;c++){var l=t.data[c],h=e[c];bn(c),null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs?vi(l,h):a&&o.push(null)}}finally{Nn(-1),bn(u)}}(t,e,n))}function ai(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xe,r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(e,t):t[a];t[i++]=s}}function si(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ui(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ui(t,e,n,r,i,o,a,s,u,c){var l=20+r,h=l+i,f=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:Mr);return n}(l,h),p="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:s,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1}}function ci(t,e,n,r){var i=Ri(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function li(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function hi(t,e,n,r,i,o,a,s){var u,c=Xe(e,n),l=e.inputs;!s&&null!=l&&(u=l[r])?(Di(t,n,u,r,i),De(e)&&function(t,e){var n=$e(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):2===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=a?a(i,e.tagName||"",r):i,Ke(o)?o.setProperty(c,r,i):qn(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function fi(t,e,n,r){var i=!1;if(sn()){var o=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];Dr(n,a.selectors,!1)&&(i||(i=[]),ir(tr(n,e),t,a.type),Fe(a)?(yi(t,n),i.unshift(a)):i.push(a))}return i}(t,e,n),a=null===r?null:{"":-1};if(null!==o){var s=0;i=!0,bi(n,t.data.length,o.length);for(var u=0;u<o.length;u++){var c=o[u];c.providersResolver&&c.providersResolver(c)}gi(t,n,o.length);for(var l=!1,h=!1,f=0;f<o.length;f++){var p=o[f];n.mergedAttrs=Bn(n.mergedAttrs,p.hostAttrs),_i(t,e,p),mi(t.data.length-1,p,a),null!==p.contentQueries&&(n.flags|=8),null===p.hostBindings&&null===p.hostAttrs&&0===p.hostVars||(n.flags|=128);var d=p.type.prototype;!l&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),l=!0),h||!d.ngOnChanges&&!d.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),h=!0),pi(t,p),s+=p.hostVars}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],a=null,s=null,u=e.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||Nr(e)?null:ki(l,i);o.push(h),a=li(l,u,a),s=li(c.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=s}(t,n),di(t,e,s)}a&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new Error("Export of name '".concat(e[i+1],"' not found!"));r.push(e[i],o)}}(n,r,a)}return n.mergedAttrs=Bn(n.mergedAttrs,n.attrs),i}function pi(t,e){var n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function di(t,e,n){for(var r=0;r<n;r++)e.push(Mr),t.blueprint.push(Mr),t.data.push(null)}function vi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function gi(t,e,n){var r=20-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function yi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function mi(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Fe(e)&&(n[""]=t)}}function bi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function _i(t,e,n){t.data.push(n);var r=n.factory||(n.factory=Ne(n.type)),i=new Mn(r,Fe(n),null);t.blueprint.push(i),e.push(i)}function wi(t,e,n){var r=Xe(e,t),i=si(n),o=t[10],a=Si(t,Zr(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=a}function Ei(t,e,n,r,i,o){var a=o[e];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var c=a[u++],l=a[u++],h=a[u++];null!==s?r.setInput(n,h,c,l):n[l]=h}}function ki(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ii(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Ci(t,e){var n=$e(e,t);if(en(n)){var r=n[1];80&n[2]?ni(r,n,r.template,n[8]):n[5]>0&&function t(e){for(var n=Vr(e);null!==n;n=qr(n))for(var r=10;r<n.length;r++){var i=n[r];if(1024&i[2]){var o=i[1];ni(o,i,o.template,i[8])}else i[5]>0&&t(i)}var a=e[1].components;if(null!==a)for(var s=0;s<a.length;s++){var u=$e(a[s],e);en(u)&&u[5]>0&&t(u)}}(n)}}function Ti(t,e){var n=$e(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),ei(r,n,n[8])}function Si(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Oi(t){for(;t;){t[2]|=64;var e=Ur(t);if(Me(t)&&!e)return t;t=e}return null}function Ai(t,e,n){var r=e[10];r.begin&&r.begin();try{ni(t,e,t.template,n)}catch(i){throw ji(e,i),i}finally{r.end&&r.end()}}function Ni(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=Ze(n),i=r[1];ri(i,r,i.template,n)}}(t[8])}function Pi(t,e,n){wn(0),e(t,n)}var xi=Promise.resolve(null);function Ri(t){return t[7]||(t[7]=[])}function ji(t,e){var n=t[9],r=n?n.get(yr,null):null;r&&r.handleError(e)}function Di(t,e,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=e[a],c=t.data[a];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function Li(t,e,n,r,i){if(null!=r){var o,a=!1;Re(r)?o=r:xe(r)&&(a=!0,r=r[0]);var s=Qe(r);0===t&&null!==n?null==i?Bi(e,n,s):qi(e,n,s,i||null):1===t&&null!==n?qi(e,n,s,i||null):2===t?function(t,e,n){var r=zi(t,e);r&&function(t,e,n,r){Ke(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,s,a):3===t&&e.destroyNode(s),null!=o&&function(t,e,n,r,i){var o=n[7];o!==Qe(n)&&Li(e,t,r,o,i);for(var a=10;a<n.length;a++){var s=n[a];Gi(s[1],s,t,e,r,o)}}(e,t,o,n,i)}}function Fi(t,e){var n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,on(i,-1)),n.splice(r,1)}function Mi(t,e){if(!(t.length<=10)){var n,r=10+e,i=t[r];if(i){var o=i[17];null!==o&&o!==t&&Fi(o,i),e>0&&(t[r-1][4]=i[4]);var a=pe(t,10+e);Gi(i[1],n=i,n[11],2,null,null),n[0]=null,n[6]=null;var s=a[19];null!==s&&s.detachView(a[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function Ui(t,e){if(!(256&e[2])){var n=e[11];Ke(n)&&n.destroyNode&&Gi(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return Vi(t[1],t);for(;e;){var n=null;if(xe(e))n=e[13];else{var r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)xe(e)&&Vi(e[1],e),e=e[3];null===e&&(e=t),xe(e)&&Vi(e[1],e),n=e&&e[4]}e=n}}(e)}}function Vi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var i=e[n[r]];if(!(i instanceof Mn)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2)o[a+1].call(i[o[a]]);else o.call(i)}}}(t,e),function(t,e){var n=t.cleanup;if(null!==n){for(var r=e[7],i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){var o=n[i+1],a="function"==typeof o?o(e):Qe(e[o]),s=r[n[i+2]],u=n[i+3];"boolean"==typeof u?a.removeEventListener(n[i],s,u):u>=0?r[u]():r[-u].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);e[7]=null}}(t,e),1===e[1].type&&Ke(e[11])&&e[11].destroy();var n=e[17];if(null!==n&&Re(e[3])){n!==e[3]&&Fi(n,e);var r=e[19];null!==r&&r.detachView(t)}}}function qi(t,e,n,r){Ke(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Bi(t,e,n){Ke(t)?t.appendChild(e,n):e.appendChild(n)}function Hi(t,e,n,r){null!==r?qi(t,e,n,r):Bi(t,e,n)}function zi(t,e){return Ke(t)?t.parentNode(e):e.parentNode}function Wi(t,e,n,r){var i=function(t,e,n){for(var r=e.parent;null!=r&&(3===r.type||4===r.type);)r=(e=r).parent;if(null===r)return n[0];if(e&&4===e.type&&4&e.flags)return Xe(e,n).parentNode;if(2&r.flags){var i=t.data,o=i[i[r.index].directiveStart].encapsulation;if(o!==me.ShadowDom&&o!==me.Native)return null}return Xe(r,n)}(t,r,e);if(null!=i){var o=e[11],a=function(t,e){return 3===t.type||4===t.type?Xe(t,e):null}(r.parent||e[6],e);if(Array.isArray(n))for(var s=0;s<n.length;s++)Hi(o,i,n[s],a);else Hi(o,i,n,a)}}function Ki(t,e,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;a&&0===e&&(s&&Sr(Qe(s),r),n.flags|=4),64!=(64&n.flags)&&(3===u||4===u?(Ki(t,e,n.child,r,i,o,!1),Li(e,t,i,s,o)):1===u?Qi(t,e,r,n,i,o):Li(e,t,i,s,o)),n=a?n.projectionNext:n.next}}function Gi(t,e,n,r,i,o){Ki(n,r,t.firstChild,e,i,o,!1)}function Qi(t,e,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)Li(e,t,i,s[u],o);else Ki(t,e,s,a[3],i,o,!0)}function Yi(t,e,n){Ke(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Xi(t,e,n){Ke(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}var Ji,$i,Zi,to=function(){function t(e,n){d(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return g(t,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Ui(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){ci(this._lView[1],this._lView,null,t)}},{key:"markForCheck",value:function(){Oi(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){Ai(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){vn(!0);try{Ai(t,e,n)}finally{vn(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,Gi(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}},{key:"rootNodes",get:function(){var t=this._lView,e=t[1];return function t(e,r,i,o){for(var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==i;){var s=r[i.index];if(null!==s&&o.push(Qe(s)),Re(s))for(var u=10;u<s.length;u++){var c=s[u],l=c[1].firstChild;null!==l&&t(c[1],c,l,o)}var h=i.type;if(3===h||4===h)t(e,r,i.child,o);else if(1===h){var f=r[16],p=f[6].projection[i.projection];if(Array.isArray(p))o.push.apply(o,n(p));else{var d=Ur(f);t(d[1],d,p,o,!0)}}i=a?i.projectionNext:i.next}return o}(e,t,e.firstChild,[])}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),t}(),eo=function(t){s(n,t);var e=c(n);function n(t){var r;return d(this,n),(r=e.call(this,t))._view=t,r}return g(n,[{key:"detectChanges",value:function(){Ni(this._view)}},{key:"checkNoChanges",value:function(){!function(t){vn(!0);try{Ni(t)}finally{vn(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(to);function no(t,e,n){return Ji||(Ji=function(t){s(n,t);var e=c(n);function n(){return d(this,n),e.apply(this,arguments)}return n}(t)),new Ji(Xe(e,n))}function ro(t,e,n,r){return $i||($i=function(t){s(n,t);var e=c(n);function n(t,r,i){var o;return d(this,n),(o=e.call(this))._declarationView=t,o._declarationTContainer=r,o.elementRef=i,o}return g(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=Zr(this._declarationView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),ei(e,n,t),new to(n)}}]),n}(t)),0===n.type?new $i(r,n,no(e,n,r)):null}function io(t,e,n,r){var i;Zi||(Zi=function(t){s(r,t);var n=c(r);function r(t,e,i){var o;return d(this,r),(o=n.call(this))._lContainer=t,o._hostTNode=e,o._hostView=i,o}return g(r,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var a=o.get(ce,null);a&&(i=a)}var s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}},{key:"insert",value:function(t,e){var n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Re(n[3])){var i=this.indexOf(t);if(-1!==i)this.detach(i);else{var o=n[3],a=new Zi(o,o[6],o[3]);a.detach(a.indexOf(t))}}var s=this._adjustIndex(e),u=this._lContainer;!function(t,e,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],fe(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;var a=e[17];null!==a&&n!==a&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(a,e);var s=e[19];null!==s&&s.insertView(t),e[2]|=128}(r,n,u,s);var c=function t(e,n){var r=10+e+1;if(r<n.length){var i=n[r],o=i[1].firstChild;if(null!==o)return function e(n,r){if(null!==r){var i=r.type;if(2===i)return Xe(r,n);if(0===i)return t(-1,n[r.index]);if(3===i||4===i){var o=r.child;if(null!==o)return e(n,o);var a=n[r.index];return Re(a)?t(-1,a):Qe(a)}var s=n[16],u=s[6],c=Ur(s),l=u.projection[r.projection];return null!=l?e(c,l):e(n,r.next)}return null}(i,o)}return n[7]}(s,u),l=n[11],h=zi(l,u[7]);return null!==h&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Gi(t,r,n,1,i,o)}(r,u[6],l,n,h,c),t.attachToViewContainerRef(this),fe(u[8],s,t),t}},{key:"move",value:function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=this._lContainer[8];return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1),n=Mi(this._lContainer,e);n&&(pe(this._lContainer[8],e),Ui(n[1],n))}},{key:"detach",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1),n=Mi(this._lContainer,e);return n&&null!=pe(this._lContainer[8],e)?new to(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}},{key:"element",get:function(){return no(e,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new fr(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var t=rr(this._hostTNode,this._hostView);if(zn(t)){var e=Kn(t,this._hostView),n=Wn(t);return new fr(e[1].data[n+8],e)}return new fr(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-10}}]),r}(t));var o=r[n.index];if(Re(o))i=o;else{var a;if(3===n.type)a=Qe(o);else if(a=r[11].createComment(""),Me(r)){var u=r[11],l=Xe(n,r);qi(u,zi(u,l),a,function(t,e){return Ke(t)?t.nextSibling(e):e.nextSibling}(u,l))}else Wi(r[1],r,a,n);r[n.index]=i=Ii(o,r,a,n),Si(r,i)}return new Zi(i,n,r)}var oo=function(){var t=function t(){d(this,t)};return t.__NG_ELEMENT_ID__=function(){return ao()},t}(),ao=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e,n){if(!n&&De(t)){var r=$e(t.index,e);return new to(r,r)}return 2===t.type||0===t.type||3===t.type||4===t.type?new to(e[16],e):null}(hn(),un(),t)},so=Function,uo=new Xt("Set Injector scope."),co={},lo={},ho=[],fo=void 0;function po(){return void 0===fo&&(fo=new ue),fo}function vo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new go(t,n,e||po(),r)}var go=function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;d(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&he(n,(function(t){return i.processProvider(t,e,n)})),he([e],(function(t){return i.processInjectorType(t,[],a)})),this.records.set(Jt,bo(void 0,this));var s=this.records.get(uo);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof e?null:Pt(e))}return g(t,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(t){return t.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$t,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:mt.Default;this.assertNotDestroyed();var r,i=ne(this);try{if(!(n&mt.SkipSelf)){var o=this.records.get(t);if(void 0===o){var a=("function"==typeof(r=t)||"object"==typeof r&&r instanceof Xt)&&kt(t);o=a&&this.injectableDefInScope(a)?bo(yo(t),co):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&mt.Self?po():this.parent).get(t,e=n&mt.Optional&&e===$t?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(Pt(t)),i)throw s;return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=Pt(e);if(Array.isArray(e))i=e.map(Pt).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):Pt(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(Zt,"\n  "))}("\n"+t.message,i,"R3InjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,0,this.source)}throw s}finally{ne(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach((function(e){return t.get(e)}))}},{key:"toString",value:function(){var t=[];return this.records.forEach((function(e,n){return t.push(Pt(n))})),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var r=this;if(!(t=Dt(t)))return!1;var i=Ct(t),o=null==i&&t.ngModule||void 0,a=void 0===o?t:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=Ct(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{he(i.imports,(function(t){r.processInjectorType(t,e,n)&&(void 0===u&&(u=[]),u.push(t))}))}finally{}if(void 0!==u)for(var c=function(t){var e=u[t],n=e.ngModule,i=e.providers;he(i,(function(t){return r.processProvider(t,n,i||ho)}))},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(a),this.records.set(a,bo(i.factory,co));var h=i.providers;if(null!=h&&!s){var f=t;he(h,(function(t){return r.processProvider(t,f,h)}))}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var r=wo(t=Dt(t))?t:Dt(t&&t.provide),i=function(t,e,n){return _o(t)?bo(void 0,t.useValue):bo(mo(t),co)}(t);if(wo(t)||!0!==t.multi)this.records.get(r);else{var o=this.records.get(r);o||((o=bo(void 0,co,!0)).factory=function(){return se(o.multi)},this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,i)}},{key:"hydrate",value:function(t,e){var n;return e.value===co&&(e.value=lo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();function yo(t){var e=kt(t),n=null!==e?e.factory:Ne(t);if(null!==n)return n;var r=Ct(t);if(null!==r)return r.factory;if(t instanceof Xt)throw new Error("Token ".concat(Pt(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=function(t,e){for(var n=[],r=0;r<t;r++)n.push("?");return n}(e);throw new Error("Can't resolve all parameters for ".concat(Pt(t),": (").concat(n.join(", "),")."))}var r=function(t){var e=t&&(t[Tt]||t[At]||t[Ot]&&t[Ot]());if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function mo(t,e,r){var i,a=void 0;if(wo(t)){var s=Dt(t);return Ne(s)||yo(s)}if(_o(t))a=function(){return Dt(t.useValue)};else if((i=t)&&i.useFactory)a=function(){return t.useFactory.apply(t,n(se(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))a=function(){return oe(Dt(t.useExisting))};else{var u=Dt(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Ne(u)||yo(u);a=function(){return o(u,n(se(t.deps)))}}return a}function bo(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function _o(t){return null!==t&&"object"==typeof t&&te in t}function wo(t){return"function"==typeof t}var Eo=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=vo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)},ko=function(){var t=function(){function t(){d(this,t)}return g(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?Eo(t,e,""):Eo(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=$t,t.NULL=new ue,t.\u0275prov=wt({token:t,providedIn:"any",factory:function(){return oe(Jt)}}),t.__NG_ELEMENT_ID__=-1,t}(),Io=new Xt("AnalyzeForEntryComponents");function Co(t,e,n){var r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(var a=0;a<e.length;a++){var s=e[a];"number"==typeof s?o=s:1==o?i=xt(i,s):2==o&&(r=xt(r,s+": "+e[++a]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function To(t,e){var n=Ze(t)[1],r=n.data.length-1;xn(n,{directiveStart:r,directiveEnd:r+1})}function So(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,r=[t];e;){var i=void 0;if(Fe(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);var o=t;o.inputs=Oo(t.inputs),o.declaredInputs=Oo(t.declaredInputs),o.outputs=Oo(t.outputs);var a=i.hostBindings;a&&Po(t,a);var s=i.viewQuery,u=i.contentQueries;if(s&&Ao(t,s),u&&No(t,u),_t(t.inputs,i.inputs),_t(t.declaredInputs,i.declaredInputs),_t(t.outputs,i.outputs),Fe(i)&&i.data.animation){var c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}var l=i.features;if(l)for(var h=0;h<l.length;h++){var f=l[h];f&&f.ngInherit&&f(t),f===So&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,r=t.length-1;r>=0;r--){var i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Bn(i.hostAttrs,n=Bn(n,i.hostAttrs))}}(r)}function Oo(t){return t===be?{}:t===_e?[]:t}function Ao(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,r){e(t,r),n(t,r)}:e}function No(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,r,i){e(t,r,i),n(t,r,i)}:e}function Po(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,r){e(t,r),n(t,r)}:e}var xo=null;function Ro(){if(!xo){var t=Bt.Symbol;if(t&&t.iterator)xo=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(xo=r)}}return xo}var jo=function(){function t(e){d(this,t),this.wrapped=e}return g(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function Do(t){return!!Lo(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ro()in t)}function Lo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Fo(t,e,n){return t[e]=n}function Mo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Uo(t,e,n,r){var i=un();return Mo(i,yn(),e)&&(cn(),function(t,e,n,r,i,o){var a=Xe(t,e),s=e[11];if(null==r)Ke(s)?s.removeAttribute(a,n,o):a.removeAttribute(n);else{var u=null==i?Gn(r):i(r,t.tagName||"",n);Ke(s)?s.setAttribute(a,n,u,o):o?a.setAttributeNS(o,n,u):a.setAttribute(n,u)}}(Pn(),i,t,e,n,r)),Uo}function Vo(t,e,n,r){return Mo(t,yn(),n)?e+Gn(n)+r:Mr}function qo(t,e,n,r,i,o,a,s){var u=un(),c=cn(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,a,s,u){var c=e.consts,l=ti(e,t,0,a||null,nn(c,s));fi(e,n,l,nn(c,u)),xn(e,l);var h=l.tViews=ui(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,o,a):c.data[l];fn(h,!1);var f=u[11].createComment("");Wi(c,u,f,h),Sr(f,u),Si(u,u[l]=Ii(f,u,f,h)),Le(h)&&oi(c,u,h),null!=a&&ai(u,h,s)}function Bo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mt.Default,n=un();return null===n?oe(t,e):or(hn(),n,Dt(t),e)}function Ho(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Vn(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}return null}(hn(),t)}function zo(t,e,n){var r=un();return Mo(r,yn(),e)&&hi(cn(),Pn(),r,t,e,r[11],n,!1),zo}function Wo(t,e,n,r,i){var o=i?"class":"style";Di(t,n,e.inputs[o],o,r)}function Ko(t,e,n,r){var i=un(),o=cn(),a=20+t,s=i[11],u=i[a]=$r(e,s,an.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,a){var s=e.consts,u=ti(e,t,2,i,nn(s,o));return fi(e,n,u,nn(s,a)),null!==u.attrs&&Co(u,u.attrs,!1),null!==u.mergedAttrs&&Co(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(t,o,i,0,e,n,r):o.data[a];fn(c,!0);var l=c.mergedAttrs;null!==l&&Un(s,u,l);var h=c.classes;null!==h&&Xi(s,u,h);var f=c.styles;null!==f&&Yi(s,u,f),Wi(o,i,u,c),0===an.lFrame.elementDepthCount&&Sr(u,i),an.lFrame.elementDepthCount++,Le(c)&&(oi(o,i,c),function(t,e,n){if(je(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}(o,c,i)),null!==r&&ai(i,c)}function Go(){var t=hn();pn()?an.lFrame.isParent=!1:fn(t=t.parent,!1);var e=t;an.lFrame.elementDepthCount--;var n=cn();n.firstCreatePass&&(xn(n,t),je(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Wo(n,e,un(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Wo(n,e,un(),e.stylesWithoutHost,!1)}function Qo(t,e,n,r){Ko(t,e,n,r),Go()}function Yo(){return un()}function Xo(t){return!!t&&"function"==typeof t.then}function Jo(t){return!!t&&"function"==typeof t.subscribe}function $o(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=un(),o=cn(),a=hn();return function(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,u=Le(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Ri(e),h=!0;if(2===r.type){var f=Xe(r,e),p=s?s(f):be,d=p.target||f,v=l.length,g=s?function(t){return s(Qe(t[r.index])).target}:r.index;if(Ke(n)){var y=null;if(!s&&u&&(y=function(t,e,n,r){var i=t.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=e[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(t,e,i,r.index)),null!==y)(y.__ngLastListenerFn__||y).__ngNextListenerFn__=o,y.__ngLastListenerFn__=o,h=!1;else{o=ta(r,e,o,!1);var m=n.listen(p.name||d,i,o);l.push(o,m),c&&c.push(i,g,v,v+1)}}else o=ta(r,e,o,!0),d.addEventListener(i,o,a),l.push(o),c&&c.push(i,g,v,a)}var b,_=r.outputs;if(h&&null!==_&&(b=_[i])){var w=b.length;if(w)for(var E=0;E<w;E+=2){var k=e[b[E]][b[E+1]].subscribe(o),I=l.length;l.push(o,k),c&&c.push(i,r.index,I,-(I+1))}}}(o,i,i[11],a,t,e,n,r),$o}function Zo(t,e,n){try{return!1!==e(n)}catch(r){return ji(t,r),!1}}function ta(t,e,n,r){return function i(o){if(o===Function)return n;var a=2&t.flags?$e(t.index,e):e;0==(32&e[2])&&Oi(a);for(var s=Zo(e,n,o),u=i.__ngNextListenerFn__;u;)s=Zo(e,u,o)&&s,u=u.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function ea(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(an.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,an.lFrame.contextLView))[8]}(t)}function na(t,e,n,r,i){var o=un(),a=Vo(o,e,n,r);return a!==Mr&&hi(cn(),Pn(),o,t,a,o[11],i,!1),na}var ra=[];function ia(t,e,n,r,i){for(var o=t[n+1],a=null===e,s=r?Kr(o):Qr(o),u=!1;0!==s&&(!1===u||a);){var c=t[s+1];oa(t[s],e)&&(u=!0,t[s+1]=r?Xr(c):Gr(c)),s=r?Kr(c):Qr(c)}u&&(t[n+1]=r?Gr(o):Xr(o))}function oa(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ve(t,e)>=0}function aa(t,e){return function(t,e,n,r){var i,o,a=un(),s=cn(),u=(i=an.lFrame,o=i.bindingIndex,i.bindingIndex=i.bindingIndex+2,o);s.firstUpdatePass&&function(t,e,n,r){var i=t.data;if(null===i[n+1]){var o=i[An()+20],a=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!a&&(e=!1),e=function(t,e,n,r){var i=function(t){var e=an.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t),o=e.residualClasses;if(null===i)0===e.classBindings&&(n=ua(n=sa(null,t,e,n,!0),e.attrs,!0),o=null);else{var a=e.directiveStylingLast;if(-1===a||t[a]!==i)if(n=sa(i,t,e,n,!0),null===o){var s=function(t,e,n){var r=e.classBindings;if(0!==Qr(r))return t[Kr(r)]}(t,e);void 0!==s&&Array.isArray(s)&&function(t,e,n,r){t[Kr(e.classBindings)]=r}(t,e,0,s=ua(s=sa(null,t,e,s[1],!0),e.attrs,!0))}else o=function(t,e,n){for(var r=void 0,i=e.directiveEnd,o=1+e.directiveStylingLast;o<i;o++)r=ua(r,t[o].hostAttrs,!0);return ua(r,e.attrs,!0)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e),function(t,e,n,r,i,o){var a=e.classBindings,s=Kr(a),u=Qr(a);t[r]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||ve(h,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var f=Kr(t[s+1]);t[r+1]=Wr(f,s),0!==f&&(t[f+1]=Yr(t[f+1],r)),t[s+1]=131071&t[s+1]|r<<17}else t[r+1]=Wr(s,0),0!==s&&(t[s+1]=Yr(t[s+1],r)),s=r;else t[r+1]=Wr(u,0),0===s?s=r:t[u+1]=Yr(t[u+1],r),u=r;l&&(t[r+1]=Gr(t[r+1])),ia(t,c,r,!0),ia(t,c,r,!1),function(t,e,n,r,i){var o=t.residualClasses;null!=o&&"string"==typeof e&&ve(o,e)>=0&&(n[r+1]=Xr(n[r+1]))}(e,c,t,r),a=Wr(s,u),e.classBindings=a}(i,o,e,n,a)}}(s,t,u),e!==Mr&&Mo(a,u,e)&&function(t,e,n,r,i,o,a,s){if(2===e.type){var u=t.data,c=u[s+1];la(1==(1&c)?ca(u,e,n,i,Qr(c),!0):void 0)||(la(o)||2==(2&c)&&(o=ca(u,null,n,i,s,!0)),function(t,e,n,r,i){var o=Ke(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,Ye(An(),n),i,o))}}(s,s.data[An()+20],a,a[11],t,a[u+1]=function(t,e){return null==t||"object"==typeof t&&(t=Pt(br(t))),t}(e),0,u)}(t,e),aa}function sa(t,e,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=ua(r,(o=e[s]).hostAttrs,i),o!==t);)s++;return null!==t&&(n.directiveStylingLast=s),r}function ua(t,e,n){var r,i,o,a,s=n?1:2,u=-1;if(null!==e)for(var c=0;c<e.length;c++){var l=e[c];"number"==typeof l?u=l:u===s&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),r=t,i=l,o=!!n||e[++c],a=void 0,(a=ve(r,i))>=0?r[1|a]=o:function(t,e,n,r){var i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(r,a=~a,i,o))}return void 0===t?null:t}function ca(t,e,n,r,i,o){for(var a=null===e,s=void 0;i>0;){var u=t[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===Mr&&(f=h?ra:void 0);var p=h?de(f,r):l===r?f:void 0;if(c&&!la(p)&&(p=de(u,r)),la(p)&&(s=p,a))return s;var d=t[i+1];i=a?Kr(d):Qr(d)}if(null!==e){var v=o?e.residualClasses:e.residualStyles;null!=v&&(s=de(v,r))}return s}function la(t){return void 0!==t}function ha(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=un(),r=cn(),i=t+20,o=r.firstCreatePass?ti(r,t,2,null,null):r.data[i],a=n[i]=function(t,e){return Ke(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Wi(r,n,a,o),fn(o,!1)}function fa(t){return pa("",t,""),fa}function pa(t,e,n){var r=un(),i=Vo(r,t,e,n);return i!==Mr&&function(t,e,n){var r=Ye(e,t),i=t[11];Ke(i)?i.setValue(r,n):r.textContent=n}(r,An(),i),pa}function da(t,e,n){var r=un();return Mo(r,yn(),e)&&hi(cn(),Pn(),r,t,e,r[11],n,!0),da}function va(t,e,n,r,i){if(t=Dt(t),Array.isArray(t))for(var o=0;o<t.length;o++)va(t[o],e,n,r,i);else{var a=cn(),s=un(),u=wo(t)?t:Dt(t.provide),c=mo(t),l=hn(),h=1048575&l.providerIndexes,f=l.directiveStart,p=l.providerIndexes>>20;if(wo(t)||!t.multi){var d=new Mn(c,i,Bo),v=ma(u,e,i?h:h+p,f);-1===v?(ir(tr(l,s),a,u),ga(a,t,e.length),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(d),s.push(d)):(n[v]=d,s[v]=d)}else{var g=ma(u,e,h+p,f),y=ma(u,e,h,h+p),m=g>=0&&n[g],b=y>=0&&n[y];if(i&&!b||!i&&!m){ir(tr(l,s),a,u);var _=function(t,e,n,r,i){var o=new Mn(t,n,Bo);return o.multi=[],o.index=e,o.componentProviders=0,ya(o,i,r&&!n),o}(i?_a:ba,n.length,i,r,c);!i&&b&&(n[y].providerFactory=_),ga(a,t,e.length,0),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(_),s.push(_)}else ga(a,t,g>-1?g:y,ya(n[i?y:g],c,!i&&r));!i&&r&&b&&n[y].componentProviders++}}}function ga(t,e,n,r){var i=wo(e);if(i||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var a=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){var s=a.indexOf(n);-1===s?a.push(n,[r,o]):a[s+1].push(r,o)}else a.push(n,o)}}}function ya(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ma(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function ba(t,e,n,r){return wa(this.multi,[])}function _a(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=cr(n,n[1],this.providerFactory.index,r);wa(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else wa(o,i=[]);return i}function wa(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ea(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(t,e,n){var r=cn();if(r.firstCreatePass){var i=Fe(t);va(n,r.data,r.blueprint,i,!0),va(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}}var ka=function t(){d(this,t)},Ia=function(){function t(){d(this,t)}return g(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(Pt(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),Ca=function(){var t=function t(){d(this,t)};return t.NULL=new Ia,t}(),Ta=function(){var t=function t(e){d(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=function(){return Sa(t)},t}(),Sa=function(t){return no(t,hn(),un())},Oa=function t(){d(this,t)},Aa=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({}),Na=function(){var t=function t(){d(this,t)};return t.__NG_ELEMENT_ID__=function(){return Pa()},t}(),Pa=function(){var t=un(),e=$e(hn().index,t);return function(t){var e=t[11];if(Ke(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(xe(e)?e:t)},xa=function(){var t=function t(){d(this,t)};return t.\u0275prov=wt({token:t,providedIn:"root",factory:function(){return null}}),t}(),Ra=new function t(e){d(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}("10.1.6"),ja=function(){function t(){d(this,t)}return g(t,[{key:"supports",value:function(t){return Do(t)}},{key:"create",value:function(t){return new La(t)}}]),t}(),Da=function(t,e){return e},La=function(){function t(e){d(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Da}return g(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<Va(n,r,i)?e:n,a=Va(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}a!==s&&t(o,a,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!Do(t))throw new Error("Error trying to diff '".concat(Pt(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)r=t[s],i=this._trackByFn(s,r),null!==o&&Object.is(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Object.is(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[Ro()]();!(r=i.next()).done;)e(r.value)}(t,(function(t){i=e._trackByFn(n,t),null!==o&&Object.is(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),Object.is(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Fa(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ua),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ua),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),t}(),Fa=function t(e,n){d(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Ma=function(){function t(){d(this,t),this._head=null,this._tail=null}return g(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),Ua=function(){function t(){d(this,t),this.map=new Map}return g(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Ma,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),t}();function Va(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var qa=function(){function t(){d(this,t)}return g(t,[{key:"supports",value:function(t){return t instanceof Map||Lo(t)}},{key:"create",value:function(){return new Ba}}]),t}(),Ba=function(){function t(){d(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return g(t,[{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||Lo(t)))throw new Error("Error trying to diff '".concat(Pt(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Ha(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach((function(n){return e(t[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),t}(),Ha=function t(e){d(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},za=function(){var t=function(){function t(e){d(this,t),this.factories=e}return g(t,[{key:"find",value:function(t){var e,n=this.factories.find((function(e){return e.supports(t)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new yt,new vt]]}}}]),t}();return t.\u0275prov=wt({token:t,providedIn:"root",factory:function(){return new t([new ja])}}),t}(),Wa=function(){var t=function(){function t(e){d(this,t),this.factories=e}return g(t,[{key:"find",value:function(t){var e=this.factories.find((function(e){return e.supports(t)}));if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new yt,new vt]]}}}]),t}();return t.\u0275prov=wt({token:t,providedIn:"root",factory:function(){return new t([new qa])}}),t}(),Ka=[new qa],Ga=new za([new ja]),Qa=new Wa(Ka),Ya=function(){var t=function t(){d(this,t)};return t.__NG_ELEMENT_ID__=function(){return Xa(t,Ta)},t}(),Xa=function(t,e){return ro(t,e,hn(),un())},Ja=function(){var t=function t(){d(this,t)};return t.__NG_ELEMENT_ID__=function(){return $a(t,Ta)},t}(),$a=function(t,e){return io(t,e,hn(),un())},Za={},ts=function(t){s(n,t);var e=c(n);function n(t){var r;return d(this,n),(r=e.call(this)).ngModule=t,r}return g(n,[{key:"resolveComponentFactory",value:function(t){var e=Ae(t);return new rs(e,this.ngModule)}}]),n}(Ca);function es(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var ns=new Xt("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Yn}}),rs=function(t){s(n,t);var e=c(n);function n(t,r){var i;return d(this,n),(i=e.call(this)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=t.selectors.map(Fr).join(","),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return g(n,[{key:"create",value:function(t,e,n,r){var i,o,a=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,Za,i);return o!==Za||r===Za?o:e.get(n,r,i)}}}(t,r.injector):t,s=a.get(Oa,Ge),u=a.get(xa,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(t,e,n){if(Ke(t))return t.selectRootElement(e,n===me.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,n,this.componentDef.encapsulation):$r(l,s.createRenderer(null,this.componentDef),function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,p={components:[],scheduler:Yn,clean:xi,playerHandler:null,flags:0},d=ui(0,null,null,1,0,null,null,null,null,null),v=Zr(null,d,p,f,null,null,s,c,u,a);kn(v);try{var g=function(t,e,n,r,i,o){var a=n[1];n[20]=t;var s=ti(a,0,2,null,null),u=s.mergedAttrs=e.hostAttrs;null!==u&&(Co(s,u,!0),null!==t&&(Un(i,t,u),null!==s.classes&&Xi(i,t,s.classes),null!==s.styles&&Yi(i,t,s.styles)));var c=r.createRenderer(t,e),l=Zr(n,si(e),null,e.onPush?64:16,n[20],s,r,c,null,null);return a.firstCreatePass&&(ir(tr(s,n),a,e.type),yi(a,s),bi(s,n.length,1)),Si(n,l),n[20]=l}(h,this.componentDef,v,s,c);if(h)if(n)Un(c,h,["ng-version",Ra.full]);else{var y=function(t){for(var e=[],n=[],r=1,i=2;r<t.length;){var o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Rr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),m=y.attrs,b=y.classes;m&&Un(c,h,m),b&&b.length>0&&Xi(c,h,b.join(" "))}if(o=Je(d,0),void 0!==e)for(var _=o.projection=[],w=0;w<this.ngContentSelectors.length;w++){var E=e[w];_.push(null!=E?Array.from(E):null)}i=function(t,e,n,r,i){var o=n[1],a=function(t,e,n){var r=hn();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),gi(t,r,1),_i(t,e,n));var i=cr(e,t,e.length-1,r);Sr(i,e);var o=Xe(r,e);return o&&Sr(o,e),i}(o,n,e);r.components.push(a),t[8]=a,i&&i.forEach((function(t){return t(a,e)})),e.contentQueries&&e.contentQueries(1,a,n.length-1);var s=hn();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){Nn(s.index-20);var u=n[1];pi(u,e),di(u,n,e.hostVars),vi(e,a)}return a}(g,this.componentDef,v,p,[To]),ei(d,v,null)}finally{On()}return new is(this.componentType,i,no(Ta,o,v),v,o)}},{key:"inputs",get:function(){return es(this.componentDef.inputs)}},{key:"outputs",get:function(){return es(this.componentDef.outputs)}}]),n}(ka),is=function(t){s(n,t);var e=c(n);function n(t,r,i,o,a){var s;return d(this,n),(s=e.call(this)).location=i,s._rootLView=o,s._tNode=a,s.destroyCbs=[],s.instance=r,s.hostView=s.changeDetectorRef=new eo(o),s.componentType=t,s}return g(n,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(t){this.destroyCbs&&this.destroyCbs.push(t)}},{key:"injector",get:function(){return new fr(this._tNode,this._rootLView)}}]),n}(function(){return function t(){d(this,t)}}()),os=["en",[["a","p"],["AM","PM"],void 0],[["AM","PM"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],as={};function ss(t){return t in as||(as[t]=Bt.ng&&Bt.ng.common&&Bt.ng.common.locales&&Bt.ng.common.locales[t]),as[t]}var us=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});function cs(t){var e;null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: Expected localeId to be defined"+" [Expected=> null != ".concat(e," <=Actual]"))}(0,e),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}var ls=new Map,hs=function(t){s(n,t);var e=c(n);function n(t,r){var i;d(this,n),(i=e.call(this))._parent=r,i._bootstrapComponents=[],i.injector=h(i),i.destroyCbs=[],i.componentFactoryResolver=new ts(h(i));var o=Pe(t),a=t[Gt]||null;return a&&cs(a),i._bootstrapComponents=Xn(o.bootstrap),i._r3Injector=vo(t,r,[{provide:ce,useValue:h(i)},{provide:Ca,useValue:i.componentFactoryResolver}],Pt(t)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(t),i}return g(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ko.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:mt.Default;return t===ko||t===ce||t===Jt?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(ce),fs=function(t){s(n,t);var e=c(n);function n(t){var r;return d(this,n),(r=e.call(this)).moduleType=t,null!==Pe(t)&&function t(e){if(null!==e.\u0275mod.id){var n=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(Pt(e)," vs ").concat(Pt(e.name)))})(n,ls.get(n),e),ls.set(n,e)}var r=e.\u0275mod.imports;r instanceof Function&&(r=r()),r&&r.forEach((function(e){return t(e)}))}(t),r}return g(n,[{key:"create",value:function(t){return new hs(this.moduleType,t)}}]),n}(le);function ps(t,e){var n,r=cn(),i=t+20;r.firstCreatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var r=e[n];if(t===r.name)return r}throw new Error("The pipe '".concat(t,"' could not be found!"))}(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=Ne(n.type)),a=re(Bo);try{var s=$n(!1),u=o();return $n(s),function(t,e,n,r){var i=n+20;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(r,un(),t,u),u}finally{re(a)}}function ds(t,e,n){var r=un(),i=function(t,e){return t[e+20]}(r,t);return function(t,e){return jo.isWrapped(e)&&(e=jo.unwrap(e),t[an.lFrame.bindingIndex]=Mr),e}(r,function(t,e){return t[1].data[e+20].pure}(r,t)?function(t,e,n,r,i,o){var a=e+n;return Mo(t,a,i)?Fo(t,a+1,o?r.call(o,i):r(i)):function(t,e){var n=t[e];return n===Mr?void 0:n}(t,a+1)}(r,gn(),e,i.transform,n,i):i.transform(n))}var vs=function(t){s(n,t);var e=c(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return d(this,n),(t=e.call(this)).__isAsync=r,t}return g(n,[{key:"emit",value:function(t){a(p(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,r){var i,o=function(t){return null},s=function(){return null};t&&"object"==typeof t?(i=this.__isAsync?function(e){setTimeout((function(){return t.next(e)}))}:function(e){t.next(e)},t.error&&(o=this.__isAsync?function(e){setTimeout((function(){return t.error(e)}))}:function(e){t.error(e)}),t.complete&&(s=this.__isAsync?function(){setTimeout((function(){return t.complete()}))}:function(){t.complete()})):(i=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)},e&&(o=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)}),r&&(s=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var u=a(p(n.prototype),"subscribe",this).call(this,i,o,s);return t instanceof I&&t.add(u),u}}]),n}(M);function gs(){return this._results[Ro()]()}var ys=function(){function t(){d(this,t),this.dirty=!0,this._results=[],this.changes=new vs,this.length=0;var e=Ro(),n=t.prototype;n[e]||(n[e]=gs)}return g(t,[{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t){this._results=function t(e,n){void 0===n&&(n=e);for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),ms=function(){function t(e){d(this,t),this.queryList=e,this.matches=null}return g(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),bs=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];d(this,t),this.queries=e}return g(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new t(i)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==As(t,e).matches&&this.queries[e].setDirty()}}]),t}(),_s=function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;d(this,t),this.predicate=e,this.descendants=n,this.isStatic=r,this.read=i},ws=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];d(this,t),this.queries=e}return g(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"track",value:function(t){this.queries.push(t)}},{key:"length",get:function(){return this.queries.length}}]),t}(),Es=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;d(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return g(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&3===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){var n=this.metadata.predicate;if(Array.isArray(n))for(var r=0;r<n.length;r++){var i=n[r];this.matchTNodeWithReadOption(t,e,ks(e,i)),this.matchTNodeWithReadOption(t,e,ur(e,t,i,!1,!1))}else n===Ya?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,ur(e,t,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===Ta||r===Ja||r===Ya&&0===e.type)this.addMatch(e.index,-2);else{var i=ur(e,t,r,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function ks(t,e){var n=t.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Is(t,e,n,r){return-1===n?function(t,e){return 2===t.type||3===t.type?no(Ta,t,e):0===t.type?ro(Ya,Ta,t,e):null}(e,t):-2===n?function(t,e,n){return n===Ta?no(Ta,e,t):n===Ya?ro(Ya,Ta,e,t):n===Ja?io(Ja,Ta,e,t):void 0}(t,e,r):cr(t,t[1],n,e)}function Cs(t,e,n,r){var i=e[19].queries[r];if(null===i.matches){for(var o=t.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var c=a[u];s.push(c<0?null:Is(e,o[c],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function Ts(t){var e=un(),n=cn(),r=_n();wn(r+1);var i=As(n,r);if(t.dirty&&tn(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{var o=i.crossesNgTemplate?function t(e,n,r,i){var o=e.queries.getByIndex(r),a=o.matches;if(null!==a)for(var s=Cs(e,n,o,r),u=0;u<a.length;u+=2){var c=a[u];if(c>0)i.push(s[u/2]);else{for(var l=a[u+1],h=n[-c],f=10;f<h.length;f++){var p=h[f];p[17]===p[3]&&t(p[1],p,l,i)}if(null!==h[9])for(var d=h[9],v=0;v<d.length;v++){var g=d[v];t(g[1],g,l,i)}}}return i}(n,e,r,[]):Cs(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Ss(t,e,n,r){!function(t,e,n,r,i,o,a,s){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new ws),t.queries.track(new Es(e,n))}(t,new _s(n,r,!1,i),a.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,s)),function(t,e){var n=new ys;ci(t,e,n,n.destroy),null===e[19]&&(e[19]=new bs),e[19].queries.push(new ms(n))}(t,e)}(cn(),un(),e,n,r,0,hn(),t)}function Os(){return t=un(),e=_n(),t[19].queries[e].queryList;var t,e}function As(t,e){return t.queries.getByIndex(e)}var Ns=new Xt("Application Initializer"),Ps=function(){var t=function(){function t(e){var n=this;d(this,t),this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(t,e){n.resolve=t,n.reject=e}))}return g(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Xo(i)&&e.push(i)}Promise.all(e).then((function(){n()})).catch((function(e){t.reject(e)})),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(oe(Ns,8))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t}(),xs=new Xt("AppId"),Rs={provide:xs,useFactory:function(){return"".concat(js()).concat(js()).concat(js())},deps:[]};function js(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Ds=new Xt("Platform Initializer"),Ls=new Xt("Platform ID"),Fs=new Xt("appBootstrapListener"),Ms=function(){var t=function(){function t(){d(this,t)}return g(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t}(),Us=new Xt("LocaleId"),Vs=new Xt("DefaultCurrencyCode"),qs=function t(e,n){d(this,t),this.ngModuleFactory=e,this.componentFactories=n},Bs=function(t){return new fs(t)},Hs=Bs,zs=function(t){return Promise.resolve(Bs(t))},Ws=function(t){var e=Bs(t),n=Xn(Pe(t).declarations).reduce((function(t,e){var n=Ae(e);return n&&t.push(new rs(n)),t}),[]);return new qs(e,n)},Ks=Ws,Gs=function(t){return Promise.resolve(Ws(t))},Qs=function(){var t=function(){function t(){d(this,t),this.compileModuleSync=Hs,this.compileModuleAsync=zs,this.compileModuleAndAllComponentsSync=Ks,this.compileModuleAndAllComponentsAsync=Gs}return g(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t}(),Ys=Promise.resolve(0);function Xs(t){"undefined"==typeof Zone?Ys.then((function(){t&&t.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var Js=function(){function t(e){var n,r,i=e.enableLongStackTrace,o=void 0!==i&&i,a=e.shouldCoalesceEventChangeDetection,s=void 0!==a&&a;if(d(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vs(!1),this.onMicrotaskEmpty=new vs(!1),this.onStable=new vs(!1),this.onError=new vs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=s,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=Bt.requestAnimationFrame,e=Bt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,r=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Bt,(function(){t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",(function(){t.lastRequestAnimationFrameId=-1,eu(t),tu(t)}),void 0,(function(){}),(function(){}))),t.fakeTopEventTask.invoke()})),eu(t))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:r},onInvokeTask:function(t,e,i,o,a,s){try{return nu(n),t.invokeTask(i,o,a,s)}finally{r&&"eventTask"===o.type&&r(),ru(n)}},onInvoke:function(t,e,r,i,o,a,s){try{return nu(n),t.invoke(r,i,o,a,s)}finally{ru(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,eu(n),tu(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return g(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Zs,$s,$s);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}();function $s(){}var Zs={};function tu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular((function(){return t.onStable.emit(null)}))}finally{t.isStable=!0}}}function eu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function nu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ru(t){t._nesting--,tu(t)}var iu,ou=function(){function t(){d(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vs,this.onMicrotaskEmpty=new vs,this.onStable=new vs,this.onError=new vs}return g(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,r){return t.apply(e,n)}}]),t}(),au=function(){var t=function(){function t(e){var n=this;d(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return g(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.subscribe({next:function(){Js.assertNotInAngularZone(),Xs((function(){t._isZoneStable=!0,t._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())Xs((function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1}));else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}})):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(t){return t.timeoutId!==i})),t(r._didWork,r.getPendingTasks())}),e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(oe(Js))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t}(),su=function(){var t=function(){function t(){d(this,t),this._applications=new Map,uu.addToWindow(this)}return g(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return uu.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t}(),uu=new(function(){function t(){d(this,t)}return g(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),cu=new Xt("AllowMultipleToken"),lu=function t(e,n){d(this,t),this.name=e,this.token=n};function hu(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: "+e,i=new Xt(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=fu();if(!o||o.injector.get(cu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0},{provide:uo,useValue:"platform"});!function(t){if(iu&&!iu.destroyed&&!iu.injector.get(cu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");iu=t.get(pu);var e=t.get(Ds,null);e&&e.forEach((function(t){return t()}))}(ko.create({providers:a,name:r}))}return function(t){var e=fu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function fu(){return iu&&!iu.destroyed?iu:null}var pu=function(){var t=function(){function t(e){d(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return g(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r,i=this,o=(n=e?e.ngZone:void 0,r=e&&e.ngZoneEventCoalescing||!1,"noop"===n?new ou:("zone.js"===n?void 0:n)||new Js({enableLongStackTrace:Er(),shouldCoalesceEventChangeDetection:r})),a=[{provide:Js,useValue:o}];return o.run((function(){var e=ko.create({providers:a,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(yr,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return yu(i._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(t){r.handleError(t)}})})),function(t,e,r){try{var o=((a=n.injector.get(Ps)).runInitializers(),a.donePromise.then((function(){return cs(n.injector.get(Us,"en-US")||"en-US"),i._moduleDoBootstrap(n),n})));return Xo(o)?o.catch((function(n){throw e.runOutsideAngular((function(){return t.handleError(n)})),n})):o}catch(s){throw e.runOutsideAngular((function(){return t.handleError(s)})),s}var a}(r,o)}))}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=du({},n);return function(t,e,n){var r=new fs(n);return Promise.resolve(r)}(0,0,t).then((function(t){return e.bootstrapModuleFactory(t,r)}))}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(gu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach((function(t){return e.bootstrap(t)}));else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(Pt(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(t){return t.destroy()})),this._destroyListeners.forEach((function(t){return t()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(oe(ko))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t}();function du(t,e){return Array.isArray(e)?e.reduce(du,t):Object.assign(Object.assign({},t),e)}var vu,gu=((vu=function(){function t(e,n,r,i,o,a){var s=this;d(this,t),this._zone=e,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Er(),this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run((function(){s.tick()}))}});var u=new x((function(t){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular((function(){t.next(s._stable),t.complete()}))})),c=new x((function(t){var e;s._zone.runOutsideAngular((function(){e=s._zone.onStable.subscribe((function(){Js.assertNotInAngularZone(),Xs((function(){s._stable||s._zone.hasPendingMacrotasks||s._zone.hasPendingMicrotasks||(s._stable=!0,t.next(!0))}))}))}));var n=s._zone.onUnstable.subscribe((function(){Js.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular((function(){t.next(!1)})))}));return function(){e.unsubscribe(),n.unsubscribe()}}));this.isStable=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Number.POSITIVE_INFINITY,i=null,o=e[e.length-1];return V(o)?(i=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(r=e.pop())):"number"==typeof o&&(r=e.pop()),null===i&&1===e.length&&e[0]instanceof x?e[0]:rt(r)(it(e,i))}(u,c.pipe((function(t){return ot()((e=ht,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,ct);return r.source=t,r.subjectFactory=n,r})(t));var e})))}return g(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof ka?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(ce),o=n.create(ko.NULL,[],e||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var a=o.injector.get(au,null);return a&&o.injector.get(su).registerApplication(o.location.nativeElement,a),this._loadComponent(o),Er()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var n,r=e(this._views);try{for(r.s();!(n=r.n()).done;)n.value.detectChanges()}catch(a){r.e(a)}finally{r.f()}if(this._enforceNoNewChanges){var i,o=e(this._views);try{for(o.s();!(i=o.n()).done;)i.value.checkNoChanges()}catch(a){o.e(a)}finally{o.f()}}}catch(s){this._zone.runOutsideAngular((function(){return t._exceptionHandler.handleError(s)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;yu(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Fs,[]).concat(this._bootstrapListeners).forEach((function(e){return e(t)}))}},{key:"_unloadComponent",value:function(t){this.detachView(t.hostView),yu(this.components,t)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(t){return t.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),t}()).\u0275fac=function(t){return new(t||vu)(oe(Js),oe(Ms),oe(ko),oe(yr),oe(Ca),oe(Ps))},vu.\u0275prov=wt({token:vu,factory:vu.\u0275fac}),vu);function yu(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var mu=function t(){d(this,t)},bu=function t(){d(this,t)},_u={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},wu=function(){var e=function(){function e(t,n){d(this,e),this._compiler=t,this._config=n||_u}return g(e,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(e){var n=this,r=t(e.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),u("zn8P")(i).then((function(t){return t[o]})).then((function(t){return Eu(t,i,o)})).then((function(t){return n._compiler.compileModuleAsync(t)}))}},{key:"loadFactory",value:function(e){var n=t(e.split("#"),2),r=n[0],i=n[1],o="NgFactory";return void 0===i&&(i="default",o=""),u("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(t){return t[i+o]})).then((function(t){return Eu(t,r,i)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(oe(Qs),oe(bu,8))},e.\u0275prov=wt({token:e,factory:e.\u0275fac}),e}();function Eu(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var ku=hu(null,"core",[{provide:Ls,useValue:"unknown"},{provide:pu,deps:[ko]},{provide:su,deps:[]},{provide:Ms,deps:[]}]),Iu=[{provide:gu,useClass:gu,deps:[Js,Ms,ko,yr,Ca,Ps]},{provide:ns,deps:[Js],useFactory:function(t){var e=[];return t.onStable.subscribe((function(){for(;e.length;)e.pop()()})),function(t){e.push(t)}}},{provide:Ps,useClass:Ps,deps:[[new vt,Ns]]},{provide:Qs,useClass:Qs,deps:[]},Rs,{provide:za,useFactory:function(){return Ga},deps:[]},{provide:Wa,useFactory:function(){return Qa},deps:[]},{provide:Us,useFactory:function(t){return cs(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new dt(Us),new vt,new yt]]},{provide:Vs,useValue:"USD"}],Cu=function(){var t=function t(e){d(this,t)};return t.\u0275mod=Te({type:t}),t.\u0275inj=Et({factory:function(e){return new(e||t)(oe(gu))},providers:Iu}),t}(),Tu=null;function Su(){return Tu}var Ou,Au=new Xt("DocumentToken"),Nu=((Ou=function t(){d(this,t)}).\u0275fac=function(t){return new(t||Ou)},Ou.\u0275prov=wt({factory:Pu,token:Ou,providedIn:"platform"}),Ou);function Pu(){return oe(ju)}var xu,Ru=new Xt("Location Initialized"),ju=((xu=function(t){s(n,t);var e=c(n);function n(t){var r;return d(this,n),(r=e.call(this))._doc=t,r._init(),r}return g(n,[{key:"_init",value:function(){this.location=Su().getLocation(),this._history=Su().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return Su().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){Su().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){Su().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"pushState",value:function(t,e,n){Du()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){Du()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}(Nu)).\u0275fac=function(t){return new(t||xu)(oe(Au))},xu.\u0275prov=wt({factory:Lu,token:xu,providedIn:"platform"}),xu);function Du(){return!!window.history.pushState}function Lu(){return new ju(oe(Au))}function Fu(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Mu(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Uu(t){return t&&"?"!==t[0]?"?"+t:t}var Vu,qu=((Vu=function t(){d(this,t)}).\u0275fac=function(t){return new(t||Vu)},Vu.\u0275prov=wt({factory:Bu,token:Vu,providedIn:"root"}),Vu);function Bu(t){var e=oe(Au).location;return new Gu(oe(Nu),e&&e.origin||"")}var Hu,zu,Wu,Ku=new Xt("appBaseHref"),Gu=((Wu=function(t){s(n,t);var e=c(n);function n(t,r){var i;if(d(this,n),(i=e.call(this))._platformLocation=t,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,l(i)}return g(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return Fu(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+Uu(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+Uu(r));this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+Uu(r));this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(qu)).\u0275fac=function(t){return new(t||Wu)(oe(Nu),oe(Ku,8))},Wu.\u0275prov=wt({token:Wu,factory:Wu.\u0275fac}),Wu),Qu=((zu=function(t){s(n,t);var e=c(n);function n(t,r){var i;return d(this,n),(i=e.call(this))._platformLocation=t,i._baseHref="",null!=r&&(i._baseHref=r),i}return g(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=Fu(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+Uu(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+Uu(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(qu)).\u0275fac=function(t){return new(t||zu)(oe(Nu),oe(Ku,8))},zu.\u0275prov=wt({token:zu,factory:zu.\u0275fac}),zu),Yu=((Hu=function(){function t(e,n){var r=this;d(this,t),this._subject=new vs,this._urlChangeListeners=[],this._platformStrategy=e;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=Mu(Ju(i)),this._platformStrategy.onPopState((function(t){r._subject.emit({url:r.path(!0),pop:!0,state:t.state,type:t.type})}))}return g(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+Uu(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Ju(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Uu(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Uu(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe((function(t){e._notifyUrlChangeListeners(t.url,t.state)})))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(t,e)}))}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}()).\u0275fac=function(t){return new(t||Hu)(oe(qu),oe(Nu))},Hu.normalizeQueryParams=Uu,Hu.joinWithSlash=Fu,Hu.stripTrailingSlash=Mu,Hu.\u0275prov=wt({factory:Xu,token:Hu,providedIn:"root"}),Hu);function Xu(){return new Yu(oe(qu),oe(Nu))}function Ju(t){return t.replace(/\/index.html$/,"")}var $u,Zu=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),tc=function t(){d(this,t)},ec=(($u=function(t){s(n,t);var e=c(n);function n(t){var r;return d(this,n),(r=e.call(this)).locale=t,r}return g(n,[{key:"getPluralCategory",value:function(t,e){switch(function(t){return function(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=ss(e);if(n)return n;var r=e.split("-")[0];if(n=ss(r))return n;if("en"===r)return os;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}(t)[us.PluralCase]}(e||this.locale)(t)){case Zu.Zero:return"zero";case Zu.One:return"one";case Zu.Two:return"two";case Zu.Few:return"few";case Zu.Many:return"many";default:return"other"}}}]),n}(tc)).\u0275fac=function(t){return new(t||$u)(oe(Us))},$u.\u0275prov=wt({token:$u,factory:$u.\u0275fac}),$u);function nc(n,r){r=encodeURIComponent(r);var i,o=e(n.split(";"));try{for(o.s();!(i=o.n()).done;){var a=i.value,s=a.indexOf("="),u=t(-1==s?[a,""]:[a.slice(0,s),a.slice(s+1)],2),c=u[0],l=u[1];if(c.trim()===r)return decodeURIComponent(l)}}catch(h){o.e(h)}finally{o.f()}return null}var rc,ic,oc=function(){function t(e,n,r,i){d(this,t),this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}return g(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),ac=((rc=function(){function t(e,n,r){d(this,t),this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return g(t,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation((function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new oc(null,e._ngForOf,-1,-1),null===i?void 0:i),a=new sc(t,o);n.push(a)}else if(null==i)e._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=e._viewContainer.get(r);e._viewContainer.move(s,i);var u=new sc(t,s);n.push(u)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}t.forEachIdentityChange((function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item}))}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}},{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(t){Er()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(t),". See https://angular.io/api/common/NgForOf#change-propagation for more information.")),this._trackByFn=t},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||rc)(Bo(Ja),Bo(Ya),Bo(za))},rc.\u0275dir=Oe({type:rc,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),rc),sc=function t(e,n){d(this,t),this.record=e,this.view=n},uc=((ic=function(){function t(e,n){d(this,t),this._viewContainer=e,this._context=new cc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return g(t,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){lc("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){lc("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||ic)(Bo(Ja),Bo(Ya))},ic.\u0275dir=Oe({type:ic,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),ic),cc=function t(){d(this,t),this.$implicit=null,this.ngIf=null};function lc(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(Pt(e),"'."))}var hc,fc,pc,dc,vc=((dc=function(){function t(){d(this,t)}return g(t,[{key:"transform",value:function(t){return JSON.stringify(t,null,2)}}]),t}()).\u0275fac=function(t){return new(t||dc)},dc.\u0275pipe={type:(pc={name:"json",type:dc,pure:!1}).type,name:pc.name,factory:null,pure:!1!==pc.pure,onDestroy:pc.type.prototype.ngOnDestroy||null},dc),gc=((fc=function t(){d(this,t)}).\u0275mod=Te({type:fc}),fc.\u0275inj=Et({factory:function(t){return new(t||fc)},providers:[{provide:tc,useClass:ec}]}),fc),yc=((hc=function t(){d(this,t)}).\u0275prov=wt({token:hc,providedIn:"root",factory:function(){return new mc(oe(Au),window,oe(yr))}}),hc),mc=function(){function t(e,n,r){d(this,t),this.document=e,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return g(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){if(this.supportsScrolling()){var e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{if(!this.window||!this.window.scrollTo)return!1;var t=bc(this.window.history)||bc(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(e){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window.scrollTo}catch(t){return!1}}}]),t}();function bc(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}var _c,wc,Ec,kc,Ic=function(t){s(n,t);var e=c(n);function n(){return d(this,n),e.apply(this,arguments)}return g(n,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=Cc||(Cc=document.querySelector("base"))?Cc.getAttribute("href"):null;return null==n?null:(e=n,_c||(_c=document.createElement("a")),_c.setAttribute("href",e),"/"===_c.pathname.charAt(0)?_c.pathname:"/"+_c.pathname)}},{key:"resetBaseElement",value:function(){Cc=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return nc(document.cookie,t)}}],[{key:"makeCurrent",value:function(){var t;t=new n,Tu||(Tu=t)}}]),n}(function(t){s(n,t);var e=c(n);function n(){return d(this,n),e.call(this)}return g(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function t(){d(this,t)}}())),Cc=null,Tc=new Xt("TRANSITION_ID"),Sc=[{provide:Ns,useFactory:function(t,e,n){return function(){n.get(Ps).donePromise.then((function(){var n=Su();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter((function(e){return e.getAttribute("ng-transition")===t})).forEach((function(t){return n.remove(t)}))}))}},deps:[Tc,Au,ko],multi:!0}],Oc=function(){function t(){d(this,t)}return g(t,[{key:"addToWindow",value:function(t){Bt.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},Bt.getAllAngularTestabilities=function(){return t.getAllTestabilities()},Bt.getAllAngularRootElements=function(){return t.getAllRootElements()},Bt.frameworkStabilizers||(Bt.frameworkStabilizers=[]),Bt.frameworkStabilizers.push((function(t){var e=Bt.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach((function(t){t.whenStable(i)}))}))}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?Su().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){var e;e=new t,uu=e}}]),t}(),Ac=new Xt("EventManagerPlugins"),Nc=((wc=function(){function t(e,n){var r=this;d(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach((function(t){return t.manager=r})),this._plugins=e.slice().reverse()}return g(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)}}]),t}()).\u0275fac=function(t){return new(t||wc)(oe(Ac),oe(Js))},wc.\u0275prov=wt({token:wc,factory:wc.\u0275fac}),wc),Pc=function(){function t(e){d(this,t),this._doc=e}return g(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=Su().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),xc=((kc=function(){function t(){d(this,t),this._stylesSet=new Set}return g(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach((function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}()).\u0275fac=function(t){return new(t||kc)},kc.\u0275prov=wt({token:kc,factory:kc.\u0275fac}),kc),Rc=((Ec=function(t){s(n,t);var e=c(n);function n(t){var r;return d(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(t.head),r}return g(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach((function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))}))}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach((function(n){return e._addStylesToHost(t,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(t){return Su().remove(t)}))}}]),n}(xc)).\u0275fac=function(t){return new(t||Ec)(oe(Au))},Ec.\u0275prov=wt({token:Ec,factory:Ec.\u0275fac}),Ec),jc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Dc=/%COMP%/g;function Lc(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?Lc(t,i,n):(i=i.replace(Dc,t),n.push(i))}return n}function Fc(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var Mc,Uc,Vc,qc,Bc=((Mc=function(){function t(e,n,r){d(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Hc(e)}return g(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case me.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new zc(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case me.Native:case me.ShadowDom:return new Wc(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=Lc(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Mc)(oe(Nc),oe(Rc),oe(xs))},Mc.\u0275prov=wt({token:Mc,factory:Mc.\u0275fac}),Mc),Hc=function(){function t(e){d(this,t),this.eventManager=e,this.data=Object.create(null)}return g(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(jc[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=jc[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=jc[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,r){r&Aa.DashCase?t.style.setProperty(e,n,r&Aa.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&Aa.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Fc(n)):this.eventManager.addEventListener(t,e,Fc(n))}}]),t}(),zc=function(t){s(n,t);var e=c(n);function n(t,r,i,o){var a;d(this,n),(a=e.call(this,t)).component=i;var s=Lc(o+"-"+i.id,i.styles,[]);return r.addStyles(s),a.contentAttr="_ngcontent-%COMP%".replace(Dc,o+"-"+i.id),a.hostAttr="_nghost-%COMP%".replace(Dc,o+"-"+i.id),a}return g(n,[{key:"applyToHost",value:function(t){a(p(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=a(p(n.prototype),"createElement",this).call(this,t,e);return a(p(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(Hc),Wc=function(t){s(n,t);var e=c(n);function n(t,r,i,o){var a;d(this,n),(a=e.call(this,t)).sharedStylesHost=r,a.hostEl=i,a.component=o,a.shadowRoot=o.encapsulation===me.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=Lc(o.id,o.styles,[]),u=0;u<s.length;u++){var c=document.createElement("style");c.textContent=s[u],a.shadowRoot.appendChild(c)}return a}return g(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return a(p(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return a(p(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return a(p(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(a(p(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(Hc),Kc=((Uc=function(t){s(n,t);var e=c(n);function n(t){return d(this,n),e.call(this,t)}return g(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(Pc)).\u0275fac=function(t){return new(t||Uc)(oe(Au))},Uc.\u0275prov=wt({token:Uc,factory:Uc.\u0275fac}),Uc),Gc=["alt","control","meta","shift"],Qc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Yc={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Xc={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Jc=((Vc=function(t){s(n,t);var e=c(n);function n(t){return d(this,n),e.call(this,t)}return g(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return Su().onAndCancel(t,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(Gc.forEach((function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")})),o+=i,0!=e.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Yc.hasOwnProperty(e)&&(e=Yc[e]))}return Qc[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Gc.forEach((function(r){r!=n&&(0,Xc[r])(t)&&(e+=r+".")})),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded((function(){return e(i)}))}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(Pc)).\u0275fac=function(t){return new(t||Vc)(oe(Au))},Vc.\u0275prov=wt({token:Vc,factory:Vc.\u0275fac}),Vc),$c=hu(ku,"browser",[{provide:Ls,useValue:"browser"},{provide:Ds,useValue:function(){Ic.makeCurrent(),Oc.init()},multi:!0},{provide:Au,useFactory:function(){return function(t){We=t}(document),document},deps:[]}]),Zc=[[],{provide:uo,useValue:"root"},{provide:yr,useFactory:function(){return new yr},deps:[]},{provide:Ac,useClass:Kc,multi:!0,deps:[Au,Js,Ls]},{provide:Ac,useClass:Jc,multi:!0,deps:[Au]},[],{provide:Bc,useClass:Bc,deps:[Nc,Rc,xs]},{provide:Oa,useExisting:Bc},{provide:xc,useExisting:Rc},{provide:Rc,useClass:Rc,deps:[Au]},{provide:au,useClass:au,deps:[Js]},{provide:Nc,useClass:Nc,deps:[Ac,Js]},[]],tl=((qc=function(){function t(e){if(d(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return g(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:xs,useValue:e.appId},{provide:Tc,useExisting:xs},Sc]}}}]),t}()).\u0275mod=Te({type:qc}),qc.\u0275inj=Et({factory:function(t){return new(t||qc)(oe(qc,12))},providers:Zc,imports:[gc,Cu]}),qc);"undefined"!=typeof window&&window;var el=u("zIRd");(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in i||(i[a]={}),i=i[a]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var a=n.setTimeout;r.prototype.c=function(t){a(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.v),reject:t(this.g)}},e.prototype.v=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.o(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.m(t):this.h(t)}},e.prototype.m=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new r;return e.prototype.o=function(t){var e=this.f();t.Pa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(wp){o(wp)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Pa(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Pa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),a=r.next();!a.done;a=r.next())o(a.value).Pa(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){function i(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,o(r.value).Pa(i(a.length-1),e),r=n.next()}while(!r.done)}))},e}));var o=o||{},a=this||self,s=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(){}function l(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function h(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){return"function"==l(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function d(t){return Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++g)}var v="closure_uid_"+(1e9*Math.random()>>>0),g=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function m(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:m).apply(null,arguments)}function _(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function E(t,e){function n(){}n.prototype=e.prototype,t.$a=e.prototype,t.prototype=new n,t.prototype.constructor=t}function k(t,e,n){this.code=T+t,this.message=e||S[t]||"",this.a=n||null}function I(t){var e=t&&t.code;return e?new k(e.substring(T.length),t.message,t.serverResponse):null}E(k,Error),k.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},k.prototype.toJSON=function(){return this.w()};var C,T="auth/",S={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},O={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function A(t){for(var e in O)if(O[e].id===t)return{firebaseEndpoint:(t=O[e]).Sa,secureTokenEndpoint:t.Ya,identityPlatformEndpoint:t.Va};return null}function N(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function P(t){if(Error.captureStackTrace)Error.captureStackTrace(this,P);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function x(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");P.call(this,n+t[r])}function R(t,e){throw new x("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function j(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function D(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function L(){this.b=this.a=null}C=A("__EID__")?"__EID__":void 0,E(P,Error),P.prototype.name="CustomError",E(x,P),x.prototype.name="AssertionError",j.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var F=new j((function(){return new U}),(function(t){t.reset()}));function M(){var t=ve,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function U(){this.next=this.b=this.a=null}L.prototype.add=function(t,e){var n=F.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},U.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},U.prototype.reset=function(){this.next=this.b=this.a=null};var V=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},q=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},B=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},H=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},z=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function W(t,e){return 0<=V(t,e)}function K(t,e){var n;return(n=0<=(e=V(t,e)))&&Array.prototype.splice.call(t,e,1),n}function G(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)}))}function Q(t){return Array.prototype.concat.apply([],arguments)}function Y(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var X,J=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},$=/&/g,Z=/</g,tt=/>/g,et=/"/g,nt=/'/g,rt=/\x00/g,it=/[\x00&<>"']/;function ot(t,e){return-1!=t.indexOf(e)}function at(t,e){return t<e?-1:t>e?1:0}t:{var st=a.navigator;if(st){var ut=st.userAgent;if(ut){X=ut;break t}}X=""}function ct(t){return ot(X,t)}function lt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ht(t){for(var e in t)return!1;return!0}function ft(t){var e,n={};for(e in t)n[e]=t[e];return n}var pt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<pt.length;o++)n=pt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break t}}catch(s){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(p(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;R("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function gt(t,e){this.a=t===bt&&e||"",this.b=mt}function yt(t){return t instanceof gt&&t.constructor===gt&&t.b===mt?t.a:(R("expected object of type Const, got '"+t+"'"),"type_error:Const")}gt.prototype.sa=!0,gt.prototype.ra=function(){return this.a},gt.prototype.toString=function(){return"Const{"+this.a+"}"};var mt={},bt={},_t=new gt(bt,"");function wt(t,e){this.a=t===St&&e||"",this.b=Tt}function Et(t){return t instanceof wt&&t.constructor===wt&&t.b===Tt?t.a:(R("expected object of type TrustedResourceUrl, got '"+t+"' of type "+l(t)),"type_error:TrustedResourceUrl")}function kt(t,e){var n=yt(t);if(!Ct.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(It,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof gt?yt(t):encodeURIComponent(String(t))})),new wt(St,t)}wt.prototype.sa=!0,wt.prototype.ra=function(){return this.a.toString()},wt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var It=/%{(\w+)}/g,Ct=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Tt={},St={};function Ot(t,e){this.a=t===Rt&&e||"",this.b=xt}function At(t){return t instanceof Ot&&t.constructor===Ot&&t.b===xt?t.a:(R("expected object of type SafeUrl, got '"+t+"' of type "+l(t)),"type_error:SafeUrl")}Ot.prototype.sa=!0,Ot.prototype.ra=function(){return this.a.toString()},Ot.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Nt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Pt(t){return t instanceof Ot?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Nt.test(t)||(t="about:invalid#zClosurez"),new Ot(Rt,t))}var xt={},Rt={};function jt(){this.a="",this.b=Lt}function Dt(t){return t instanceof jt&&t.constructor===jt&&t.b===Lt?t.a:(R("expected object of type SafeHtml, got '"+t+"' of type "+l(t)),"type_error:SafeHtml")}jt.prototype.sa=!0,jt.prototype.ra=function(){return this.a.toString()},jt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Lt={};function Ft(t){var e=new jt;return e.a=t,e}Ft("<!DOCTYPE html>");var Mt=Ft("");function Ut(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Vt(t){return it.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace($,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(Z,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(tt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(et,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(nt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(rt,"&#0;"))),t}function qt(t){return qt[" "](t),t}Ft("<br>"),qt[" "]=c;var Bt,Ht,zt=ct("Opera"),Wt=ct("Trident")||ct("MSIE"),Kt=ct("Edge"),Gt=Kt||Wt,Qt=ct("Gecko")&&!(ot(X.toLowerCase(),"webkit")&&!ct("Edge"))&&!(ct("Trident")||ct("MSIE"))&&!ct("Edge"),Yt=ot(X.toLowerCase(),"webkit")&&!ct("Edge");function Xt(){var t=a.document;return t?t.documentMode:void 0}t:{var Jt="",$t=(Ht=X,Qt?/rv:([^\);]+)(\)|;)/.exec(Ht):Kt?/Edge\/([\d\.]+)/.exec(Ht):Wt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ht):Yt?/WebKit\/(\S+)/.exec(Ht):zt?/(?:Version)[ \/]?(\S+)/.exec(Ht):void 0);if($t&&(Jt=$t?$t[1]:""),Wt){var Zt=Xt();if(null!=Zt&&Zt>parseFloat(Jt)){Bt=String(Zt);break t}}Bt=Jt}var te,ee={};function ne(t){return function(t,e){var n=ee;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=J(String(Bt)).split("."),r=J(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=at(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||at(0==a[2].length,0==s[2].length)||at(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}te=a.document&&Wt?Xt():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Ht){}var re=!Wt||9<=Number(te);function ie(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function oe(t,e){lt(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:ue.hasOwnProperty(n)?t.setAttribute(ue[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ae,se,ue={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ce(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!h(o)||p(o)&&0<o.nodeType?r(o):q(he(o)?Y(o):o,r)}}function le(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function he(t){if(t&&"number"==typeof t.length){if(p(t))return"function"==typeof t.item||"string"==typeof t.item;if(f(t))return"function"==typeof t.item}return!1}function fe(t){a.setTimeout((function(){throw t}),0)}function pe(t,e){se||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);se=function(){t.then(ge)}}else se=function(){var t=ge;!f(a.setImmediate)||a.Window&&a.Window.prototype&&!ct("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(ae||(ae=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ct("Presto")&&(t=function(){var t=le(document,"IFRAME");t.style.display="none",function(t){var e=new wt(St,yt(_t));vt(t,"HTMLIFrameElement"),t.src=Et(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(Dt(Mt)),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ct("Trident")&&!ct("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Fb;n.Fb=null,t()}},function(t){r.next={Fb:t},r=r.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}()),ae(t)):a.setImmediate(t)}}(),de||(se(),de=!0),ve.add(t,e)}var de=!1,ve=new L;function ge(){for(var t;t=M();){try{t.a.call(t.b)}catch(e){fe(e)}D(F,t)}de=!1}function ye(t,e){if(this.a=me,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=c)try{var n=this;t.call(e,(function(t){Ne(n,be,t)}),(function(t){if(!(t instanceof Fe))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Ne(n,_e,t)}))}catch(r){Ne(this,_e,r)}}var me=0,be=2,_e=3;function we(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}we.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ee=new j((function(){return new we}),(function(t){t.reset()}));function ke(t,e,n){var r=Ee.get();return r.g=t,r.b=e,r.f=n,r}function Ie(t){if(t instanceof ye)return t;var e=new ye(c);return Ne(e,be,t),e}function Ce(t){return new ye((function(e,n){n(t)}))}function Te(t,e,n){Pe(t,e,n,null)||pe(_(e,t))}function Se(t){return new ye((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Ob:!0,value:o}:{Ob:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Te(t[o],_(i,o,!0),_(i,o,!1));else e(r)}))}function Oe(t,e){t.b||t.a!=be&&t.a!=_e||xe(t),t.f?t.f.next=e:t.b=e,t.f=e}function Ae(t,e,n,r){var i=ke(null,null,null);return i.a=new ye((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(a){o(a)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Fe?o(e):t(i)}catch(a){o(a)}}:o})),i.a.c=t,Oe(t,i),i.a}function Ne(t,e,n){t.a==me&&(t===n&&(e=_e,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Pe(n,t.Zc,t.$c,t)||(t.i=n,t.a=e,t.c=null,xe(t),e!=_e||n instanceof Fe||function(t,e){t.g=!0,pe((function(){t.g&&Le.call(null,e)}))}(t,n)))}function Pe(t,e,n,r){if(t instanceof ye)return Oe(t,ke(e||c,n||null,r)),!0;if(N(t))return t.then(e,n,r),!0;if(p(t))try{var i=t.then;if(f(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,(function(t){a||(a=!0,n.call(i,t))}),o)}catch(s){o(s)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function xe(t){t.h||(t.h=!0,pe(t.fc,t))}function Re(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function je(t,e,n,r){if(n==_e&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,De(e,n,r);else try{e.c?e.g.call(e.f):De(e,n,r)}catch(i){Le.call(null,i)}D(Ee,e)}function De(t,e,n){e==be?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}ye.prototype.then=function(t,e,n){return Ae(this,f(t)?t:null,f(e)?e:null,n)},ye.prototype.$goog_Thenable=!0,(t=ye.prototype).na=function(t,e){return(t=ke(t,t,e)).c=!0,Oe(this,t),this},t.s=function(t,e){return Ae(this,null,t,e)},t.cancel=function(t){if(this.a==me){var e=new Fe(t);pe((function(){!function t(e,n){if(e.a==me)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==e&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==me&&1==i?t(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):Re(r),je(r,o,_e,n)))}e.c=null}else Ne(e,_e,n)}(this,e)}),this)}},t.Zc=function(t){this.a=me,Ne(this,be,t)},t.$c=function(t){this.a=me,Ne(this,_e,t)},t.fc=function(){for(var t;t=Re(this);)je(this,t,this.a,this.i);this.h=!1};var Le=fe;function Fe(t){P.call(this,t)}function Me(){0!=Ue&&(Ve[d(this)]=this),this.xa=this.xa,this.oa=this.oa}E(Fe,P),Fe.prototype.name="cancel";var Ue=0,Ve={};function qe(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=Ue)){var e=d(t);if(0!=Ue&&t.oa&&0<t.oa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ve[e]}}Me.prototype.xa=!1,Me.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var Be=Object.freeze||function(t){return t},He=!Wt||9<=Number(te),ze=Wt&&!ne("9"),We=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",c,e),a.removeEventListener("test",c,e)}catch(n){}return t}();function Ke(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ge(t,e){if(Ke.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Qt){t:{try{qt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Qe[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Ke.prototype.preventDefault=function(){this.defaultPrevented=!0},E(Ge,Ke);var Qe=Be({2:"touch",3:"pen",4:"mouse"});Ge.prototype.preventDefault=function(){Ge.$a.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ze)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Ge.prototype.g=function(){return this.a};var Ye="closure_listenable_"+(1e6*Math.random()|0),Xe=0;function Je(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ua=i,this.key=++Xe,this.va=this.Oa=!1}function $e(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Ua=null}function Ze(t){this.src=t,this.a={},this.b=0}function tn(t,e){var n=e.type;n in t.a&&K(t.a[n],e)&&($e(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function en(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Ua==r)return i}return-1}Ze.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=en(t,e,r,i);return-1<a?(e=t[a],n||(e.Oa=!1)):((e=new Je(e,this.src,o,!!r,i)).Oa=n,t.push(e)),e};var nn="closure_lm_"+(1e6*Math.random()|0),rn={};function on(t,e,n,r,i){if(r&&r.once)sn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)on(t,e[o],n,r,i);else n=gn(n),t&&t[Ye]?mn(t,e,n,p(r)?!!r.capture:!!r,i):an(t,e,n,!1,r,i)}function an(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=p(i)?!!i.capture:!!i,s=dn(t);if(s||(t[nn]=s=new Ze(t)),!(n=s.add(e,n,r,a,o)).proxy)if(r=function(){var t=pn,e=He?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)We||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ln(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function sn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)sn(t,e[o],n,r,i);else n=gn(n),t&&t[Ye]?bn(t,e,n,p(r)?!!r.capture:!!r,i):an(t,e,n,!0,r,i)}function un(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)un(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=gn(n),t&&t[Ye]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=en(o=t.a[e],n,r,i))&&($e(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=dn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=en(e,n,r,i)),(n=-1<t?e[t]:null)&&cn(n))}function cn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[Ye])tn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ln(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=dn(e))?(tn(n,t),0==n.b&&(n.src=null,e[nn]=null)):$e(t)}}}function ln(t){return t in rn?rn[t]:rn[t]="on"+t}function hn(t,e,n,r){var i=!0;if((t=dn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=fn(o,r),i=i&&!1!==o)}return i}function fn(t,e){var n=t.listener,r=t.Ua||t.src;return t.Oa&&cn(t),n.call(r,e)}function pn(t,e){if(t.va)return!0;if(!He){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Ge(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=hn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=hn(r[i],t,!1,e),n=n&&o}return n}return fn(t,new Ge(e,this))}function dn(t){return(t=t[nn])instanceof Ze?t:null}var vn="__closure_events_fn_"+(1e9*Math.random()>>>0);function gn(t){return f(t)?t:(t[vn]||(t[vn]=function(e){return t.handleEvent(e)}),t[vn])}function yn(){Me.call(this),this.v=new Ze(this),this.$b=this,this.fb=null}function mn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function bn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function _n(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.va&&a.capture==n){var s=a.listener,u=a.Ua||a.src;a.Oa&&tn(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function wn(t,e,n){if(f(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function En(t){var e=null;return new ye((function(n,r){-1==(e=wn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).s((function(t){throw a.clearTimeout(e),t}))}function kn(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function In(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.V||"function"!=typeof t.V){if(h(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Cn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Cn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Tn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Sn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Sn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Sn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}E(yn,Me),yn.prototype[Ye]=!0,yn.prototype.addEventListener=function(t,e,n,r){on(this,t,e,n,r)},yn.prototype.removeEventListener=function(t,e,n,r){un(this,t,e,n,r)},yn.prototype.dispatchEvent=function(t){var e,n=this.fb;if(n)for(e=[];n;n=n.fb)e.push(n);n=this.$b;var r=t.type||t;if("string"==typeof t)t=new Ke(t,n);else if(t instanceof Ke)t.target=t.target||n;else{var i=t;dt(t=new Ke(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=_n(a,r,!0,t)&&i}if(i=_n(a=t.b=n,r,!0,t)&&i,i=_n(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=_n(a=t.b=e[o],r,!1,t)&&i;return i},yn.prototype.Da=function(){if(yn.$a.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)$e(n[r]);delete e.a[t],e.b--}}this.fb=null},(t=Cn.prototype).V=function(){Tn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return Tn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Sn(this.b,t)?this.b[t]:e},t.set=function(t,e){Sn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var On=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function An(t,e){var n;this.a=this.l=this.f="",this.g=null,this.h=this.c="",this.i=!1,t instanceof An?(this.i=void 0!==e?e:t.i,Nn(this,t.f),this.l=t.l,this.a=t.a,Pn(this,t.g),this.c=t.c,xn(this,Jn(t.b)),this.h=t.h):t&&(n=String(t).match(On))?(this.i=!!e,Nn(this,n[1]||"",!0),this.l=Fn(n[2]||""),this.a=Fn(n[3]||"",!0),Pn(this,n[4]),this.c=Fn(n[5]||"",!0),xn(this,n[6]||"",!0),this.h=Fn(n[7]||"")):(this.i=!!e,this.b=new Wn(null,this.i))}function Nn(t,e,n){t.f=n?Fn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Pn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function xn(t,e,n){e instanceof Wn?(t.b=e,function(t,e){e&&!t.f&&(Kn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Qn(this,e),Xn(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=Mn(e,Hn)),t.b=new Wn(e,t.i))}function Rn(t,e,n){t.b.set(e,n)}function jn(t,e){return t.b.get(e)}function Dn(t){return t instanceof An?new An(t):new An(t,void 0)}function Ln(t,e,n,r){var i=new An(null,void 0);return t&&Nn(i,t),e&&(i.a=e),n&&Pn(i,n),r&&(i.c=r),i}function Fn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Mn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Un),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Un(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}An.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Mn(e,Vn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Mn(e,Vn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.c)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Mn(n,"/"==n.charAt(0)?Bn:qn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Mn(n,zn)),t.join("")},An.prototype.resolve=function(t){var e=new An(this),n=!!t.f;n?Nn(e,t.f):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.c;if(n)Pn(e,t.g);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.a&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ot(i,"./")||ot(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.b.toString(),n?xn(e,Jn(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Vn=/[#\/\?@]/g,qn=/[#\?:]/g,Bn=/[#\?]/g,Hn=/[#\?@]/g,zn=/#/g;function Wn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Kn(t){t.a||(t.a=new Cn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Gn(t){var e=In(t);if(void 0===e)throw Error("Keys are undefined");var n=new Wn(null,void 0);t=kn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Xn(n,i,o):n.add(i,o)}return n}function Qn(t,e){Kn(t),e=$n(t,e),Sn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Sn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Tn(t)))}function Yn(t,e){return Kn(t),e=$n(t,e),Sn(t.a.b,e)}function Xn(t,e,n){Qn(t,e),0<n.length&&(t.c=null,t.a.set($n(t,e),Y(n)),t.b+=n.length)}function Jn(t){var e=new Wn;return e.c=t.c,t.a&&(e.a=new Cn(t.a),e.b=t.b),e}function $n(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Zn(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),t(e,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(a=n[i])&&(r.push(o),rr(i,r),r.push(":"),t(e,a,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":rr(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new tr,t,e),e.join("")}function tr(){}(t=Wn.prototype).add=function(t,e){Kn(this),this.c=null,t=$n(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Kn(this),this.a.forEach((function(n,r){q(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Kn(this);for(var t=this.a.V(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){Kn(this);var e=[];if("string"==typeof t)Yn(this,t)&&(e=Q(e,this.a.get($n(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=Q(e,t[n])}return e},t.set=function(t,e){return Kn(this),this.c=null,Yn(this,t=$n(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var er={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},nr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function rr(t,e){e.push('"',t.replace(nr,(function(t){var e=er[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),er[t]=e),e})),'"')}function ir(){var t=Er();return Wt&&!!te&&11==te||/Edge\/\d+/.test(t)}function or(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function ar(t,e){e=e||a.window;var n="about:blank";t&&(n=At(Pt(t))),e.location.href=n}function sr(t){return!!((t=(t||Er()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function ur(t){t=t||a.window;try{t.close()}catch(e){}}function cr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Er().toLowerCase(),r&&(e.target=r,ot(n,"crios/")&&(e.target="_blank")),br(Er())==mr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Ot?n:Pt(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((ct("iPhone")&&!ct("iPod")&&!ct("iPad")||ct("iPad")||ct("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(vt(a=le(document,"A"),"HTMLAnchorElement"),e instanceof Ot||e instanceof Ot||(e="object"==typeof e&&e.sa?e.ra():String(e),Nt.test(e)||(e="about:invalid#zClosurez"),e=new Ot(Rt,e)),a.href=At(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=r.open("",n,a),t=At(e),a&&(Gt&&ot(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t=Ft('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Vt(t)+'">'),r=a.document)&&(r.write(Dt(t)),r.close())):(a=r.open(At(e),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var lr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hr=/^[^@]+@[^@]+$/;function fr(){var t=null;return new ye((function(e){"complete"==a.document.readyState?e():(t=function(){e()},sn(window,"load",t))})).s((function(e){throw un(window,"load",t),e}))}function pr(t){return t=t||Er(),!("file:"!==Sr()&&"ionic:"!==Sr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function dr(){var t=a.window;try{return!(!t||t==t.top)}catch(e){return!1}}function vr(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function gr(){return el.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":el.a.INTERNAL.hasOwnProperty("node")?"Node":vr()?"Worker":"Browser"}function yr(){var t=gr();return"ReactNative"===t||"Node"===t}var mr="Firefox";function br(t){var e=t.toLowerCase();return ot(e,"opera/")||ot(e,"opr/")||ot(e,"opios/")?"Opera":ot(e,"iemobile")?"IEMobile":ot(e,"msie")||ot(e,"trident/")?"IE":ot(e,"edge/")?"Edge":ot(e,"firefox/")?mr:ot(e,"silk/")?"Silk":ot(e,"blackberry")?"Blackberry":ot(e,"webos")?"Webos":!ot(e,"safari/")||ot(e,"chrome/")||ot(e,"crios/")||ot(e,"android")?!ot(e,"chrome/")&&!ot(e,"crios/")||ot(e,"edge/")?ot(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":"Chrome":"Safari"}var _r={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function wr(t,e){e=e||[];var n,r=[],i={};for(n in _r)i[_r[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=gr())?r=br(i=Er()):"Worker"===r&&(r=br(i=Er())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Er(){return a.navigator&&a.navigator.userAgent||""}function kr(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Ir(){try{var t=a.localStorage,e=xr();if(t)return t.setItem(e,"1"),t.removeItem(e),!ir()||!!a.indexedDB}catch(n){return vr()&&!!a.indexedDB}return!1}function Cr(){return(Tr()||"chrome-extension:"===Sr()||pr())&&!yr()&&Ir()&&!vr()}function Tr(){return"http:"===Sr()||"https:"===Sr()}function Sr(){return a.location&&a.location.protocol||null}function Or(t){return!sr(t=t||Er())&&br(t)!=mr}function Ar(t){return void 0===t?null:Zn(t)}function Nr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Pr(t){if(null!==t)return JSON.parse(t)}function xr(t){return t||Math.floor(1e9*Math.random()).toString()}function Rr(t){return"Safari"!=br(t=t||Er())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function jr(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Dr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Er(),e=gr(),this.b=sr(t)||"ReactNative"===e}function Lr(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Fr(t){"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t)}function Mr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Ur(){return!(!kr("fireauth.oauthhelper",a)&&!kr("fireauth.iframe",a))}Dr.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Tr()&&"chrome-extension:"!==Sr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Vr,qr={};function Br(t){qr[t]||(qr[t]=!0,Fr(t))}try{var Hr={};Object.defineProperty(Hr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Hr,"abcd",{configurable:!0,enumerable:!0,value:2}),Vr=2==Hr.abcd}catch(Ht){Vr=!1}function zr(t,e,n){Vr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Wr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&zr(t,n,e[n])}function Kr(t){var e={};return Wr(e,t),e}function Gr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)zr(e,n,Gr(t[n]));return e}function Qr(t){var e=t&&(t[Zr]?"phone":null);if(!(e&&t&&t[$r]))throw new k("internal-error","Internal assert: invalid MultiFactorInfo object");zr(this,"uid",t[$r]),zr(this,"displayName",t[Xr]||null);var n=null;t[Jr]&&(n=new Date(t[Jr]).toUTCString()),zr(this,"enrollmentTime",n),zr(this,"factorId",e)}function Yr(t){try{var e=new ti(t)}catch(n){e=null}return e}Qr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Xr="displayName",Jr="enrolledAt",$r="mfaEnrollmentId",Zr="phoneInfo";function ti(t){Qr.call(this,t),zr(this,"phoneNumber",t[Zr])}function ei(t){var e={},n=t[oi],r=t[si],i=t[ui];if(t=Yr(t[ai]),!i||i!=ri&&i!=ii&&!n||i==ii&&!r||i==ni&&!t)throw Error("Invalid checkActionCode response!");i==ii?(e[li]=n||null,e[fi]=n||null,e[ci]=r):(e[li]=r||null,e[fi]=r||null,e[ci]=n||null),e[hi]=t||null,zr(this,di,i),zr(this,pi,Gr(e))}E(ti,Qr),ti.prototype.w=function(){var t=ti.$a.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ni="REVERT_SECOND_FACTOR_ADDITION",ri="EMAIL_SIGNIN",ii="VERIFY_AND_CHANGE_EMAIL",oi="email",ai="mfaInfo",si="newEmail",ui="requestType",ci="email",li="fromEmail",hi="multiFactorInfo",fi="previousEmail",pi="data",di="operation";function vi(t){var e=jn(t=Dn(t),gi)||null,n=jn(t,yi)||null,r=jn(t,_i)||null;if(r=r&&Ei[r]||null,!e||!n||!r)throw new k("argument-error",gi+", "+yi+"and "+_i+" are required in a valid action code URL.");Wr(this,{apiKey:e,operation:r,code:n,continueUrl:jn(t,mi)||null,languageCode:jn(t,bi)||null,tenantId:jn(t,wi)||null})}var gi="apiKey",yi="oobCode",mi="continueUrl",bi="languageCode",_i="mode",wi="tenantId",Ei={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ni,signIn:ri,verifyAndChangeEmail:ii,verifyEmail:"VERIFY_EMAIL"};function ki(t){try{return new vi(t)}catch(e){return null}}function Ii(t){var e=t[Ai];if(void 0===e)throw new k("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new k("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ci];if(n&&"object"==typeof n){e=n[xi];var r=n[Ni];if(n=n[Pi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new k("argument-error",Ni+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new k("argument-error",Pi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new k("argument-error",xi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new k("missing-android-pkg-name")}}else if(void 0!==n)throw new k("argument-error",Ci+" property must be a non null object when specified.");if(this.f=null,(e=t[Oi])&&"object"==typeof e){if("string"==typeof(e=e[Ri])&&e.length)this.f=e;else if(void 0!==e)throw new k("argument-error",Ri+" property must be a non empty string when specified.")}else if(void 0!==e)throw new k("argument-error",Oi+" property must be a non null object when specified.");if(void 0!==(e=t[Si])&&"boolean"!=typeof e)throw new k("argument-error",Si+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ti])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new k("argument-error",Ti+" property must be a non empty string when specified.");this.i=t||null}var Ci="android",Ti="dynamicLinkDomain",Si="handleCodeInApp",Oi="iOS",Ai="url",Ni="installApp",Pi="minimumVersion",xi="packageName",Ri="bundleId";function ji(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Di=null;function Li(t){var e=Mi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,w(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Fi(t){try{return new Li(t)}catch(e){return null}}function Mi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Di[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Di){Di={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Di[o]&&(Di[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e+=String.fromCharCode(t)})),e}(t))}catch(r){}return null}Li.prototype.S=function(){return this.f},Li.prototype.i=function(){return this.b},Li.prototype.toString=function(){return this.g};var Ui="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Vi=["client_id","response_type","scope","redirect_uri","state"],qi={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:Vi},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:Vi},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:Vi},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:Ui},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function Bi(t){for(var e in qi)if(qi[e].fa==t)return qi[e];return null}function Hi(t){var e={};e["facebook.com"]=Qi,e["google.com"]=Xi,e["github.com"]=Yi,e["twitter.com"]=Ji;var n=t&&t[Wi];try{if(n)return e[n]?new e[n](t):new Gi(t);if(void 0!==t[zi])return new Ki(t)}catch(r){}return null}var zi="idToken",Wi="providerId";function Ki(t){var e=t[Wi];if(!e&&t[zi]){var n=Fi(t[zi]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),zr(this,"providerId",e),zr(this,"isNewUser",n)}function Gi(t){Ki.call(this,t),zr(this,"profile",Gr((t=Pr(t.rawUserInfo||"{}"))||{}))}function Qi(t){if(Gi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Yi(t){if(Gi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");zr(this,"username",this.profile&&this.profile.login||null)}function Xi(t){if(Gi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ji(t){if(Gi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");zr(this,"username",t.screenName||null)}function $i(t){var e=Dn(t),n=jn(e,"link"),r=jn(Dn(n),"link");return e=jn(e,"deep_link_id"),jn(Dn(e),"link")||e||r||n||t}function Zi(t,e){if(!t&&!e)throw new k("internal-error","Internal assert: no raw session string available");if(t&&e)throw new k("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?to:eo}E(Gi,Ki),E(Qi,Gi),E(Yi,Gi),E(Xi,Gi),E(Ji,Gi);var to="enroll",eo="signin";function no(){}function ro(t,e){return t.then((function(t){if(t[Ha]){var n=Fi(t[Ha]);if(!n||e!=n.h)throw new k("user-mismatch");return t}throw new k("user-mismatch")})).s((function(t){throw t&&t.code&&t.code==T+"user-not-found"?new k("user-mismatch"):t}))}function io(t,e){if(!e)throw new k("internal-error","failed to construct a credential");this.a=e,zr(this,"providerId",t),zr(this,"signInMethod",t)}function oo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function ao(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new io(t.providerId,t.pendingToken)}catch(e){}return null}function so(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&zr(this,"idToken",e.idToken),e.accessToken&&zr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&zr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new k("internal-error","failed to construct a credential");zr(this,"accessToken",e.oauthToken),zr(this,"secret",e.oauthTokenSecret)}zr(this,"providerId",t),zr(this,"signInMethod",n)}function uo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Gn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function co(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new so(t.providerId,e,t.signInMethod)}catch(n){}}return null}function lo(t,e){this.Pc=e||[],Wr(this,{providerId:t,isOAuthProvider:!0}),this.Hb={},this.ob=(Bi(t)||{}).Ja||null,this.nb=null}function ho(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new k("argument-error",'SAML provider IDs must be prefixed with "saml."');lo.call(this,t,[])}function fo(t){lo.call(this,t,Vi),this.a=[]}function po(){fo.call(this,"facebook.com")}function vo(t){if(!t)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new po).credential({accessToken:e})}function go(){fo.call(this,"github.com")}function yo(t){if(!t)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new go).credential({accessToken:e})}function mo(){fo.call(this,"google.com"),this.Ca("profile")}function bo(t,e){var n=t;return p(t)&&(n=t.idToken,e=t.accessToken),(new mo).credential({idToken:n,accessToken:e})}function _o(){lo.call(this,"twitter.com",Ui)}function wo(t,e){var n=t;if(p(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new k("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new so("twitter.com",n,"twitter.com")}function Eo(t,e,n){this.a=t,this.f=e,zr(this,"providerId","password"),zr(this,"signInMethod",n===Io.EMAIL_LINK_SIGN_IN_METHOD?Io.EMAIL_LINK_SIGN_IN_METHOD:Io.EMAIL_PASSWORD_SIGN_IN_METHOD)}function ko(t){return t&&t.email&&t.password?new Eo(t.email,t.password,t.signInMethod):null}function Io(){Wr(this,{providerId:"password",isOAuthProvider:!1})}function Co(t,e){if(!(e=To(e)))throw new k("argument-error","Invalid email link!");return new Eo(t,e.code,Io.EMAIL_LINK_SIGN_IN_METHOD)}function To(t){return(t=ki(t=$i(t)))&&t.operation===ri?t:null}function So(t){if(!(t.cb&&t.bb||t.La&&t.ea))throw new k("internal-error");this.a=t,zr(this,"providerId","phone"),this.fa="phone",zr(this,"signInMethod","phone")}function Oo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return q(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new So(e)}return null}function Ao(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.cb,code:t.a.bb}}function No(t){try{this.a=t||el.a.auth()}catch(e){throw new k("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Wr(this,{providerId:"phone",isOAuthProvider:!1})}function Po(t,e){if(!t)throw new k("missing-verification-id");if(!e)throw new k("missing-verification-code");return new So({cb:t,bb:e})}function xo(t){if(t.temporaryProof&&t.phoneNumber)return new So({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return bo(o,n);case"facebook.com":return vo(n);case"github.com":return yo(n);case"twitter.com":return wo(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new io(e,a):new so(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new fo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function Ro(t){if(!t.isOAuthProvider)throw new k("invalid-oauth-provider")}function jo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new k("invalid-auth-event");if(this.g&&this.a)throw new k("invalid-auth-event");if(this.g&&!this.f)throw new k("invalid-auth-event")}function Do(t){return(t=t||{}).type?new jo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&I(t.error),t.postBody,t.tenantId):null}function Lo(){this.b=null,this.a=[]}Zi.prototype.Ha=function(){return Ie(this.a?this.a:this.b)},Zi.prototype.w=function(){return this.type==to?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},no.prototype.ja=function(){},no.prototype.b=function(){},no.prototype.c=function(){},no.prototype.w=function(){},io.prototype.ja=function(t){return ls(t,oo(this))},io.prototype.b=function(t,e){var n=oo(this);return n.idToken=e,hs(t,n)},io.prototype.c=function(t,e){return ro(fs(t,oo(this)),e)},io.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},so.prototype.ja=function(t){return ls(t,uo(this))},so.prototype.b=function(t,e){var n=uo(this);return n.idToken=e,hs(t,n)},so.prototype.c=function(t,e){return ro(fs(t,uo(this)),e)},so.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},lo.prototype.Ka=function(t){return this.Hb=ft(t),this},E(ho,lo),E(fo,lo),fo.prototype.Ca=function(t){return W(this.a,t)||this.a.push(t),this},fo.prototype.Pb=function(){return Y(this.a)},fo.prototype.credential=function(t,e){var n;if(!(n=p(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new k("argument-error","credential failed: must provide the ID token and/or the access token.");return new so(this.providerId,n,this.providerId)},E(po,fo),zr(po,"PROVIDER_ID","facebook.com"),zr(po,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),E(go,fo),zr(go,"PROVIDER_ID","github.com"),zr(go,"GITHUB_SIGN_IN_METHOD","github.com"),E(mo,fo),zr(mo,"PROVIDER_ID","google.com"),zr(mo,"GOOGLE_SIGN_IN_METHOD","google.com"),E(_o,lo),zr(_o,"PROVIDER_ID","twitter.com"),zr(_o,"TWITTER_SIGN_IN_METHOD","twitter.com"),Eo.prototype.ja=function(t){return this.signInMethod==Io.EMAIL_LINK_SIGN_IN_METHOD?Gs(t,_s,{email:this.a,oobCode:this.f}):Gs(t,Bs,{email:this.a,password:this.f})},Eo.prototype.b=function(t,e){return this.signInMethod==Io.EMAIL_LINK_SIGN_IN_METHOD?Gs(t,ws,{idToken:e,email:this.a,oobCode:this.f}):Gs(t,js,{idToken:e,email:this.a,password:this.f})},Eo.prototype.c=function(t,e){return ro(this.ja(t),e)},Eo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Wr(Io,{PROVIDER_ID:"password"}),Wr(Io,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Wr(Io,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),So.prototype.ja=function(t){return t.eb(Ao(this))},So.prototype.b=function(t,e){var n=Ao(this);return n.idToken=e,Gs(t,zs,n)},So.prototype.c=function(t,e){var n=Ao(this);return n.operation="REAUTH",ro(t=Gs(t,Ws,n),e)},So.prototype.w=function(){var t={providerId:"phone"};return this.a.cb&&(t.verificationId=this.a.cb),this.a.bb&&(t.verificationCode=this.a.bb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},No.prototype.eb=function(t,e){var n=this.a.a;return Ie(e.verify()).then((function(r){if("string"!=typeof r)throw new k("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=p(t)?t.session:null,o=p(t)?t.phoneNumber:t;return(i&&i.type==to?i.Ha().then((function(t){return function(t,e){return Gs(t,Ls,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==eo?i.Ha().then((function(e){return function(t,e){return Gs(t,Fs,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return Gs(t,xs,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new k("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Wr(No,{PROVIDER_ID:"phone"}),Wr(No,{PHONE_SIGN_IN_METHOD:"phone"}),jo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},jo.prototype.S=function(){return this.h},jo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Fo,Mo=null;function Uo(t){var e="unauthorized-domain",n=void 0,r=Dn(t);t=r.a,"chrome-extension"==(r=r.f)?n=Ut("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Ut("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",k.call(this,e,n)}function Vo(t,e,n){k.call(this,t,n),(t=e||{}).Ib&&zr(this,"email",t.Ib),t.ea&&zr(this,"phoneNumber",t.ea),t.credential&&zr(this,"credential",t.credential),t.Yb&&zr(this,"tenantId",t.Yb)}function qo(t){if(t.code){var e=t.code||"";0==e.indexOf(T)&&(e=e.substring(T.length));var n={credential:xo(t),Yb:t.tenantId};if(t.email)n.Ib=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new k(e,t.message||void 0);return new Vo(e,n,t.message)}return null}function Bo(){}function Ho(){}function zo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Wo(){}function Ko(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.pc,this),this.a.onerror=b(this.Rb,this),this.a.onprogress=b(this.qc,this),this.a.ontimeout=b(this.uc,this)}function Go(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Qo(t,e,n){this.reset(t,e,n,void 0,void 0)}function Yo(t){this.f=t,this.b=this.c=this.a=null}function Xo(t,e){this.name=t,this.value=e}E(Uo,k),E(Vo,k),Vo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&dt(t,e),t},Vo.prototype.toJSON=function(){return this.w()},Bo.prototype.c=null,E(Ho,Bo),Ho.prototype.a=function(){var t=zo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Ho.prototype.b=function(){var t={};return zo(this)&&(t[0]=!0,t[1]=!0),t},Fo=new Ho,E(Wo,Bo),Wo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Ko;throw Error("Unsupported browser")},Wo.prototype.b=function(){return{}},(t=Ko.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Go(this,4)},t.Rb=function(){this.status=500,this.response=this.responseText="",Go(this,4)},t.uc=function(){this.Rb()},t.qc=function(){this.status=200,Go(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Qo.prototype.a=null,Qo.prototype.reset=function(t,e,n,r,i){r||w(),delete this.a},Xo.prototype.toString=function(){return this.name};var Jo=new Xo("SEVERE",1e3),$o=new Xo("WARNING",900),Zo=new Xo("CONFIG",700),ta=new Xo("FINE",500);Yo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(R("Root logger has no level set."),null)}(this).value)for(f(e)&&(e=e()),t=new Qo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ea={},na=null;function ra(t){var e;if(na||(na=new Yo(""),ea[""]=na,na.c=Zo),!(e=ea[t])){e=new Yo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ra(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,ea[t]=e}return e}function ia(t,e){t&&t.log(ta,e,void 0)}function oa(t){this.f=t}function aa(t){yn.call(this),this.o=t,this.readyState=sa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=ra("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}E(oa,Bo),oa.prototype.a=function(){return new aa(this.f)},oa.prototype.b=function(t){return function(){return t}}({}),E(aa,yn);var sa=0;function ua(t){t.c.read().then(t.oc.bind(t)).catch(t.Ta.bind(t))}function ca(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,la(t)}function la(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ha(t){yn.call(this),this.headers=new Cn,this.O=t||null,this.c=!1,this.A=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.G=!1,this.g=0,this.o=null,this.m=fa,this.u=this.R=!1}(t=aa.prototype).open=function(t,e){if(this.readyState!=sa)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,la(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.o.fetch(new Request(this.g,e)).then(this.tc.bind(this),this.Ta.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ca(this,!1)),this.readyState=sa},t.tc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,la(this)),this.a&&(this.readyState=3,la(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,ua(this)):t.text().then(this.sc.bind(this),this.Ta.bind(this)))))},t.oc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ca(this,!0):la(this),3==this.readyState&&ua(this)}},t.sc=function(t){this.a&&(this.response=this.responseText=t,ca(this,!0))},t.rc=function(t){this.a&&(this.response=t,ca(this,!0))},t.Ta=function(t){var e=this.h;e&&e.log($o,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&ca(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log($o,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log($o,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},E(ha,yn);var fa="";ha.prototype.b=ra("goog.net.XhrIo");var pa=/^https?$/i,da=["POST","PUT"];function va(t){return"content-type"==t.toLowerCase()}function ga(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ya(t),ba(t)}function ya(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ma(t){if(t.c&&void 0!==o)if(t.A[1]&&4==wa(t)&&2==Ea(t))ia(t.b,ka(t,"Local request error detected and ignored"));else if(t.i&&4==wa(t))wn(t.Ub,0,t);else if(t.dispatchEvent("readystatechange"),4==wa(t)){ia(t.b,ka(t,"Request complete")),t.c=!1;try{var e,n=Ea(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.l).match(On)[1]||null;if(!s&&a.self&&a.self.location){var u=a.self.location.protocol;s=u.substr(0,u.length-1)}i=!pa.test(s?s.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<wa(t)?t.a.statusText:""}catch(l){ia(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+Ea(t)+"]",ya(t)}}finally{ba(t)}}}function ba(t,e){if(t.a){_a(t);var n=t.a,r=t.A[0]?c:null;t.a=null,t.A=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(Jo,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function _a(t){t.a&&t.u&&(t.a.ontimeout=null),t.o&&(a.clearTimeout(t.o),t.o=null)}function wa(t){return t.a?t.a.readyState:0}function Ea(t){try{return 2<wa(t)?t.a.status:-1}catch(e){return-1}}function ka(t,e){return e+" ["+t.P+" "+t.l+" "+Ea(t)+"]"}function Ia(t){var e=Da;this.g=[],this.u=e,this.o=t||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.i=!1,this.h=0,this.b=null,this.l=0}function Ca(t,e,n){t.a=!0,t.c=n,t.f=!e,Aa(t)}function Ta(t){if(t.a){if(!t.m)throw new Na(t);t.m=!1}}function Sa(t,e,n,r){t.g.push([e,n,r]),t.a&&Aa(t)}function Oa(t){return z(t.g,(function(t){return f(t[1])}))}function Aa(t){if(t.h&&t.a&&Oa(t)){var e=t.h,n=Ra[e];n&&(a.clearTimeout(n.a),delete Ra[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var u=o.call(i||t.o,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(N(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,Oa(t)||(n=!0)}}t.c=e,r&&(u=b(t.v,t,!0),r=b(t.v,t,!1),e instanceof Ia?(Sa(e,u,r),e.A=!0):e.then(u,r)),n&&(e=new xa(e),Ra[e.a]=e,t.h=e.a)}function Na(){P.call(this)}function Pa(){P.call(this)}function xa(t){this.a=a.setTimeout(b(this.c,this),0),this.b=t}(t=ha.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ia(this.b,ka(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ia(this.b,ka(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ba(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ba(this,!0)),ha.$a.Da.call(this)},t.Ub=function(){this.xa||(this.N||this.i||this.f?ma(this):this.Ic())},t.Ic=function(){ma(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case fa:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Jo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ia(this.b,"Can not get response: "+e.message),null}},Ia.prototype.cancel=function(t){if(this.a)this.c instanceof Ia&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.o,this):this.m=!0,this.a||(t=new Pa(this),Ta(this),Ca(this,!1,t))}},Ia.prototype.v=function(t,e){this.i=!1,Ca(this,t,e)},Ia.prototype.then=function(t,e,n){var r,i,o=new ye((function(t,e){r=t,i=e}));return Sa(this,r,(function(t){t instanceof Pa?o.cancel():i(t)})),o.then(t,e,n)},Ia.prototype.$goog_Thenable=!0,E(Na,P),Na.prototype.message="Deferred has already fired",Na.prototype.name="AlreadyCalledError",E(Pa,P),Pa.prototype.message="Deferred was canceled",Pa.prototype.name="CanceledError",xa.prototype.c=function(){throw delete Ra[this.a],this.b};var Ra={};function ja(t){var e={},n=e.document||document,r=Et(t).toString(),i=le(document,"SCRIPT"),o={Vb:i,Ma:void 0},c=new Ia(o),l=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(l=window.setTimeout((function(){La(i,!0);var t=new Ua(Ma,"Timeout reached for loading script "+r);Ta(c),Ca(c,!1,t)}),h),o.Ma=l),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(La(i,e.wd||!1,l),Ta(c),Ca(c,!0,null))},i.onerror=function(){La(i,!0,l);var t=new Ua(Fa,"Error while loading script "+r);Ta(c),Ca(c,!1,t)},dt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),oe(i,o),function(t,e){vt(t,"HTMLScriptElement"),t.src=Et(e),null===u&&(u=(e=(e=a.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&s.test(e)?e:""),(e=u)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),c}function Da(){if(this&&this.Vb){var t=this.Vb;t&&"SCRIPT"==t.tagName&&La(t,!0,this.Ma)}}function La(t,e,n){null!=n&&a.clearTimeout(n),t.onload=c,t.onerror=c,t.onreadystatechange=c,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Fa=0,Ma=1;function Ua(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),P.call(this,n),this.code=t}function Va(t){this.f=t}function qa(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=t.secureTokenTimeout||za,this.g=ft(t.secureTokenHeaders||Wa),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=t.firebaseTimeout||Ka,this.a=ft(t.firebaseHeaders||Ga),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==gr(),!(n=a.XMLHttpRequest||n&&el.a.INTERNAL.node&&el.a.INTERNAL.node.XMLHttpRequest)&&!vr())throw new k("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=vr()?new oa(self):yr()?new Va(n):new Wo,this.b=null}E(Ua,P),E(Va,Bo),Va.prototype.a=function(){return new this.f},Va.prototype.b=function(){return{}};var Ba,Ha="idToken",za=new Dr(3e4,6e4),Wa={"Content-Type":"application/x-www-form-urlencoded"},Ka=new Dr(3e4,6e4),Ga={"Content-Type":"application/json"};function Qa(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Ya(t,e){e&&(t.l=Xa("https://securetoken.googleapis.com/v1/token",e),t.h=Xa("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=Xa("https://identitytoolkit.googleapis.com/v2/",e))}function Xa(t,e){return t=Dn(t),e=Dn(e.url),t.c=t.a+t.c,Nn(t,e.f),t.a=e.a,Pn(t,e.g),t.toString()}function Ja(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function $a(t,e,n,r,i,o,s){(function(){var t=Er();return!((t="Chrome"!=br(t)?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Wt&&te&&!(9<te))})()||vr()?t=b(t.u,t):(Ba||(Ba=new ye((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[ts]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Sa(t,null,e,void 0)}(ja(kt(Za,{onload:ts})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=b(t.o,t)),t(e,n,r,i,o,s)}qa.prototype.S=function(){return this.b},qa.prototype.u=function(t,e,n,r,i,o){if(vr()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new k("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new ha(this.f);if(o){s.g=Math.max(0,o);var u=setTimeout((function(){s.dispatchEvent("timeout")}),o)}mn(s,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ia(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),bn(s,"ready",(function(){u&&clearTimeout(u),qe(this)})),bn(s,"timeout",(function(){u&&clearTimeout(u),qe(this),e&&e(null)})),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.G=!1,t.c=!0,t.a=t.O?t.O.a():Fo.a(),t.A=function(t){return t.c||(t.c=t.b())}(t.O?t.O:Fo),t.a.onreadystatechange=b(t.Ub,t);try{ia(t.b,ka(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(s){return ia(t.b,ka(t,"Error opening Xhr: "+s.message)),void ga(t,s)}e=r||"";var o=new Cn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||"string"==typeof t)q(t,e,void 0);else for(var n=In(t),r=kn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=va,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=a.FormData&&e instanceof a.FormData,!W(da,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{_a(t),0<t.g&&(t.u=function(t){return Wt&&ne(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),ia(t.b,ka(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=b(t.Ma,t)):t.o=wn(t.Ma,t.g,t)),ia(t.b,ka(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(s){ia(t.b,ka(t,"Send error: "+s.message)),ga(t,s)}}(s,t,n,r,i)};var Za=new gt(bt,"https://apis.google.com/js/client.js?onload=%{onload}"),ts="__fcb"+Math.floor(1e6*Math.random()).toString();function es(t){if("string"!=typeof(t=t.email)||!hr.test(t))throw new k("invalid-email")}function ns(t){"email"in t&&es(t)}function rs(t){if(!t[Ha]){if(t.mfaPendingCredential)throw new k("multi-factor-auth-required",null,ft(t));throw new k("internal-error")}}function is(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new k("internal-error")}else{if(!t.sessionInfo)throw new k("missing-verification-id");if(!t.code)throw new k("missing-verification-code")}}qa.prototype.o=function(t,e,n,r,i){var o=this;Ba.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).s((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},qa.prototype.yb=function(){return Gs(this,Ds,{})},qa.prototype.Ab=function(t,e){return Gs(this,Rs,{idToken:t,email:e})},qa.prototype.Bb=function(t,e){return Gs(this,js,{idToken:t,password:e})};var os={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function as(t){if(!t.phoneVerificationInfo)throw new k("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new k("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new k("missing-verification-code")}function ss(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new k("internal-error")}function us(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Yn(t=new Wn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function cs(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=qo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=qo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=qo(t)):t.errorMessage&&(e=Qs(t.errorMessage)),e)throw e;rs(t)}function ls(t,e){return e.returnIdpCredential=!0,Gs(t,Ms,e)}function hs(t,e){return e.returnIdpCredential=!0,Gs(t,Vs,e)}function fs(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Gs(t,Us,e)}function ps(t){if(!t.oobCode)throw new k("invalid-action-code")}(t=qa.prototype).Cb=function(t,e){var n={idToken:t},r=[];return lt(os,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Gs(this,Rs,n)},t.ub=function(t,e){return dt(t={requestType:"PASSWORD_RESET",email:t},e),Gs(this,Os,t)},t.vb=function(t,e){return dt(t={requestType:"EMAIL_SIGNIN",email:t},e),Gs(this,Cs,t)},t.tb=function(t,e){return dt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Gs(this,Ts,t)},t.Db=function(t,e,n){return dt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Gs(this,Ss,t)},t.eb=function(t){return Gs(this,Hs,t)},t.mb=function(t,e){return Gs(this,Ps,{oobCode:t,newPassword:e})},t.Qa=function(t){return Gs(this,vs,{oobCode:t})},t.ib=function(t){return Gs(this,ds,{oobCode:t})};var ds={endpoint:"setAccountInfo",B:ps,Z:"email",C:!0},vs={endpoint:"resetPassword",B:ps,F:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new k("internal-error")},C:!0},gs={endpoint:"signupNewUser",B:function(t){if(es(t),!t.password)throw new k("weak-password")},F:rs,U:!0,C:!0},ys={endpoint:"createAuthUri",C:!0},ms={endpoint:"deleteAccount",M:["idToken"]},bs={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(t){if("array"!=l(t.deleteProvider))throw new k("internal-error")}},_s={endpoint:"emailLinkSignin",M:["email","oobCode"],B:es,F:rs,U:!0,C:!0},ws={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:es,F:rs,U:!0},Es={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:as,F:rs,C:!0,Na:!0},ks={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:as,F:rs,C:!0,Na:!0},Is={endpoint:"getAccountInfo"},Cs={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new k("internal-error");es(t)},Z:"email",C:!0},Ts={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new k("internal-error")},Z:"email",C:!0},Ss={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new k("internal-error")},Z:"email",C:!0},Os={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new k("internal-error");es(t)},Z:"email",C:!0},As={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},Ns={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(t){if(!t.recaptchaSiteKey)throw new k("internal-error")}},Ps={endpoint:"resetPassword",B:ps,Z:"email",C:!0},xs={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},Rs={endpoint:"setAccountInfo",M:["idToken"],B:ns,U:!0},js={endpoint:"setAccountInfo",M:["idToken"],B:function(t){if(ns(t),!t.password)throw new k("weak-password")},F:rs,U:!0},Ds={endpoint:"signupNewUser",F:rs,U:!0,C:!0},Ls={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(t){if(!t.phoneEnrollmentInfo)throw new k("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new k("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new k("missing-app-credential")},F:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new k("internal-error")},C:!0,Na:!0},Fs={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new k("missing-app-credential")},F:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new k("internal-error")},C:!0,Na:!0},Ms={endpoint:"verifyAssertion",B:ss,Xa:us,F:cs,U:!0,C:!0},Us={endpoint:"verifyAssertion",B:ss,Xa:us,F:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new k("user-not-found");if(t.errorMessage)throw Qs(t.errorMessage);rs(t)},U:!0,C:!0},Vs={endpoint:"verifyAssertion",B:function(t){if(ss(t),!t.idToken)throw new k("internal-error")},Xa:us,F:cs,U:!0},qs={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new k("invalid-custom-token")},F:rs,U:!0,C:!0},Bs={endpoint:"verifyPassword",B:function(t){if(es(t),!t.password)throw new k("wrong-password")},F:rs,U:!0,C:!0},Hs={endpoint:"verifyPhoneNumber",B:is,F:rs,C:!0},zs={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new k("internal-error");is(t)},F:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",qo(t);rs(t)}},Ws={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:is,F:rs,C:!0},Ks={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(t){if(!!t[Ha]^!!t.refreshToken)throw new k("internal-error")},C:!0,Na:!0};function Gs(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.M))return Ce(new k("internal-error"));var r,i=!!e.Na,o=e.Tb||"POST";return Ie(n).then(e.B).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,a){var s=Dn(e+n);Rn(s,"key",t.c),a&&Rn(s,"cb",w().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Rn(s,c,i[c]);return new ye((function(e,n){$a(t,s.toString(),(function(t){t?t.error?n(Ys(t,o||{})):e(t):n(new k("network-request-failed"))}),r,u?void 0:Zn(Nr(i)),t.a,t.m.get())}))}(t,i?t.i:t.h,e.endpoint,o,n,e.Gb,e.kb||!1)})).then((function(t){return r=t,e.Xa?e.Xa(n,r):r})).then(e.F).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new k("internal-error");return r[e.Z]}))}function Qs(t){return Ys({error:{errors:[{message:t}],code:400,message:t}})}function Ys(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new k(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",dt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new k(r[i],e);return!e&&t&&(e=Ar(t)),new k("internal-error",e)}function Xs(t){this.b=t,this.a=null,this.qb=function(t){return(tu||(tu=new ye((function(t,e){function n(){jr(),kr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){jr(),e(Error("Network Error"))},timeout:$s.get()})}if(kr("gapi.iframes.Iframe"))t();else if(kr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){kr("gapi.load")?n():e(Error("Network Error"))},Ie(ja(r=kt(Js,{onload:r}))).s((function(){e(Error("Network Error"))}))}})).s((function(t){throw tu=null,t})))).then((function(){return new ye((function(e,n){kr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),Zs.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var Js=new gt(bt,"https://apis.google.com/js/api.js?onload=%{onload}"),$s=new Dr(3e4,6e4),Zs=new Dr(5e3,15e3),tu=null;function eu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?Ln((t=Dn(this.g.url)).f,t.a,t.g,"/emulator/auth/iframe"):Ln("https",this.l,null,"/__/auth/iframe"),this.a=t,Rn(this.a,"apiKey",this.h),Rn(this.a,"appName",this.i),this.b=null,this.c=[]}function nu(t,e,n,r,i,o){this.u=t,this.o=e,this.c=n,this.v=r,this.m=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function ru(t){try{return el.a.app(t).auth().Ga()}catch(e){return[]}}function iu(t,e,n,r,i,o){this.o=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.A=null,this.h=[],this.v=this.a=null}function ou(t){var e=or();return function(t){return Gs(t,As,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Dn(e),r=n.f;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Dn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:lr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Uo(or())}))}function au(t){return t.v||(t.v=fr().then((function(){if(!t.u){var e=t.c,n=t.i,r=ru(t.b),i=new eu(t.o,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Y(r||[]),t.u=i.toString()}t.m=new Xs(t.u),function(t){if(!t.m)throw Error("IfcHandler must be initialized!");!function(t,e){t.qb.then((function(){t.a.register("authEvent",e,kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.m,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Do(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ie(n)}return n.status="ERROR",Ie(n)}))}(t)}))),t.v}function su(t){return t.l||(t.A=t.c?wr(t.c,ru(t.b)):null,t.l=new qa(t.g,A(t.i),t.A),t.f&&Ya(t.l,t.f)),t.l}function uu(t,e,n,r,i,o,a,s,u,c,l,h){return(t=new nu(t,e,n,r,i,h)).l=o,t.g=a,t.i=s,t.b=ft(u||null),t.f=c,t.xb(l).toString()}function cu(t){if(this.a=t||el.a.INTERNAL.reactNative&&el.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new k("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function lu(t){this.b=t,this.a={},this.f=b(this.c,this)}eu.prototype.toString=function(){return this.f?Rn(this.a,"v",this.f):Qn(this.a.b,"v"),this.b?Rn(this.a,"eid",this.b):Qn(this.a.b,"eid"),this.c.length?Rn(this.a,"fw",this.c.join(",")):Qn(this.a.b,"fw"),this.a.toString()},nu.prototype.xb=function(t){return this.h=t,this},nu.prototype.toString=function(){if(this.m){var t=Dn(this.m.url);t=Ln(t.f,t.a,t.g,"/emulator/auth/handler")}else t=Ln("https",this.u,null,"/__/auth/handler");if(Rn(t,"apiKey",this.o),Rn(t,"appName",this.c),Rn(t,"authType",this.v),this.a.isOAuthProvider){var e=this.a;try{var n=el.a.app(this.c).auth().ka()}catch(s){n=null}for(var r in e.nb=n,Rn(t,"providerId",this.a.providerId),e=Nr((n=this.a).Hb))e[r]=e[r].toString();r=n.Pc,e=ft(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.ob&&n.nb&&!e[n.ob]&&(e[n.ob]=n.nb),ht(e)||Rn(t,"customParameters",Ar(e))}if("function"==typeof this.a.Pb&&(n=this.a.Pb()).length&&Rn(t,"scopes",n.join(",")),this.l?Rn(t,"redirectUrl",this.l):Qn(t.b,"redirectUrl"),this.g?Rn(t,"eventId",this.g):Qn(t.b,"eventId"),this.i?Rn(t,"v",this.i):Qn(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!jn(t,a)&&Rn(t,a,this.b[a]);return this.h?Rn(t,"tid",this.h):Qn(t.b,"tid"),this.f?Rn(t,"eid",this.f):Qn(t.b,"eid"),(a=ru(this.c)).length&&Rn(t,"fw",a.join(",")),t.toString()},(t=iu.prototype).Nb=function(t,e,n){var r=new k("popup-closed-by-user"),i=new k("web-storage-unsupported"),o=this,a=!1;return this.la().then((function(){(function(t){var e={type:"webStorageSupport"};return au(t).then((function(){return function(t,e){return t.qb.then((function(){return new ye((function(n){t.a.send(e.type,e,n,kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.m,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&ur(t),e(i),a=!0)}))})).s((function(){})).then((function(){if(!a)return function(t){return new ye((function(e){return function n(){En(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return En(n).then((function(){e(r)}))}))},t.Wb=function(){var t=Er();return!Or(t)&&!Rr(t)},t.Sb=function(){return!1},t.Lb=function(t,e,n,r,i,o,a,s){if(!t)return Ce(new k("popup-blocked"));if(a&&!Or())return this.la().s((function(e){ur(t),i(e)})),r(),Ie();this.a||(this.a=ou(su(this)));var u=this;return this.a.then((function(){var e=u.la().s((function(e){throw ur(t),i(e),e}));return r(),e})).then((function(){Ro(n),a||ar(uu(u.o,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)})).s((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Mb=function(t,e,n,r){this.a||(this.a=ou(su(this)));var i=this;return this.a.then((function(){Ro(e),ar(uu(i.o,i.g,i.b,t,e,or(),n,i.c,void 0,i.i,r,i.f))})).s((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.la=function(){var t=this;return au(this).then((function(){return t.m.qb})).s((function(){throw t.a=null,new k("network-request-failed")}))},t.Zb=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ra=function(t){G(this.h,(function(e){return e==t}))},(t=cu.prototype).get=function(t){return Ie(this.a.getItem(t)).then((function(t){return t&&Pr(t)}))},t.set=function(t,e){return Ie(this.a.setItem(t,Ar(e)))},t.T=function(t){return Ie(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var hu,fu=[];function pu(t,e,n){ht(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function du(t){this.a=t}function vu(t){this.c=t,this.b=!1,this.a=[]}function gu(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Ce(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ye((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),t.a.push(c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return yu(t,c),e})).s((function(e){throw yu(t,c),e}))}function yu(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),G(t.a,(function(t){return t==e}))}}function mu(){if(!_u())throw new k("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var t=this;vr()&&self?(this.l=function(){var t=vr()?self:null;if(q(fu,(function(n){n.b==t&&(e=n)})),!e){var e=new lu(t);fu.push(e)}return e}(),pu(this.l,"keyChanged",(function(e,n){return Cu(t).then((function(e){return 0<e.length&&q(t.a,(function(t){t(e)})),{keyProcessed:W(e,n.key)}}))})),pu(this.l,"ping",(function(){return Ie(["keyChanged"])}))):function(){var t=a.navigator;return t&&t.serviceWorker?Ie().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).s((function(){return null})):Ie(null)}().then((function(e){(t.h=e)&&(t.g=new vu(new du(e)),gu(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&W(e[0].value,"keyChanged")&&(t.o=!0)})).s((function(){})))}))}function bu(t){return t.v||(t.v=function t(e){return new ye((function(n,r){var i=e.m.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(t){return new ye((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(e).then((function(){return t(e)})).then((function(t){n(t)})).s((function(t){r(t)}))}}))}(t)),t.v}function _u(){try{return!!a.indexedDB}catch(Ht){return!1}}function wu(t){return t.objectStore("firebaseLocalStorage")}function Eu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function ku(t){return new ye((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Iu(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?gu(t.g,"keyChanged",{key:e},t.o).then((function(){})).s((function(){})):Ie()}function Cu(t){return bu(t).then((function(t){var e=wu(Eu(t,!1));return e.getAll?ku(e.getAll()):new ye((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function Tu(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Su(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ie().then((function(){if(_u()){var t=xr(),r="__sak"+t;return hu||(hu=new mu),(n=hu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).s((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){q(e.a,(function(e){e(t)}))})),t}))}function Ou(){this.a={},this.type="inMemory"}function Au(){if(!function(){var t="Node"==gr();if(!(t=Nu()||t&&el.a.INTERNAL.node&&el.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==gr())throw new k("internal-error","The LocalStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=Nu()||el.a.INTERNAL.node.localStorage,this.type="localStorage"}function Nu(){try{var t=a.localStorage,e=xr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Pu(){this.type="nullStorage"}function xu(){if(!function(){var t="Node"==gr();if(!(t=Ru()||t&&el.a.INTERNAL.node&&el.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==gr())throw new k("internal-error","The SessionStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=Ru()||el.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Ru(){try{var t=a.sessionStorage,e=xr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function ju(){var t={};t.Browser=Fu,t.Node=Mu,t.ReactNative=Uu,t.Worker=Vu,this.a=t[gr()]}lu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];q(r,(function(e){i.push(Ie().then((function(){return e(t.origin,t.data.data)})))})),Se(i).then((function(r){var i=[];q(r,(function(t){i.push({fulfilled:t.Ob,value:t.value,reason:t.reason?t.reason.message:void 0})})),q(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},du.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},vu.prototype.close=function(){for(;0<this.a.length;)yu(this,this.a[0]);this.b=!0},(t=mu.prototype).set=function(t,e){var n,r=!1,i=this;return bu(this).then((function(e){return ku((e=wu(Eu(n=e,!0))).get(t))})).then((function(o){var a=wu(Eu(n,!0));return o?(o.value=e,ku(a.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,ku(a.add(o)))})).then((function(){return i.c[t]=e,Iu(i,t)})).na((function(){r&&i.b--}))},t.get=function(t){return bu(this).then((function(e){return ku(wu(Eu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var e=!1,n=this;return bu(this).then((function(r){return e=!0,n.b++,ku(wu(Eu(r,!0)).delete(t))})).then((function(){return delete n.c[t],Iu(n,t)})).na((function(){e&&n.b--}))},t.ca=function(t){0==this.a.length&&function(t){Tu(t),function e(){t.f=setTimeout((function(){t.i=Cu(t).then((function(e){0<e.length&&q(t.a,(function(t){t(e)}))})).then((function(){e()})).s((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ia=function(t){G(this.a,(function(e){return e==t})),0==this.a.length&&Tu(this)},(t=Su.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.T=function(t){return this.b.then((function(e){return e.T(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){G(this.a,(function(e){return e==t}))},(t=Ou.prototype).get=function(t){return Ie(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ie()},t.T=function(t){return delete this.a[t],Ie()},t.ca=function(){},t.ia=function(){},(t=Au.prototype).get=function(t){var e=this;return Ie().then((function(){return Pr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ie().then((function(){var r=Ar(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Ie().then((function(){e.a.removeItem(t)}))},t.ca=function(t){a.window&&on(a.window,"storage",t)},t.ia=function(t){a.window&&un(a.window,"storage",t)},(t=Pu.prototype).get=function(){return Ie(null)},t.set=function(){return Ie()},t.T=function(){return Ie()},t.ca=function(){},t.ia=function(){},(t=xu.prototype).get=function(t){var e=this;return Ie().then((function(){return Pr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ie().then((function(){var r=Ar(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Ie().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Du,Lu,Fu={D:Au,ab:xu},Mu={D:Au,ab:xu},Uu={D:cu,ab:Pu},Vu={D:Au,ab:Pu},qu={qd:"local",NONE:"none",sd:"session"};function Bu(){var t=!(Rr(Er())||!dr()),e=Or(),n=Ir();this.v=t,this.h=e,this.l=n,this.a={},Du||(Du=new ju),t=Du;try{this.g=!ir()&&Ur()||!a.indexedDB?new t.a.D:new Su(vr()?new Ou:new t.a.D)}catch(r){this.g=new Ou,this.h=!0}try{this.i=new t.a.ab}catch(r){this.i=new Ou}this.m=new Ou,this.f=b(this.Xb,this),this.b={}}function Hu(){return Lu||(Lu=new Bu),Lu}function zu(t,e){switch(e){case"session":return t.i;case"none":return t.m;default:return t.g}}function Wu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Ku(t,e,n){return n=Wu(e,n),"local"==e.D&&(t.b[n]=null),zu(t,e.D).T(n)}function Gu(t){t.c&&(clearInterval(t.c),t.c=null)}function Qu(t){this.a=t,this.b=Hu()}(t=Bu.prototype).get=function(t,e){return zu(this,t.D).get(Wu(t,e))},t.set=function(t,e,n){var r=Wu(t,n),i=this,o=zu(this,t.D);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.D&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=Wu(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),ht(this.a)&&(zu(this,"local").ca(this.f),this.h||(ir()||!Ur())&&a.indexedDB||!this.l||function(t){Gu(t),t.c=setInterval((function(){for(var e in t.a){var n=a.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Ge({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Xb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Wu(t,e),this.a[t]&&(G(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),ht(this.a)&&(zu(this,"local").ia(this.f),Gu(this))},t.Xb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.lb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?zu(this,"local").ia(this.f):Gu(this),this.v)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.lb(e))},Wt&&te&&10==te&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else q(t,b(this.lb,this))},t.lb=function(t){this.a[t]&&q(this.a[t],(function(t){t()}))};var Yu,Xu={name:"authEvent",D:"local"};function Ju(){this.a=Hu()}function $u(t,e){this.b=Zu,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===Yu&&(Yu=a.Int32Array?new Int32Array(ac):ac),this.reset()}E($u,(function(){this.b=-1}));for(var Zu=64,tc=Zu-1,ec=[],nc=0;nc<tc;nc++)ec[nc]=0;var rc=Q(128,ec);function ic(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|Yu[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function oc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(ic(t),i=0);else{if(!h(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(ic(t),i=0)}}t.c=i,t.g+=n}$u.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):Y(this.h)};var ac=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function sc(){$u.call(this,8,uc)}E(sc,$u);var uc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function cc(t,e,n,r,i,o){this.m=t,this.i=e,this.l=n,this.v=r||null,this.u=i||null,this.o=o,this.h=e+":"+n,this.A=new Ju,this.g=new Qu(this.h),this.f=null,this.b=[],this.a=this.c=null}function lc(t){return new k("invalid-cordova-configuration",t)}function hc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function fc(t){return t.f||(t.f=t.la().then((function(){return new ye((function(e){t.Ea((function n(r){return e(r),t.Ra(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),pc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=$i(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Pr(jn(o=Dn(i),"firebaseError")||null))?I(o):null)?new jo(r.c,r.b,null,null,o,null,r.S()):new jo(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}hc(t,i)}))}var n=new jo("unknown",null,null,null,new k("no-auth-event")),r=!1,i=En(500).then((function(){return pc(t).then((function(){r||hc(t,n)}))})),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(kr("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Mo||(Mo=new Lo),function(t){var e=Mo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=kr("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)}))}))),t.f}function pc(t){var e=null;return function(t){return t.b.get(Xu,t.a).then((function(t){return Do(t)}))}(t.g).then((function(n){return e=n,Ku((n=t.g).b,Xu,n.a)})).then((function(){return e}))}function dc(t){this.a=t,this.b=Hu()}(t=cc.prototype).la=function(){return this.Ia?this.Ia:this.Ia=(pr(void 0)?fr().then((function(){return new ye((function(t,e){var n=a.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ce(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof kr("universalLinks.subscribe",a))throw lc("cordova-universal-links-plugin-fix is not installed");if(void 0===kr("BuildInfo.packageName",a))throw lc("cordova-plugin-buildinfo is not installed");if("function"!=typeof kr("cordova.plugins.browsertab.openUrl",a))throw lc("cordova-plugin-browsertab is not installed");if("function"!=typeof kr("cordova.InAppBrowser.open",a))throw lc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new k("cordova-not-ready")}))},t.Nb=function(t,e){return e(new k("operation-not-supported-in-this-environment")),Ie()},t.Lb=function(){return Ce(new k("operation-not-supported-in-this-environment"))},t.Zb=function(){return!1},t.Wb=function(){return!0},t.Sb=function(){return!0},t.Mb=function(t,e,n,r){if(this.c)return Ce(new k("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,l=null;return this.c=Ie().then((function(){return Ro(e),fc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new jo(e,r,null,o,new k("no-auth-event"),null,i),u=kr("BuildInfo.packageName",a);if("string"!=typeof u)throw new k("invalid-cordova-configuration");var c=kr("BuildInfo.displayName",a),l={};if(Er().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Er().toLowerCase().match(/android/))return Ce(new k("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=function(t){var e=new sc;oc(e,t),t=[];var n=8*e.g;oc(e,rc,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(ic(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return H(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(o),l.sessionId=o;var h=uu(t.m,t.i,t.l,e,n,null,r,t.v,l,t.u,i,t.o);return t.la().then((function(){var e=t.h;return t.A.a.set(Xu,s.w(),e)})).then((function(){var e=kr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new k("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=kr("cordova.plugins.browsertab.openUrl",a)))throw new k("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=kr("cordova.InAppBrowser.open",a)))throw new k("invalid-cordova-configuration");e=Er(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new ye((function(t,e){u=function(){var e=kr("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),l=function(){Lr()&&c()},o.addEventListener("resume",c=function(){s||(s=En(2e3).then((function(){e(new k("redirect-cancelled-by-user"))})))},!1),Er().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).s((function(t){return pc(i).then((function(){throw t}))}))})).na((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),u&&i.Ra(u),i.c=null}))},t.Ea=function(t){this.b.push(t),fc(this).s((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new jo("unknown",null,null,null,new k("no-auth-event")),t(e))}))},t.Ra=function(t){G(this.b,(function(e){return e==t}))};var vc={name:"pendingRedirect",D:"session"};function gc(t){return Ku(t.b,vc,t.a)}function yc(t,e,n,r){this.i={},this.u=0,this.O=t,this.m=e,this.v=n,this.G=r,this.h=[],this.f=!1,this.l=b(this.o,this),this.b=new xc,this.A=new Fc,this.g=new dc(Nc(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=mc(this.O,this.m,this.v,C,this.G)}function mc(t,e,n,r,i){var o=el.a.SDK_VERSION||null;return pr()?new cc(t,e,n,o,r,i):new iu(t,e,n,o,r,i)}function bc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.la().s((function(n){throw t.a==e&&t.reset(),n}))}function _c(t){t.a.Wb()&&bc(t).s((function(e){var n=new jo("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Tc(e)&&t.o(n)})),t.a.Sb()||Rc(t.b)}function wc(t,e){W(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(vc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?gc(t.g).then((function(){bc(t).s((function(e){var n=new jo("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Tc(e)&&t.o(n)}))})):_c(t)})).s((function(){_c(t)}))}function Ec(t,e){G(t.h,(function(t){return t==e}))}yc.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=mc(this.O,this.m,this.v,null,this.G),this.i={}},yc.prototype.o=function(t){if(!t)throw new k("invalid-auth-event");if(6e5<=w()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Eb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=w())),e=!0;break}}return Rc(this.b),e};var kc=new Dr(2e3,1e4),Ic=new Dr(3e4,6e4);function Cc(t,e,n,r,i,o,a){return t.a.Lb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,a)}function Tc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Sc(t,e,n,r,i){var o;return function(t){return t.b.set(vc,"pending",t.a)}(t.g).then((function(){return t.a.Mb(e,n,r,i).s((function(e){if(Tc(e))throw new k("operation-not-supported-in-this-environment");return o=e,gc(t.g).then((function(){throw o}))})).then((function(){return t.a.Zb()?new ye((function(){})):gc(t.g).then((function(){return t.qa()})).then((function(){})).s((function(){}))}))}))}function Oc(t,e,n,r,i){return t.a.Nb(r,(function(t){e.ma(n,null,t,i)}),kc.get())}yc.prototype.qa=function(){return this.b.qa()};var Ac={};function Nc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Pc(t,e,n,r){var i=Nc(e,n,r);return Ac[i]||(Ac[i]=new yc(t,e,n,r)),Ac[i]}function xc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Rc(t){t.g||(t.g=!0,Lc(t,!1,null,null))}function jc(t){t.g&&!t.i&&Lc(t,!1,null,null)}function Dc(t,e){if(t.b=function(){return Ie(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Lc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ce(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Dc(t,n):Dc(t,{user:null}),t.f=[],t.c=[]}function Fc(){}function Mc(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(t){this.hb=t},enumerable:!1})}function Uc(t,e){this.a=e,zr(this,"verificationId",t)}function Vc(t,e,n,r){return new No(t).eb(e,n).then((function(t){return new Uc(t,r)}))}function qc(t){var e=Mi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new k("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Wr(this,{token:t,expirationTime:Mr(1e3*e.exp),authTime:Mr(1e3*e.auth_time),issuedAtTime:Mr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Bc(t,e,n){var r=e&&e[zc];if(!r)throw new k("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=ft(e),this.g=n,this.c=new Zi(null,r),this.b=[];var i=this;q(e[Hc]||[],(function(t){(t=Yr(t))&&i.b.push(t)})),zr(this,"auth",this.a),zr(this,"session",this.c),zr(this,"hints",this.b)}xc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},xc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Lc(this,!0,null,t.a),Ie()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.S(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){Lc(t,s,e,null)})).s((function(e){Lc(t,s,null,e)}))}(this,t,e):Ce(new k("invalid-auth-event")):(Lc(this,!1,null,null),Ie())}else Ce(new k("invalid-auth-event"))},xc.prototype.qa=function(){var t=this;return new ye((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new k("timeout");t.a&&t.a.cancel(),t.a=En(Ic.get()).then((function(){t.b||(t.g=!0,Lc(t,!0,null,e))}))}(t))}))},Fc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ma(t.c,null,t.a,t.b),Ie()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.S(),t.i).then((function(t){e.ma(r,t,null,n)})).s((function(t){e.ma(r,null,t,n)}))}(t,e):Ce(new k("invalid-auth-event"))}else Ce(new k("invalid-auth-event"))},Uc.prototype.confirm=function(t){return t=Po(this.verificationId,t),this.a(t)};var Hc="mfaInfo",zc="mfaPendingCredential";function Wc(t,e,n,r){k.call(this,"multi-factor-auth-required",r,e),this.b=new Bc(t,e,n),zr(this,"resolver",this.b)}function Kc(t,e,n){if(t&&p(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Wc(e,t.serverResponse,n,t.message)}catch(r){}return null}function Gc(){}function Qc(t){zr(this,"factorId",t.fa),this.a=t}function Yc(t){if(Qc.call(this,t),this.a.fa!=No.PROVIDER_ID)throw new k("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Xc(t,e){for(var n in Ke.call(this,t),e)this[n]=e[n]}function Jc(t,e){this.a=t,this.b=[],this.c=b(this.xc,this),on(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&q(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[$r]=t.uid),t.displayName&&(r[Xr]=t.displayName),t.enrollmentTime&&(r[Jr]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[Zr]=t.phoneNumber);try{e=new ti(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),$c(this,n)}function $c(t,e){t.b=e,zr(t,"enrolledFactors",e)}function Zc(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function tl(t){this.c=t,this.b=this.a=null}function nl(t){return t.b&&1e3*t.b.c||0}function rl(t,e){var n=e.refreshToken;t.b=Fi(e[Ha]||""),t.a=n}function il(t,e){this.a=t||null,this.b=e||null,Wr(this,{lastSignInTime:Mr(e||null),creationTime:Mr(t||null)})}function ol(t,e,n,r,i,o){Wr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function al(t,e,n){this.G=[],this.l=t.apiKey,this.m=t.appName,this.o=t.authDomain||null;var r=el.a.SDK_VERSION?wr(el.a.SDK_VERSION):null;this.a=new qa(this.l,A(C),r),t.emulatorConfig&&Ya(this.a,t.emulatorConfig),this.b=new tl(this.a),dl(this,e[Ha]),rl(this.b,e),zr(this,"refreshToken",this.b.a),yl(this,n||{}),yn.call(this),this.P=!1,this.o&&Cr()&&(this.i=Pc(this.o,this.l,this.m)),this.R=[],this.f=null,this.u=function(t){return new Zc((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=nl(t.b)-w()-3e5;return 0<e?e:0}))}(this),this.$=b(this.gb,this);var i=this;this.pa=null,this.Ba=function(t){i.wa(t.h)},this.ba=null,this.za=function(t){Ya(i.a,t.c)},this.W=null,this.X=[],this.Aa=function(t){cl(i,t.f)},this.aa=null,this.N=new Jc(this,n),zr(this,"multiFactor",this.N)}function sl(t,e){t.ba&&un(t.ba,"languageCodeChanged",t.Ba),(t.ba=e)&&on(e,"languageCodeChanged",t.Ba)}function ul(t,e){t.W&&un(t.W,"emulatorConfigChanged",t.za),(t.W=e)&&on(e,"emulatorConfigChanged",t.za)}function cl(t,e){t.X=e,Ja(t.a,el.a.SDK_VERSION?wr(el.a.SDK_VERSION,t.X):null)}function ll(t,e){t.aa&&un(t.aa,"frameworkChanged",t.Aa),(t.aa=e)&&on(e,"frameworkChanged",t.Aa)}function hl(t){try{return el.a.app(t.m).auth()}catch(e){throw new k("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function fl(t){t.A||t.u.b||(t.u.start(),un(t,"tokenChanged",t.$),on(t,"tokenChanged",t.$))}function pl(t){un(t,"tokenChanged",t.$),t.u.stop()}function dl(t,e){t.ya=e,zr(t,"_lat",e)}function vl(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Se(e).then((function(){return t}))}function gl(t){t.i&&!t.P&&(t.P=!0,wc(t.i,t))}function yl(t,e){Wr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new il(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function ml(){}function bl(t){return Ie().then((function(){if(t.A)throw new k("app-deleted")}))}function _l(t){return H(t.providerData,(function(t){return t.providerId}))}function wl(t,e){e&&(El(t,e.providerId),t.providerData.push(e))}function El(t,e){G(t.providerData,(function(t){return t.providerId==e}))}function kl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&zr(t,e,n)}function Il(t,e){t!=e&&(Wr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),zr(t,"metadata",e.metadata?function(t){return new il(t.a,t.b)}(e.metadata):new il),q(e.providerData,(function(e){wl(t,e)})),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),zr(t,"refreshToken",t.b.a),$c(t.N,e.N.b))}function Cl(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return Gs(t.a,Is,{idToken:e}).then(b(t.Jc,t))}(t,e).then((function(){return n||kl(t,"isAnonymous",!1),e}))}))}function Tl(t,e){e[Ha]&&t.ya!=e[Ha]&&(rl(t.b,e),t.dispatchEvent(new Xc("tokenChanged")),dl(t,e[Ha]),kl(t,"refreshToken",t.b.a))}function Sl(t,e){return Cl(t).then((function(){if(W(_l(t),e))return vl(t).then((function(){throw new k("provider-already-linked")}))}))}function Ol(t,e,n){return Kr({user:t,credential:xo(e),additionalUserInfo:e=Hi(e),operationType:n})}function Al(t,e){return Tl(t,e),t.reload().then((function(){return t}))}function Nl(t,e,n,r,i){if(!Cr())return Ce(new k("operation-not-supported-in-this-environment"));if(t.f&&!i)return Ce(t.f);var o=Bi(n.providerId),a=xr(t.uid+":::"),s=null;(!Or()||dr())&&t.o&&n.isOAuthProvider&&(s=uu(t.o,t.l,t.m,e,n,null,a,el.a.SDK_VERSION||null,null,null,t.tenantId));var u=cr(s,o&&o.ua,o&&o.ta);return r=r().then((function(){if(xl(t),!i)return t.I().then((function(){}))})).then((function(){return Cc(t.i,u,e,n,a,!!s,t.tenantId)})).then((function(){return new ye((function(n,r){t.ma(e,null,new k("cancelled-popup-request"),t.h||null),t.g=n,t.O=r,t.h=a,t.c=Oc(t.i,t,e,u,a)}))})).then((function(t){return u&&ur(u),t?Kr(t):null})).s((function(t){throw u&&ur(u),t})),Rl(t,r,i)}function Pl(t,e,n,r,i){if(!Cr())return Ce(new k("operation-not-supported-in-this-environment"));if(t.f&&!i)return Ce(t.f);var o=null,a=xr(t.uid+":::");return r=r().then((function(){if(xl(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=a,vl(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Ll,t.w(),e.a)),e})).then((function(){return Sc(t.i,e,n,a,t.tenantId)})).s((function(e){if(o=e,t.ha)return Fl(t.ha);throw o})).then((function(){if(o)throw o})),Rl(t,r,i)}function xl(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new k("internal-error");throw new k("auth-domain-config-required")}}function Rl(t,e,n){var r=function(t,e,n){return t.f&&!n?(e.cancel(),Ce(t.f)):e.s((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.f||t.dispatchEvent(new Xc("userInvalidated")),t.f=e),e}))}(t,e,n);return t.G.push(r),r.na((function(){K(t.G,r)})),r.s((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Kc(e.w(),hl(t),b(t.ic,t))),n||e}))}function jl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ha]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new al(e,n,t);return t.providerData&&q(t.providerData,(function(t){t&&wl(r,Kr(t))})),t.redirectEventId&&(r.ga=t.redirectEventId),r}function Dl(t){this.a=t,this.b=Hu()}Bc.prototype.Qc=function(t){var e=this;return t.rb(this.a.a,this.c).then((function(t){var n=ft(e.f);return delete n[Hc],delete n[zc],dt(n,t),e.g(n)}))},E(Wc,k),Gc.prototype.rb=function(t,e,n){return e.type==to?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),dt(n,{phoneVerificationInfo:Ao(t.a)}),Gs(e,Es,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return dt(n={mfaPendingCredential:n},{phoneVerificationInfo:Ao(t.a)}),Gs(e,ks,n)}))}(this,t,e)},E(Qc,Gc),E(Yc,Qc),E(Xc,Ke),(t=Jc.prototype).xc=function(t){$c(this,function(t){var e=[];return q(t.mfaInfo||[],(function(t){(t=Yr(t))&&e.push(t)})),e}(t.gd))},t.Qb=function(){return this.a.I().then((function(t){return new Zi(t,null)}))},t.ec=function(t,e){var n=this,r=this.a.a;return this.Qb().then((function(n){return t.rb(r,n,e)})).then((function(t){return Tl(n.a,t),n.a.reload()}))},t.ad=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return Gs(r,Ks,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=B(e.b,(function(t){return t.uid!=n}));return $c(e,r),Tl(e.a,t),e.a.reload().s((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:H(this.b,(function(t){return t.w()}))}}},Zc.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=En(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=a.document,e=null;return Lr()||!t?Ie():new ye((function(n){e=function(){Lr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).s((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).s((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},Zc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},tl.prototype.w=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:nl(this)}},tl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ce(new k("user-token-expired")):t||!this.b||w()>nl(this)-3e4?this.a?function(t,e){return function(t,e){return new ye((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?$a(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(Ys(t)):t.access_token&&t.refresh_token?n(t):r(new k("internal-error")):r(new k("network-request-failed"))}),"POST",Gn(e).toString(),t.g,t.v.get()):r(new k("internal-error"))}))}(t.c,e).then((function(e){return t.b=Fi(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).s((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Ie(null):Ie({accessToken:this.b.toString(),refreshToken:this.a})},il.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},E(al,yn),al.prototype.wa=function(t){this.pa=t,Qa(this.a,t)},al.prototype.ka=function(){return this.pa},al.prototype.Ga=function(){return Y(this.X)},al.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())},zr(al.prototype,"providerId","firebase"),(t=al.prototype).reload=function(){var t=this;return Rl(this,bl(this).then((function(){return Cl(t).then((function(){return vl(t)})).then(ml)})))},t.nc=function(t){return this.I(t).then((function(t){return new qc(t)}))},t.I=function(t){var e=this;return Rl(this,bl(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new k("internal-error");return t.accessToken!=e.ya&&(dl(e,t.accessToken),e.dispatchEvent(new Xc("tokenChanged"))),kl(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Jc=function(t){if(!(t=t.users)||!t.length)throw new k("internal-error");yl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?H(t,(function(t){return new ol(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)wl(this,e[n]);kl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Xc("userReloaded",{gd:t}))},t.Kc=function(t){return Br("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(t)},t.sb=function(t){var e=this,n=null;return Rl(this,t.c(this.a,this.uid).then((function(t){return Tl(e,t),n=Ol(e,t,"reauthenticate"),e.f=null,e.reload()})).then((function(){return n})),!0)},t.Bc=function(t){return Br("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return Rl(this,Sl(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Ol(e,t,"link"),Al(e,t)})).then((function(){return n})))},t.Cc=function(t,e){var n=this;return Rl(this,Sl(this,"phone").then((function(){return Vc(hl(n),t,e,b(n.pb,n))})))},t.Lc=function(t,e){var n=this;return Rl(this,Ie().then((function(){return Vc(hl(n),t,e,b(n.sb,n))})),!0)},t.Ab=function(t){var e=this;return Rl(this,this.I().then((function(n){return e.a.Ab(n,t)})).then((function(t){return Tl(e,t),e.reload()})))},t.dd=function(t){var e=this;return Rl(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Tl(e,t),e.reload()})))},t.Bb=function(t){var e=this;return Rl(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return Tl(e,t),e.reload()})))},t.Cb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return bl(this);var e=this;return Rl(this,this.I().then((function(n){return e.a.Cb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Tl(e,t),kl(e,"displayName",t.displayName||null),kl(e,"photoURL",t.photoUrl||null),q(e.providerData,(function(t){"password"===t.providerId&&(zr(t,"displayName",e.displayName),zr(t,"photoURL",e.photoURL))})),vl(e)})).then(ml))},t.bd=function(t){var e=this;return Rl(this,Cl(this).then((function(n){return W(_l(e),t)?function(t,e,n){return Gs(t,bs,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return q(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),q(_l(e),(function(t){n[t]||El(e,t)})),n[No.PROVIDER_ID]||zr(e,"phoneNumber",null),vl(e)})):vl(e).then((function(){throw new k("no-such-provider")}))})))},t.delete=function(){var t=this;return Rl(this,this.I().then((function(e){return Gs(t.a,ms,{idToken:e})})).then((function(){t.dispatchEvent(new Xc("userDeleted"))}))).then((function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");sl(t,null),ul(t,null),ll(t,null),t.G=[],t.A=!0,pl(t),zr(t,"refreshToken",null),t.i&&Ec(t.i,t)}))},t.Eb=function(t,e){return!!("linkViaPopup"==t&&(this.h||null)==e&&this.g||"reauthViaPopup"==t&&(this.h||null)==e&&this.g||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.ma=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.h||null)||(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.h||null)?b(this.Jb,this):"reauthViaPopup"==t&&e==(this.h||null)?b(this.Kb,this):"linkViaRedirect"==t&&(this.ga||null)==e?b(this.Jb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?b(this.Kb,this):null},t.Dc=function(t){var e=this;return Nl(this,"linkViaPopup",t,(function(){return Sl(e,t.providerId).then((function(){return vl(e)}))}),!1)},t.Mc=function(t){return Nl(this,"reauthViaPopup",t,(function(){return Ie()}),!0)},t.Ec=function(t){var e=this;return Pl(this,"linkViaRedirect",t,(function(){return Sl(e,t.providerId)}),!1)},t.Nc=function(t){return Pl(this,"reauthViaRedirect",t,(function(){return Ie()}),!0)},t.Jb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Rl(this,this.I().then((function(n){return hs(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Ol(i,t,"link"),Al(i,t)})).then((function(){return o})))},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Rl(this,Ie().then((function(){return ro(fs(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Ol(i,t,"reauthenticate"),Tl(i,t),i.f=null,i.reload()})).then((function(){return o})),!0)},t.tb=function(t){var e=this,n=null;return Rl(this,this.I().then((function(e){return n=e,void 0===t||ht(t)?{}:ji(new Ii(t))})).then((function(t){return e.a.tb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Db=function(t,e){var n=this,r=null;return Rl(this,this.I().then((function(t){return r=t,void 0===e||ht(e)?{}:ji(new Ii(e))})).then((function(e){return n.a.Db(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.ic=function(t){var e=null,n=this;return Rl(this,t=ro(Ie(t),n.uid).then((function(t){return e=Ol(n,t,"reauthenticate"),Tl(n,t),n.f=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&dt(t,this.metadata.w()),q(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),dt(t,this.N.w()),t};var Ll={name:"redirectUser",D:"session"};function Fl(t){return Ku(t.b,Ll,t.a)}function Ml(t){this.a=t,this.b=Hu(),this.c=null,this.f=function(t){var e=ql("local"),n=ql("session"),r=ql("none");return function(t,e,n){var r=Wu(e,n),i=zu(t,e.D);return t.get(e,n).then((function(o){var s=null;try{s=Pr(a.localStorage.getItem(r))}catch(u){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Vl,t.a).then((function(t){return t?ql(t):e}))}))}))})).then((function(e){return t.c=e,Ul(t,e.D)})).s((function(){t.c||(t.c=e)}))}(this),this.b.addListener(ql("local"),this.a,b(this.g,this))}function Ul(t,e){var n,r=[];for(n in qu)qu[n]!==e&&r.push(Ku(t.b,ql(qu[n]),t.a));return r.push(Ku(t.b,Vl,t.a)),function(t){return new ye((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)Te(t[s],_(o,s),a);else e(i)}))}(r)}Ml.prototype.g=function(){var t=this,e=ql("local");Wl(this,(function(){return Ie().then((function(){return t.c&&"local"!=t.c.D?t.b.get(e,t.a):null})).then((function(n){if(n)return Ul(t,"local").then((function(){t.c=e}))}))}))};var Vl={name:"persistence",D:"session"};function ql(t){return{name:"authUser",D:t}}function Bl(t,e){return Wl(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function Hl(t){return Wl(t,(function(){return Ku(t.b,t.c,t.a)}))}function zl(t,e,n){return Wl(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),jl(t||{})}))}))}function Wl(t,e){return t.f=t.f.then(e,e),t.f}function Kl(t){if(this.m=!1,zr(this,"settings",new Mc),zr(this,"app",t),!th(this).options||!th(this).options.apiKey)throw new k("invalid-api-key");t=el.a.SDK_VERSION?wr(el.a.SDK_VERSION):null,this.a=new qa(th(this).options&&th(this).options.apiKey,A(C),t),this.R=[],this.u=[],this.P=[],this.ac=el.a.INTERNAL.createSubscribe(b(this.yc,this)),this.X=void 0,this.bc=el.a.INTERNAL.createSubscribe(b(this.zc,this)),$l(this,null),this.l=new Ml(th(this).options.apiKey+":"+th(this).name),this.G=new Dl(th(this).options.apiKey+":"+th(this).name),this.$=ih(this,function(t){var e=th(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Ll,t.a).then((function(t){return t&&e&&(t.authDomain=e),jl(t||{})}))}(t.G,th(t).options.authDomain).then((function(e){return(t.o=e)&&(e.ha=t.G),Fl(t.G)}));return ih(t,e)}(t).then((function(){return zl(t.l,e,t.f)})).then((function(e){return e?(e.ha=t.G,t.o&&(t.o.ga||null)==(e.ga||null)?e:e.reload().then((function(){return Bl(t.l,e).then((function(){return e}))})).s((function(n){return"auth/network-request-failed"==n.code?e:Hl(t.l)}))):null})).then((function(e){$l(t,e||null)}));return ih(t,n)}(this)),this.i=ih(this,function(t){return t.$.then((function(){return Jl(t)})).s((function(){})).then((function(){if(!t.m)return t.pa()})).s((function(){})).then((function(){if(!t.m){t.ba=!0;var e=t.l;e.b.addListener(ql("local"),e.a,t.pa)}}))}(this)),this.ba=!1,this.pa=b(this.Yc,this),this.Ba=b(this.da,this),this.ya=b(this.kc,this),this.za=b(this.vc,this),this.Aa=b(this.wc,this),this.b=null,function(t){var e=th(t).options.authDomain,n=th(t).options.apiKey;e&&Cr()&&(t.gb=t.$.then((function(){if(!t.m){if(t.b=Pc(e,n,th(t).name,t.f),wc(t.b,t),eh(t)&&gl(eh(t)),t.o){gl(t.o);var r=t.o;r.wa(t.ka()),sl(r,t),cl(r=t.o,t.N),ll(r,t),Ya((r=t.o).a,t.f),ul(r,t),t.o=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Fc,this),this.A=0,yn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ka()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.xb(t)},enumerable:!1}),t.W=null}(this),this.N=[],this.f=null}function Gl(t){Ke.call(this,"languageCodeChanged"),this.h=t}function Ql(t){Ke.call(this,"emulatorConfigChanged"),this.c=t}function Yl(t){Ke.call(this,"frameworkChanged"),this.f=t}function Xl(t){return t.gb||Ce(new k("auth-domain-config-required"))}function Jl(t){if(!Cr())return Ce(new k("operation-not-supported-in-this-environment"));var e=Xl(t).then((function(){return t.b.qa()})).then((function(t){return t?Kr(t):null}));return ih(t,e)}function $l(t,e){eh(t)&&(function(t,e){G(t.R,(function(t){return t==e}))}(eh(t),t.Ba),un(eh(t),"tokenChanged",t.ya),un(eh(t),"userDeleted",t.za),un(eh(t),"userInvalidated",t.Aa),pl(eh(t))),e&&(e.R.push(t.Ba),on(e,"tokenChanged",t.ya),on(e,"userDeleted",t.za),on(e,"userInvalidated",t.Aa),0<t.A&&fl(e)),zr(t,"currentUser",e),e&&(e.wa(t.ka()),sl(e,t),cl(e,t.N),ll(e,t),Ya(e.a,t.f),ul(e,t))}function Zl(t,e){var n=null,r=null;return ih(t,e.then((function(e){return n=xo(e),r=Hi(e),function(t,e){var n={};return n.apiKey=th(t).options.apiKey,n.authDomain=th(t).options.authDomain,n.appName=th(t).name,t.f&&(n.emulatorConfig=t.f),t.$.then((function(){return function(t,e,n,r){var i=new al(t,e);return n&&(i.ha=n),r&&cl(i,r),i.reload().then((function(){return i}))}(n,e,t.G,t.Ga())})).then((function(e){return eh(t)&&e.uid==eh(t).uid?(Il(eh(t),e),t.da(e)):($l(t,e),gl(e),t.da(e))})).then((function(){rh(t)}))}(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Kc(e.w(),t,b(t.jc,t))),n||e})).then((function(){return Kr({user:eh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function th(t){return t.app}function eh(t){return t.currentUser}function nh(t){return eh(t)&&eh(t)._lat||null}function rh(t){if(t.ba){for(var e=0;e<t.u.length;e++)t.u[e]&&t.u[e](nh(t));if(t.X!==t.getUid()&&t.P.length)for(t.X=t.getUid(),e=0;e<t.P.length;e++)t.P[e]&&t.P[e](nh(t))}}function ih(t,e){return t.R.push(e),e.na((function(){K(t.R,e)})),e}function oh(){}function ah(){this.a={},this.b=1e12}Ml.prototype.wb=function(t){var e=null,n=this;return function(t){var e=new k("invalid-persistence-type"),n=new k("unsupported-persistence-type");t:{for(r in qu)if(qu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(gr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!_u()&&"none"!==t)throw n;break;default:if(!Ir()&&"none"!==t)throw n}}(t),Wl(this,(function(){return t!=n.c.D?n.b.get(n.c,n.a).then((function(r){return e=r,Ul(n,t)})).then((function(){if(n.c=ql(t),e)return n.b.set(n.c,e,n.a)})):Ie()}))},E(Kl,yn),E(Gl,Ke),E(Ql,Ke),E(Yl,Ke),(t=Kl.prototype).wb=function(t){return ih(this,t=this.l.wb(t))},t.wa=function(t){this.aa===t||this.m||(this.aa=t,Qa(this.a,this.aa),this.dispatchEvent(new Gl(this.ka())))},t.ka=function(){return this.aa},t.ed=function(){var t=a.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.fd=function(t){if(!this.f){if(!/^https?:\/\//.test(t))throw new k("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");Fr("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&fr().then((function(){var t=a.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),a.document.body.appendChild(t)})),this.f={url:t},this.settings.hb=!0,Ya(this.a,this.f),this.dispatchEvent(new Ql(this.f))}},t.Fc=function(t){this.N.push(t),Ja(this.a,el.a.SDK_VERSION?wr(el.a.SDK_VERSION,this.N):null),this.dispatchEvent(new Yl(this.N))},t.Ga=function(){return Y(this.N)},t.xb=function(t){this.W===t||this.m||(this.W=t,this.a.b=this.W)},t.S=function(){return this.W},t.toJSON=function(){return{apiKey:th(this).options.apiKey,authDomain:th(this).options.authDomain,appName:th(this).name,currentUser:eh(this)&&eh(this).w()}},t.Eb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.h==e&&!!this.g;default:return!1}},t.ma=function(t,e,n,r){"signInViaPopup"==t&&this.h==r&&(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.h==e&&this.g?b(this.hc,this):null},t.hc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return Zl(i,ls(i.a,o))}))},t.Wc=function(t){if(!Cr())return Ce(new k("operation-not-supported-in-this-environment"));var e=this,n=Bi(t.providerId),r=xr(),i=null;(!Or()||dr())&&th(this).options.authDomain&&t.isOAuthProvider&&(i=uu(th(this).options.authDomain,th(this).options.apiKey,th(this).name,"signInViaPopup",t,null,r,el.a.SDK_VERSION||null,null,null,this.S(),this.f));var o=cr(i,n&&n.ua,n&&n.ta);return ih(this,n=Xl(this).then((function(n){return Cc(n,o,"signInViaPopup",t,r,!!i,e.S())})).then((function(){return new ye((function(t,n){e.ma("signInViaPopup",null,new k("cancelled-popup-request"),e.h),e.g=t,e.O=n,e.h=r,e.c=Oc(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&ur(o),t?Kr(t):null})).s((function(t){throw o&&ur(o),t})))},t.Xc=function(t){if(!Cr())return Ce(new k("operation-not-supported-in-this-environment"));var e=this;return ih(this,Xl(this).then((function(){return function(t){return Wl(t,(function(){return t.b.set(Vl,t.c.D,t.a)}))}(e.l)})).then((function(){return Sc(e.b,"signInViaRedirect",t,void 0,e.S())})))},t.qa=function(){var t=this;return Jl(this).then((function(e){return t.b&&jc(t.b.b),e})).s((function(e){throw t.b&&jc(t.b.b),e}))},t.cd=function(t){if(!t)return Ce(new k("null-user"));if(this.W!=t.tenantId)return Ce(new k("tenant-id-mismatch"));var e=this,n={};n.apiKey=th(this).options.apiKey,n.authDomain=th(this).options.authDomain,n.appName=th(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Ha]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new al(e||{apiKey:t.l,authDomain:t.o,appName:t.m},o),n&&(e.ha=n),r&&cl(e,r),Il(e,t),e}(t,n,e.G,e.Ga());return ih(this,this.i.then((function(){if(th(e).options.apiKey!=t.l)return r.reload()})).then((function(){return eh(e)&&t.uid==eh(e).uid?(Il(eh(e),t),e.da(t)):($l(e,r),gl(r),e.da(r))})).then((function(){rh(e)})))},t.zb=function(){var t=this;return ih(this,this.i.then((function(){return t.b&&jc(t.b.b),eh(t)?($l(t,null),Hl(t.l).then((function(){rh(t)}))):Ie()})))},t.Yc=function(){var t=this;return zl(this.l,th(this).options.authDomain).then((function(e){if(!t.m){var n;if(n=eh(t)&&e){n=eh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Il(eh(t),e),eh(t).I();(eh(t)||e)&&($l(t,e),e&&(gl(e),e.ha=t.G),t.b&&wc(t.b,t),rh(t))}}))},t.da=function(t){return Bl(this.l,t)},t.kc=function(){rh(this),this.da(eh(this))},t.vc=function(){this.zb()},t.wc=function(){this.zb()},t.jc=function(t){var e=this;return this.i.then((function(){return Zl(e,Ie(t))}))},t.yc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(eh(e))}))},t.zc=function(t){var e=this;!function(t,e){t.P.push(e),ih(t,t.i.then((function(){!t.m&&W(t.P,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(nh(t)))})))}(this,(function(){t.next(eh(e))}))},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(eh(r)):"function"==typeof t.next&&t.next(eh(r))})),this.ac(t,e,n)},t.Gc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof t?t(eh(r)):"function"==typeof t.next&&t.next(eh(r))})),this.bc(t,e,n)},t.mc=function(t){var e=this;return ih(this,this.i.then((function(){return eh(e)?eh(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Sc=function(t){var e=this;return this.i.then((function(){return Zl(e,Gs(e.a,qs,{token:t}))})).then((function(t){var n=t.user;return kl(n,"isAnonymous",!1),e.da(n),t}))},t.Tc=function(t,e){var n=this;return this.i.then((function(){return Zl(n,Gs(n.a,Bs,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.i.then((function(){return Zl(n,Gs(n.a,gs,{email:t,password:e}))}))},t.Za=function(t){var e=this;return this.i.then((function(){return Zl(e,t.ja(e.a))}))},t.Rc=function(t){return Br("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(t)},t.yb=function(){var t=this;return this.i.then((function(){var e=eh(t);if(e&&e.isAnonymous){var n=Kr({providerId:null,isNewUser:!1});return Kr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Zl(t,t.a.yb()).then((function(e){var n=e.user;return kl(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return eh(this)&&eh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.A++,0<this.A&&eh(this)&&fl(eh(this))},t.Oc=function(t){var e=this;q(this.u,(function(n){n==t&&e.A--})),0>this.A&&(this.A=0),0==this.A&&eh(this)&&pl(eh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.u.push(t),ih(this,this.i.then((function(){e.m||W(e.u,t)&&t(nh(e))})))},t.removeAuthTokenListener=function(t){G(this.u,(function(e){return e==t}))},t.delete=function(){this.m=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.l&&(t=this.l).b.removeListener(ql("local"),t.a,this.pa),this.b&&(Ec(this.b,this),jc(this.b.b)),Promise.resolve()},t.gc=function(t){return ih(this,function(t,e){return Gs(t,ys,{identifier:e,continueUri:Tr()?or():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Ac=function(t){return!!To(t)},t.vb=function(t,e){var n=this;return ih(this,Ie().then((function(){var t=new Ii(e);if(!t.c)throw new k("argument-error",Si+" must be true when sending sign in link to email");return ji(t)})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.hd=function(t){return this.Qa(t).then((function(t){return t.data.email}))},t.mb=function(t,e){return ih(this,this.a.mb(t,e).then((function(){})))},t.Qa=function(t){return ih(this,this.a.Qa(t).then((function(t){return new ei(t)})))},t.ib=function(t){return ih(this,this.a.ib(t).then((function(){})))},t.ub=function(t,e){var n=this;return ih(this,Ie().then((function(){return void 0===e||ht(e)?{}:ji(new Ii(e))})).then((function(e){return n.a.ub(t,e)})).then((function(){})))},t.Vc=function(t,e){return ih(this,Vc(this,t,e,b(this.Za,this)))},t.Uc=function(t,e){var n=this;return ih(this,Ie().then((function(){var r=e||or(),i=Co(t,r);if(!(r=To(r)))throw new k("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new k("tenant-id-mismatch");return n.Za(i)})))},oh.prototype.render=function(){},oh.prototype.reset=function(){},oh.prototype.getResponse=function(){},oh.prototype.execute=function(){};var sh=null;function uh(t,e){return(e=ch(e))&&t.a[e]||null}function ch(t){return(t=void 0===t?1e12:t)?t.toString():null}function lh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ie(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():on(this.f,"click",this.i)}function hh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function fh(){}function ph(){}ah.prototype.render=function(t,e){return this.a[this.b.toString()]=new lh(t,e),this.b++},ah.prototype.reset=function(t){var e=uh(this,t);t=ch(t),e&&t&&(e.delete(),delete this.a[t])},ah.prototype.getResponse=function(t){return(t=uh(this,t))?t.getResponse():null},ah.prototype.execute=function(t){(t=uh(this,t))&&t.execute()},lh.prototype.getResponse=function(){return hh(this),this.b},lh.prototype.execute=function(){hh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},lh.prototype.delete=function(){hh(this),this.g=!0,clearTimeout(this.a),this.a=null,un(this.f,"click",this.i)},zr(fh,"FACTOR_ID","phone"),ph.prototype.g=function(){return sh||(sh=new ah),Ie(sh)},ph.prototype.c=function(){};var dh=null;function vh(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var gh=new gt(bt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),yh=new Dr(3e4,6e4);vh.prototype.g=function(t){var e=this;return new ye((function(n,r){var i=setTimeout((function(){r(new k("network-request-failed"))}),yh.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new k("internal-error"));delete a[e.a]},Ie(ja(kt(gh,{onload:e.a,hl:t||""}))).s((function(){clearTimeout(i),r(new k("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},vh.prototype.c=function(){this.b--};var mh=null;function bh(t,e,n,r,i,o,s){if(zr(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=e,this.g=null,s?(dh||(dh=new ph),s=dh):(mh||(mh=new vh),s=mh),this.v=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Eh])throw new k("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[kh],!a.document)throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ie(e)||!this.i&&ie(e).hasChildNodes())throw new k("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new qa(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[_h];this.a[_h]=function(t){if(Ih(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=kr(c,a);"function"==typeof e&&e(t)}};var l=this.a[wh];this.a[wh]=function(){if(Ih(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=kr(l,a);"function"==typeof t&&t()}}}var _h="callback",wh="expired-callback",Eh="sitekey",kh="size";function Ih(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Ch(t,e){return t.h.push(e),e.na((function(){K(t.h,e)})),e}function Th(t){if(t.A)throw new k("internal-error","RecaptchaVerifier instance has been destroyed.")}function Sh(t,e,n){var r=!1;try{this.b=n||el.a.app()}catch(a){throw new k("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new k("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(a){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}o=el.a.SDK_VERSION?wr(el.a.SDK_VERSION,o):null,bh.call(this,n,t,e,(function(){try{var t=i.b.auth().ka()}catch(e){t=null}return t}),o,A(C),r)}function Oh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new k("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=Ah.length)throw new k("internal-error","Argument validator received an unsupported number of arguments.");n=Ah[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new k("argument-error",t+" failed: "+r)}(t=bh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Ch(this,Ie().then((function(){if(Tr()&&!vr())return fr();throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.v.g(t.u())})).then((function(e){return t.g=e,Gs(t.o,Ns,{})})).then((function(e){t.a[Eh]=e.recaptchaSiteKey})).s((function(e){throw t.f=null,e})))},t.render=function(){Th(this);var t=this;return Ch(this,this.Ia().then((function(){if(null===t.c){var e=t.m;if(!t.i){var n=ie(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!re&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Vt(a.name),'"'),a.type){o.push(' type="',Vt(a.type),'"');var s={};dt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=le(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):oe(o,a)),2<r.length&&ce(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Th(this);var t=this;return Ch(this,this.render().then((function(e){return new ye((function(n){var r=t.g.getResponse(e);if(r)n(r);else{t.l.push((function e(r){r&&(function(t,e){G(t.l,(function(t){return t==e}))}(t,e),n(r))})),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Th(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Th(this),this.A=!0,this.v.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ie(this.m);for(var e;e=t.firstChild;)t.removeChild(e)}},E(Sh,bh);var Ah="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Nh(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Ph(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function xh(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:p}}function Rh(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"==typeof t}}}function jh(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Dh(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){return!!e&&!(!e.ja||t&&e.providerId!==t)}}}function Lh(t,e){return p(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Fh(t){return p(t)&&"string"==typeof t.uid}function Mh(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function Uh(t,e){for(var n in e){var r=e[n].name;t[r]=Bh(r,t[n],e[n].j)}}function Vh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:_((function(t){return this[t]}),n),set:_((function(t,e,n,r){Oh(t,[n],[r],!0),this[e]=r}),r,n,e[n].jb),enumerable:!0})}}function qh(t,e,n,r){t[e]=Bh(e,n,r)}function Bh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Oh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Uh(Kl.prototype,{ib:{name:"applyActionCode",j:[Nh("code")]},Qa:{name:"checkActionCode",j:[Nh("code")]},mb:{name:"confirmPasswordReset",j:[Nh("code"),Nh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Nh("email"),Nh("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[Nh("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[Nh("emailLink")]},Gc:{name:"onAuthStateChanged",j:[Mh(xh(),Rh(),"nextOrObserver"),Rh("opt_error",!0),Rh("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[Mh(xh(),Rh(),"nextOrObserver"),Rh("opt_error",!0),Rh("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[Nh("email"),Mh(xh("opt_actionCodeSettings",!0),jh(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[Nh("email"),xh("actionCodeSettings")]},wb:{name:"setPersistence",j:[Nh("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[Dh()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[Dh()]},Sc:{name:"signInWithCustomToken",j:[Nh("token")]},Tc:{name:"signInWithEmailAndPassword",j:[Nh("email"),Nh("password")]},Uc:{name:"signInWithEmailLink",j:[Nh("email"),Nh("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[Nh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Wc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Xc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},cd:{name:"updateCurrentUser",j:[Mh({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof al)}},jh(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Nh(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[Nh("url")]},hd:{name:"verifyPasswordResetCode",j:[Nh("code")]}}),Vh(Kl.prototype,{lc:{name:"languageCode",jb:Mh(Nh(),jh(),"languageCode")},ti:{name:"tenantId",jb:Mh(Nh(),jh(),"tenantId")}}),(Kl.Persistence=qu).LOCAL="local",Kl.Persistence.SESSION="session",Kl.Persistence.NONE="none",Uh(al.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[Ph("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Ph("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[Dh()]},pb:{name:"linkWithCredential",j:[Dh()]},Cc:{name:"linkWithPhoneNumber",j:[Nh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Dc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ec:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Dh()]},sb:{name:"reauthenticateWithCredential",j:[Dh()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[Nh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Mc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[Mh(xh("opt_actionCodeSettings",!0),jh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Nh(null,!0)]},bd:{name:"unlink",j:[Nh("provider")]},Ab:{name:"updateEmail",j:[Nh("email")]},Bb:{name:"updatePassword",j:[Nh("password")]},dd:{name:"updatePhoneNumber",j:[Dh("phone")]},Cb:{name:"updateProfile",j:[xh("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[Nh("email"),Mh(xh("opt_actionCodeSettings",!0),jh(null,!0),"opt_actionCodeSettings",!0)]}}),Uh(ah.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Uh(oh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Uh(ye.prototype,{na:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),Vh(Mc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:Ph("appVerificationDisabledForTesting")}}),Uh(Uc.prototype,{confirm:{name:"confirm",j:[Nh("verificationCode")]}}),qh(no,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[co,ko,Oo,ao],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Mh(Nh(),xh(),"json")]),qh(Io,"credential",(function(t,e){return new Eo(t,e)}),[Nh("email"),Nh("password")]),Uh(Eo.prototype,{w:{name:"toJSON",j:[Nh(null,!0)]}}),Uh(po.prototype,{Ca:{name:"addScope",j:[Nh("scope")]},Ka:{name:"setCustomParameters",j:[xh("customOAuthParameters")]}}),qh(po,"credential",vo,[Mh(Nh(),xh(),"token")]),qh(Io,"credentialWithLink",Co,[Nh("email"),Nh("emailLink")]),Uh(go.prototype,{Ca:{name:"addScope",j:[Nh("scope")]},Ka:{name:"setCustomParameters",j:[xh("customOAuthParameters")]}}),qh(go,"credential",yo,[Mh(Nh(),xh(),"token")]),Uh(mo.prototype,{Ca:{name:"addScope",j:[Nh("scope")]},Ka:{name:"setCustomParameters",j:[xh("customOAuthParameters")]}}),qh(mo,"credential",bo,[Mh(Nh(),Mh(xh(),jh()),"idToken"),Mh(Nh(),jh(),"accessToken",!0)]),Uh(_o.prototype,{Ka:{name:"setCustomParameters",j:[xh("customOAuthParameters")]}}),qh(_o,"credential",wo,[Mh(Nh(),xh(),"token"),Nh("secret",!0)]),Uh(fo.prototype,{Ca:{name:"addScope",j:[Nh("scope")]},credential:{name:"credential",j:[Mh(Nh(),Mh(xh(),jh()),"optionsOrIdToken"),Mh(Nh(),jh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[xh("customOAuthParameters")]}}),Uh(so.prototype,{w:{name:"toJSON",j:[Nh(null,!0)]}}),Uh(io.prototype,{w:{name:"toJSON",j:[Nh(null,!0)]}}),qh(No,"credential",Po,[Nh("verificationId"),Nh("verificationCode")]),Uh(No.prototype,{eb:{name:"verifyPhoneNumber",j:[Mh(Nh(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Lh(t.session,to)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Lh(t.session,eo)&&Fh(t.multiFactorHint):t.session&&t.multiFactorUid?Lh(t.session,eo)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Uh(So.prototype,{w:{name:"toJSON",j:[Nh(null,!0)]}}),Uh(k.prototype,{toJSON:{name:"toJSON",j:[Nh(null,!0)]}}),Uh(Vo.prototype,{toJSON:{name:"toJSON",j:[Nh(null,!0)]}}),Uh(Uo.prototype,{toJSON:{name:"toJSON",j:[Nh(null,!0)]}}),Uh(Wc.prototype,{toJSON:{name:"toJSON",j:[Nh(null,!0)]}}),Uh(Bc.prototype,{Qc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}}]}}),Uh(Jc.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}},Nh("displayName",!0)]},ad:{name:"unenroll",j:[Mh({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Fh},Nh(),"multiFactorInfoIdentifier")]}}),Uh(Sh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),qh(vi,"parseLink",ki,[Nh("link")]),qh(fh,"assertion",(function(t){return new Yc(t)}),[Dh("phone")]),function(){if(void 0===el.a||!el.a.INTERNAL||!el.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ri,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ni,VERIFY_AND_CHANGE_EMAIL:ii,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Kl,AuthCredential:no,Error:k};qh(t,"EmailAuthProvider",Io,[]),qh(t,"FacebookAuthProvider",po,[]),qh(t,"GithubAuthProvider",go,[]),qh(t,"GoogleAuthProvider",mo,[]),qh(t,"TwitterAuthProvider",_o,[]),qh(t,"OAuthProvider",fo,[Nh("providerId")]),qh(t,"SAMLAuthProvider",ho,[Nh("providerId")]),qh(t,"PhoneAuthProvider",No,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof Kl)}}]),qh(t,"RecaptchaVerifier",Sh,[Mh(Nh(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),xh("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof el.a.app.App)}}]),qh(t,"ActionCodeURL",vi,[]),qh(t,"PhoneMultiFactorGenerator",fh,[]),el.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Kl(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),el.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:b((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:b(t.mc,t),addAuthTokenListener:b(t.cc,t),removeAuthTokenListener:b(t.Oc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),el.a.registerVersion("@firebase/auth","0.15.1"),el.a.INTERNAL.extendNamespace({User:al})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),u("6Uf2");var nl=u("WVRz"),rl=u("q/0M"),il=u("qOnz"),ol=function(t,e){return(ol=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function al(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var sl,ul="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},cl=cl||{},ll=ul||self;function hl(){}function fl(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function pl(t){var e=fl(t);return"array"==e||"object"==e&&"number"==typeof t.length}function dl(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var vl="closure_uid_"+(1e9*Math.random()>>>0),gl=0;function yl(t,e,n){return t.call.apply(t.bind,arguments)}function ml(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function bl(t,e,n){return(bl=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?yl:ml).apply(null,arguments)}function _l(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var wl=Date.now;function El(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function kl(){this.j=this.j,this.i=this.i}kl.prototype.j=!1,kl.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,vl)&&t[vl]||(t[vl]=++gl)}(this)},kl.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Il=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Cl=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Tl(t){return Array.prototype.concat.apply([],arguments)}function Sl(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ol(t){return/^[\s\xa0]*$/.test(t)}var Al,Nl=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Pl(t,e){return-1!=t.indexOf(e)}function xl(t,e){return t<e?-1:t>e?1:0}t:{var Rl=ll.navigator;if(Rl){var jl=Rl.userAgent;if(jl){Al=jl;break t}}Al=""}function Dl(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Ll(t){var e={};for(var n in t)e[n]=t[n];return e}var Fl="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ml(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Fl.length;o++)n=Fl[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ul(t){return Ul[" "](t),t}Ul[" "]=hl;var Vl,ql,Bl=Pl(Al,"Opera"),Hl=Pl(Al,"Trident")||Pl(Al,"MSIE"),zl=Pl(Al,"Edge"),Wl=zl||Hl,Kl=Pl(Al,"Gecko")&&!(Pl(Al.toLowerCase(),"webkit")&&!Pl(Al,"Edge"))&&!(Pl(Al,"Trident")||Pl(Al,"MSIE"))&&!Pl(Al,"Edge"),Gl=Pl(Al.toLowerCase(),"webkit")&&!Pl(Al,"Edge");function Ql(){var t=ll.document;return t?t.documentMode:void 0}t:{var Yl="",Xl=(ql=Al,Kl?/rv:([^\);]+)(\)|;)/.exec(ql):zl?/Edge\/([\d\.]+)/.exec(ql):Hl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ql):Gl?/WebKit\/(\S+)/.exec(ql):Bl?/(?:Version)[ \/]?(\S+)/.exec(ql):void 0);if(Xl&&(Yl=Xl?Xl[1]:""),Hl){var Jl=Ql();if(null!=Jl&&Jl>parseFloat(Yl)){Vl=String(Jl);break t}}Vl=Yl}var $l={};function Zl(t){return function(t,e){var n=$l;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=Nl(String(Vl)).split("."),r=Nl(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=xl(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||xl(0==a[2].length,0==s[2].length)||xl(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}var th=ll.document&&Hl&&(Ql()||parseInt(Vl,10))||void 0,eh=!Hl||9<=Number(th),nh=Hl&&!Zl("9"),rh=function(){if(!ll.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ll.addEventListener("test",hl,e),ll.removeEventListener("test",hl,e)}catch(n){}return t}();function ih(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function oh(t,e){if(ih.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Kl){t:{try{Ul(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ah[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ih.prototype.b=function(){this.defaultPrevented=!0},El(oh,ih);var ah={2:"touch",3:"pen",4:"mouse"};oh.prototype.b=function(){oh.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,nh)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var sh="closure_listenable_"+(1e6*Math.random()|0),uh=0;function ch(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++uh,this.Y=this.Z=!1}function lh(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function hh(t){this.src=t,this.a={},this.b=0}function fh(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Il(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(lh(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ph(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}hh.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=ph(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new ch(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var dh="closure_lm_"+(1e6*Math.random()|0),vh={};function gh(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}return r=Ih(r),e&&e[sh]?e.wa(n,r,dl(i)?!!i.capture:!!i,o):yh(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)gh(t,e[o],n,r,i);return null}return n=Ih(n),t&&t[sh]?t.va(e,n,dl(r)?!!r.capture:!!r,i):yh(t,e,n,!1,r,i)}function yh(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=dl(i)?!!i.capture:!!i;if(a&&!eh)return null;var s=Eh(t);if(s||(t[dh]=s=new hh(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=wh,e=eh?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)rh||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(bh(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function mh(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[sh])fh(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(bh(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Eh(e))?(fh(n,t),0==n.b&&(n.src=null,e[dh]=null)):lh(t)}}}function bh(t){return t in vh?vh[t]:vh[t]="on"+t}function _h(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&mh(t),n.call(r,e)}function wh(t,e){if(t.Y)return!0;if(!eh){if(!e)t:{e=["window","event"];for(var n=ll,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return _h(t,e=new oh(e,this))}return _h(t,new oh(e,this))}function Eh(t){return(t=t[dh])instanceof hh?t:null}var kh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ih(t){return"function"==fl(t)?t:(t[kh]||(t[kh]=function(e){return t.handleEvent(e)}),t[kh])}function Ch(){kl.call(this),this.c=new hh(this),this.J=this,this.C=null}function Th(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&fh(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}El(Ch,kl),Ch.prototype[sh]=!0,(sl=Ch.prototype).addEventListener=function(t,e,n,r){gh(this,t,e,n,r)},sl.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=dl(i)?!!i.capture:!!i,r=Ih(r),e&&e[sh]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=ph(a=e.a[n],r,i,o))&&(lh(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.a[n],e.b--))):e&&(e=Eh(e))&&(n=e.a[n.toString()],e=-1,n&&(e=ph(n,r,i,o)),(r=-1<e?n[e]:null)&&mh(r))}(this,t,e,n,r)},sl.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new ih(t,n);else if(t instanceof ih)t.target=t.target||n;else{var i=t;Ml(t=new ih(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.a=e[o];i=Th(a,r,!0,t)&&i}if(i=Th(a=t.a=n,r,!0,t)&&i,i=Th(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Th(a=t.a=e[o],r,!1,t)&&i;return i},sl.G=function(){if(Ch.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)lh(n[r]);delete e.a[t],e.b--}}this.C=null},sl.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},sl.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Sh=ll.JSON.stringify;function Oh(){this.b=this.a=null}var Ah,Nh=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new xh}),(function(t){t.reset()}),100);function Ph(){var t=Lh,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function xh(){this.next=this.b=this.a=null}function Rh(t){ll.setTimeout((function(){throw t}),0)}function jh(t,e){Ah||function(){var t=ll.Promise.resolve(void 0);Ah=function(){t.then(Fh)}}(),Dh||(Ah(),Dh=!0),Lh.add(t,e)}Oh.prototype.add=function(t,e){var n=Nh.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},xh.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},xh.prototype.reset=function(){this.next=this.b=this.a=null};var Dh=!1,Lh=new Oh;function Fh(){for(var t;t=Ph();){try{t.a.call(t.b)}catch(n){Rh(n)}var e=Nh;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Dh=!1}function Mh(t,e){Ch.call(this),this.b=t||1,this.a=e||ll,this.f=bl(this.Ya,this),this.g=wl()}function Uh(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Vh(t,e,n){if("function"==fl(t))n&&(t=bl(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=bl(t.handleEvent,t)}return 2147483647<Number(e)?-1:ll.setTimeout(t,e||0)}function qh(t){t.a=Vh((function(){t.a=null,t.c&&(t.c=!1,qh(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}El(Mh,Ch),(sl=Mh.prototype).aa=!1,sl.M=null,sl.Ya=function(){if(this.aa){var t=wl()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Uh(this),this.start()))}},sl.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=wl())},sl.G=function(){Mh.S.G.call(this),Uh(this),delete this.a};var Bh=function(t){function e(e,n,r){var i=t.call(this)||this;return i.g=null!=r?e.bind(r):e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}ol(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:qh(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(ll.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(kl);function Hh(t){kl.call(this),this.b=t,this.a={}}El(Hh,kl);var zh=[];function Wh(t,e,n,r){Array.isArray(n)||(n&&(zh[0]=n.toString()),n=zh);for(var i=0;i<n.length;i++){var o=gh(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Kh(t){Dl(t.a,(function(t,e){this.a.hasOwnProperty(e)&&mh(t)}),t),t.a={}}function Gh(){this.a=!0}function Qh(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Sh(n)}catch(s){return e}}(t,n)+(r?" "+r:"")}))}Hh.prototype.G=function(){Hh.S.G.call(this),Kh(this)},Hh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gh.prototype.info=function(){};var Yh=null;function Xh(){return Yh=Yh||new Ch}function Jh(t){ih.call(this,"serverreachability",t)}function $h(t){var e=Xh();e.dispatchEvent(new Jh(e,t))}function Zh(t){ih.call(this,"statevent",t)}function tf(t){var e=Xh();e.dispatchEvent(new Zh(e,t))}function ef(t){ih.call(this,"timingevent",t)}function nf(t,e){if("function"!=fl(t))throw Error("Fn must not be null and must be a function");return ll.setTimeout((function(){t()}),e)}El(Jh,ih),El(Zh,ih),El(ef,ih);var rf={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},of={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function af(){}function sf(){}af.prototype.a=null;var uf,cf={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function lf(){ih.call(this,"d")}function hf(){ih.call(this,"c")}function ff(){}function pf(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new Hh(this),this.P=df,this.R=new Mh(t=Wl?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}El(lf,ih),El(hf,ih),El(ff,af),uf=new ff;var df=45e3,vf={},gf={};function yf(t,e,n){t.H=1,t.i=Uf(Rf(e)),t.j=n,t.I=!0,mf(t,null)}function mf(t,e){t.u=wl(),wf(t),t.l=Rf(t.i);var n=t.l,r=t.T;Array.isArray(r)||(r=[String(r)]),$f(n.b,"t",r),t.D=0,t.a=Kp(t.g,t.g.C?e:null),0<t.O&&(t.F=new Bh(bl(t.Ca,t,t.a),t.O)),Wh(t.J,t.a,"readystatechange",t.Wa),e=t.B?Ll(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),$h(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.c,t.m,t.l,t.f,t.T,t.j)}function bf(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=_f(t,n);if(i==gf){4==e&&(t.h=4,tf(14),r=!1),Qh(t.c,t.f,null,"[Incomplete Response]");break}if(i==vf){t.h=4,tf(15),Qh(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Qh(t.c,t.f,i,null),Tf(t,i)}4==e&&0==n.length&&(t.h=1,tf(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.W&&(t.W=!0,(e=t.g).a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Mp(e),e.F=!0)):(Qh(t.c,t.f,n,"[Invalid Chunked Response]"),Cf(t),If(t))}function _f(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?gf:(n=Number(e.substring(n,r)),isNaN(n)?vf:(r+=1)+n>e.length?gf:(e=e.substr(r,n),t.D=r+n,e))}function wf(t){t.U=wl()+t.P,Ef(t,t.P)}function Ef(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=nf(bl(t.Ua,t),e)}function kf(t){t.o&&(ll.clearTimeout(t.o),t.o=null)}function If(t){0==t.g.v||t.A||qp(t.g,t)}function Cf(t){kf(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Uh(t.R),Kh(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Tf(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||op(n.b,t)))if(n.I=t.N,!t.C&&op(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(g){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Vp(n),Ap(n)}Fp(n),tf(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=nf(bl(n.Ra,n),6e3));if(1>=ip(n.b)&&n.ea){try{n.ea()}catch(g){}n.ea=void 0}}else Hp(n,11)}else if((t.C||n.a==t)&&Vp(n),!Ol(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Pl(l,"spdy")||Pl(l,"quic")||Pl(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(ap(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Mf(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=wl()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var p=t;if((u=n).la=Wp(u,u.C?u.ga:null,u.fa),p.C){sp(u.b,p);var d=p,v=u.D;v&&d.setTimeout(v),d.o&&(kf(d),wf(d)),u.a=p}else Lp(u);0<n.g.length&&xp(n)}else"stop"!=i[0]&&"close"!=i[0]||Hp(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Hp(n,7):Op(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);$h(4)}catch(g){}}function Sf(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(pl(t)||"string"==typeof t)Cl(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(pl(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(pl(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Of(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Of)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Af(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Nf(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Nf(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Nf(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(sl=pf.prototype).setTimeout=function(t){this.P=t},sl.Wa=function(t){t=t.target;var e=this.F;e&&3==Ip(t)?e.f():this.Ca(t)},sl.Ca=function(t){try{if(t==this.a)t:{var e=Ip(this.a),n=this.a.ua(),r=this.a.X();if(!(3>e||3==e&&!Wl&&!this.a.$())){this.A||4!=e||7==n||$h(8==n||0>=r?3:2),kf(this);var i=this.a.X();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.T,e,i),this.b){if(this.V&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ol(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,tf(12),Cf(this),If(this);break t}Qh(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Tf(this,u)}this.I?(bf(this,e,o),Wl&&this.b&&3==e&&(Wh(this.J,this.R,"tick",this.Va),this.R.start())):(Qh(this.c,this.f,o,null),Tf(this,o)),4==e&&Cf(this),this.b&&!this.A&&(4==e?qp(this.g,this):(this.b=!1,wf(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,tf(12)):(this.h=0,tf(13)),Cf(this),If(this)}}}catch(fk){}},sl.Va=function(){if(this.a){var t=Ip(this.a),e=this.a.$();this.D<e.length&&(kf(this),bf(this,t,e),this.b&&4!=t&&wf(this))}},sl.cancel=function(){this.A=!0,Cf(this)},sl.Ua=function(){this.o=null;var t=wl();0<=t-this.U?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&($h(3),tf(17)),Cf(this),this.h=2,If(this)):Ef(this,this.U-t)},(sl=Of.prototype).K=function(){Af(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},sl.L=function(){return Af(this),this.a.concat()},sl.get=function(t,e){return Nf(this.b,t)?this.b[t]:e},sl.set=function(t,e){Nf(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},sl.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Pf=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xf(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof xf){this.a=void 0!==e?e:t.a,jf(this,t.f),this.j=t.j,Df(this,t.c),Lf(this,t.h),this.g=t.g,e=t.b;var n=new Qf;n.c=e.c,e.a&&(n.a=new Of(e.a),n.b=e.b),Ff(this,n),this.i=t.i}else t&&(n=String(t).match(Pf))?(this.a=!!e,jf(this,n[1]||"",!0),this.j=Vf(n[2]||""),Df(this,n[3]||"",!0),Lf(this,n[4]),this.g=Vf(n[5]||"",!0),Ff(this,n[6]||"",!0),this.i=Vf(n[7]||"")):(this.a=!!e,this.b=new Qf(null,this.a))}function Rf(t){return new xf(t)}function jf(t,e,n){t.f=n?Vf(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Df(t,e,n){t.c=n?Vf(e,!0):e}function Lf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ff(t,e,n){e instanceof Qf?(t.b=e,function(t,e){e&&!t.f&&(Yf(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Xf(this,e),$f(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=qf(e,Kf)),t.b=new Qf(e,t.a))}function Mf(t,e,n){t.b.set(e,n)}function Uf(t){return Mf(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^wl()).toString(36)),t}function Vf(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qf(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Bf),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Bf(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}xf.prototype.toString=function(){var t=[],e=this.f;e&&t.push(qf(e,Hf,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(qf(e,Hf,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(qf(n,"/"==n.charAt(0)?Wf:zf,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",qf(n,Gf)),t.join("")};var Hf=/[#\/\?@]/g,zf=/[#\?:]/g,Wf=/[#\?]/g,Kf=/[#\?@]/g,Gf=/#/g;function Qf(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Yf(t){t.a||(t.a=new Of,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Xf(t,e){Yf(t),e=Zf(t,e),Nf(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Nf((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Af(t)))}function Jf(t,e){return Yf(t),e=Zf(t,e),Nf(t.a.b,e)}function $f(t,e,n){Xf(t,e),0<n.length&&(t.c=null,t.a.set(Zf(t,e),Sl(n)),t.b+=n.length)}function Zf(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function tp(t,e){this.b=t,this.a=e}function ep(t){this.g=t||np,t=ll.PerformanceNavigationTiming?0<(t=ll.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ll.ia&&ll.ia.ya&&ll.ia.ya()&&ll.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(sl=Qf.prototype).add=function(t,e){Yf(this),this.c=null,t=Zf(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},sl.forEach=function(t,e){Yf(this),this.a.forEach((function(n,r){Cl(n,(function(n){t.call(e,n,r,this)}),this)}),this)},sl.L=function(){Yf(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},sl.K=function(t){Yf(this);var e=[];if("string"==typeof t)Jf(this,t)&&(e=Tl(e,this.a.get(Zf(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Tl(e,t[n])}return e},sl.set=function(t,e){return Yf(this),this.c=null,Jf(this,t=Zf(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},sl.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},sl.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var np=10;function rp(t){return!!t.b||!!t.a&&t.a.size>=t.f}function ip(t){return t.b?1:t.a?t.a.size:0}function op(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function ap(t,e){t.a?t.a.add(e):t.b=e}function sp(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function up(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=al(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Sl(t.c)}function cp(){}function lp(){this.a=new cp}function hp(t,e,n){var r=n||"";try{Sf(t,(function(t,n){var i=t;dl(t)&&(i=Sh(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function fp(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}ep.prototype.cancel=function(){var t,e;if(this.c=up(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=al(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},cp.prototype.stringify=function(t){return ll.JSON.stringify(t,void 0)},cp.prototype.parse=function(t){return ll.JSON.parse(t,void 0)};var pp=ll.JSON.parse;function dp(t){Ch.call(this),this.headers=new Of,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=vp,this.D=this.F=!1}El(dp,Ch);var vp="",gp=/^https?$/i,yp=["POST","PUT"];function mp(t){return"content-type"==t.toLowerCase()}function bp(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,_p(t),Ep(t)}function _p(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function wp(t){if(t.b&&void 0!==cl&&(!t.s[1]||4!=Ip(t)||2!=t.X()))if(t.l&&4==Ip(t))Vh(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==Ip(t)){t.b=!1;try{var e,n=t.X();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Pf)[1]||null;if(!o&&ll.self&&ll.self.location){var a=ll.self.location.protocol;o=a.substr(0,a.length-1)}i=!gp.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var s=2<Ip(t)?t.a.statusText:""}catch(u){s=""}t.f=s+" ["+t.X()+"]",_p(t)}}finally{Ep(t)}}}function Ep(t,e){if(t.a){kp(t);var n=t.a,r=t.s[0]?hl:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function kp(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(ll.clearTimeout(t.m),t.m=null)}function Ip(t){return t.a?t.a.readyState:0}function Cp(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Dl(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Mf(t,e,n))}function Tp(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Sp(t){this.pa=0,this.g=[],this.c=new Gh,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=Tp("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=Tp("baseRetryDelayMs",5e3,t),this.Ma=Tp("retryDelaySeedMs",1e4,t),this.Ja=Tp("forwardChannelMaxRetries",2,t),this.ma=Tp("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new ep(t&&t.concurrentRequestLimit),this.ka=new lp,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function Op(t){if(Np(t),3==t.v){var e=t.R++,n=Rf(t.B);Mf(n,"SID",t.J),Mf(n,"RID",e),Mf(n,"TYPE","terminate"),jp(t,n),(e=new pf(t,t.c,e,void 0)).H=2,e.i=Uf(Rf(n)),n=!1,ll.navigator&&ll.navigator.sendBeacon&&(n=ll.navigator.sendBeacon(e.i.toString(),"")),!n&&ll.Image&&((new Image).src=e.i,n=!0),n||(e.a=Kp(e.g,null),e.a.ba(e.i)),e.u=wl(),wf(e)}zp(t)}function Ap(t){t.a&&(Mp(t),t.a.cancel(),t.a=null)}function Np(t){Ap(t),t.j&&(ll.clearTimeout(t.j),t.j=null),Vp(t),t.b.cancel(),t.h&&("number"==typeof t.h&&ll.clearTimeout(t.h),t.h=null)}function Pp(t,e){t.g.push(new tp(t.La++,e)),3==t.v&&xp(t)}function xp(t){rp(t.b)||t.h||(t.h=!0,jh(t.Ba,t),t.u=0)}function Rp(t,e){var n;n=e?e.f:t.R++;var r=Rf(t.B);Mf(r,"SID",t.J),Mf(r,"RID",n),Mf(r,"AID",t.P),jp(t,r),t.i&&t.l&&Cp(r,t.i,t.l),n=new pf(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Dp(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),ap(t.b,n),yf(n,r,e)}function jp(t,e){t.f&&Sf({},(function(t,n){Mf(e,n,t)}))}function Dp(t,e,n){n=Math.min(t.g.length,n);var r=t.f?bl(t.f.Ha,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].b)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{hp(l,a,"req"+c+"_")}catch(h){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Lp(t){t.a||t.j||(t.U=1,jh(t.Aa,t),t.o=0)}function Fp(t){return!(t.a||t.j||3<=t.o||(t.U++,t.j=nf(bl(t.Aa,t),Bp(t,t.o)),t.o++,0))}function Mp(t){null!=t.s&&(ll.clearTimeout(t.s),t.s=null)}function Up(t){t.a=new pf(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Rf(t.la);Mf(e,"RID","rpc"),Mf(e,"SID",t.J),Mf(e,"CI",t.H?"0":"1"),Mf(e,"AID",t.P),jp(t,e),Mf(e,"TYPE","xmlhttp"),t.i&&t.l&&Cp(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Uf(Rf(e)),n.j=null,n.I=!0,mf(n,t)}function Vp(t){null!=t.m&&(ll.clearTimeout(t.m),t.m=null)}function qp(t,e){var n=null;if(t.a==e){Vp(t),Mp(t),t.a=null;var r=2}else{if(!op(t.b,e))return;n=e.s,sp(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=wl()-e.u;var i=t.u;(r=Xh()).dispatchEvent(new ef(r,n,e,i)),xp(t)}else Lp(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(ip(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja)||(t.h=nf(bl(t.Ba,t,e),Bp(t,t.u)),t.u++,0)))}(t,e)||2==r&&Fp(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Hp(t,5);break;case 4:Hp(t,10);break;case 3:Hp(t,6);break;default:Hp(t,2)}}function Bp(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function Hp(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=bl(t.Xa,t);n||(n=new xf("//www.google.com/images/cleardot.gif"),ll.location&&"http"==ll.location.protocol||jf(n,"https"),Uf(n)),function(t,e){var n=new Gh;if(ll.Image){var r=new Image;r.onload=_l(fp,n,r,"TestLoadImage: loaded",!0,e),r.onerror=_l(fp,n,r,"TestLoadImage: error",!1,e),r.onabort=_l(fp,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=_l(fp,n,r,"TestLoadImage: timeout",!1,e),ll.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else tf(2);t.v=0,t.f&&t.f.ra(e),zp(t),Np(t)}function zp(t){t.v=0,t.I=-1,t.f&&(0==up(t.b).length&&0==t.g.length||(t.b.c.length=0,Sl(t.g),t.g.length=0),t.f.qa())}function Wp(t,e,n){var r=function(t){return t instanceof xf?Rf(t):new xf(t,void 0)}(n);if(""!=r.c)e&&Df(r,e+"."+r.c),Lf(r,r.h);else{var i=ll.location;r=function(t,e,n,r){var i=new xf(null,void 0);return t&&jf(i,t),e&&Df(i,e),n&&Lf(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.W&&Dl(t.W,(function(t,e){Mf(r,e,t)})),n=t.na,(e=t.A)&&n&&Mf(r,e,n),Mf(r,"VER",t.ha),jp(t,r),r}function Kp(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new dp(t.Ka)).F=t.C,e}function Gp(){}function Qp(){if(Hl&&!(10<=Number(th)))throw Error("Environmental error: no available transport.")}function Yp(t,e){Ch.call(this),this.a=new Sp(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ol(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ol(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new $p(this)}function Xp(t){lf.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Jp(){hf.call(this),this.status=1}function $p(t){this.a=t}(sl=dp.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:uf),this.a.onreadystatechange=bl(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void bp(this,o)}t=n||"";var i=new Of(this.headers);r&&Sf(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=mp,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=ll.FormData&&t instanceof ll.FormData,!(0<=Il(yp,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{kp(this),0<this.o&&((this.D=function(t){return Hl&&Zl(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=bl(this.xa,this)):this.m=Vh(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){bp(this,o)}},sl.xa=function(){void 0!==cl&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},sl.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ep(this))},sl.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Ep(this,!0)),dp.S.G.call(this)},sl.za=function(){this.j||(this.A||this.l||this.g?wp(this):this.Ta())},sl.Ta=function(){wp(this)},sl.X=function(){try{return 2<Ip(this)?this.a.status:-1}catch(ql){return-1}},sl.$=function(){try{return this.a?this.a.responseText:""}catch(ql){return""}},sl.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),pp(e)}},sl.ua=function(){return this.h},sl.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(sl=Sp.prototype).ha=8,sl.v=1,sl.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new pf(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Ml(r=Ll(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Dp(this,n,e),Mf(i=Rf(this.B),"RID",t),Mf(i,"CVER",22),this.A&&Mf(i,"X-HTTP-Session-Id",this.A),jp(this,i),this.i&&r&&Cp(i,this.i,r),ap(this.b,n),this.Ga&&Mf(i,"TYPE","init"),this.da?(Mf(i,"$req",e),Mf(i,"SID","null"),n.V=!0,yf(n,i,null)):yf(n,i,e),this.v=2}}else 3==this.v&&(t?Rp(this,t):0==this.g.length||rp(this.b)||Rp(this))},sl.Aa=function(){if(this.j=null,Up(this),this.V&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=nf(bl(this.Sa,this),t)}},sl.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Ap(this),Up(this))},sl.Ra=function(){null!=this.m&&(this.m=null,Ap(this),Fp(this),tf(19))},sl.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),tf(2)):(this.c.info("Failed to ping google.com"),tf(1))},(sl=Gp.prototype).ta=function(){},sl.sa=function(){},sl.ra=function(){},sl.qa=function(){},sl.Ha=function(){},Qp.prototype.a=function(t,e){return new Yp(t,e)},El(Yp,Ch),(sl=Yp.prototype).addEventListener=function(t,e,n,r){Yp.S.addEventListener.call(this,t,e,n,r)},sl.removeEventListener=function(t,e,n,r){Yp.S.removeEventListener.call(this,t,e,n,r)},sl.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;tf(0),t.fa=e,t.W=n||{},t.H=t.T,t.B=Wp(t,null,t.fa),xp(t)},sl.close=function(){Op(this.a)},sl.Pa=function(t){if("string"==typeof t){var e={};e.__data__=t,Pp(this.a,e)}else this.g?((e={}).__data__=Sh(t),Pp(this.a,e)):Pp(this.a,t)},sl.G=function(){this.a.f=null,delete this.f,Op(this.a),delete this.a,Yp.S.G.call(this)},El(Xp,lf),El(Jp,hf),El($p,Gp),$p.prototype.ta=function(){this.a.dispatchEvent("a")},$p.prototype.sa=function(t){this.a.dispatchEvent(new Xp(t))},$p.prototype.ra=function(t){this.a.dispatchEvent(new Jp(t))},$p.prototype.qa=function(){this.a.dispatchEvent("b")},Qp.prototype.createWebChannel=Qp.prototype.a,Yp.prototype.send=Yp.prototype.Pa,Yp.prototype.open=Yp.prototype.Oa,Yp.prototype.close=Yp.prototype.close,rf.NO_ERROR=0,rf.TIMEOUT=8,rf.HTTP_ERROR=6,of.COMPLETE="complete",sf.EventType=cf,cf.OPEN="a",cf.CLOSE="b",cf.ERROR="c",cf.MESSAGE="d",Ch.prototype.listen=Ch.prototype.va,dp.prototype.listenOnce=dp.prototype.wa,dp.prototype.getLastError=dp.prototype.Qa,dp.prototype.getLastErrorCode=dp.prototype.ua,dp.prototype.getStatus=dp.prototype.X,dp.prototype.getResponseJson=dp.prototype.Na,dp.prototype.getResponseText=dp.prototype.$,dp.prototype.send=dp.prototype.ba;var Zp=rf,td=of,ed=sf,nd=dp,rd=u("/6Yf"),id={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},od=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(nl.c)(e,t),e}(Error),ad=new rl.b("@firebase/firestore");function sd(){return ad.logLevel}function ud(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ad.logLevel<=rl.a.DEBUG){var r=e.map(hd);ad.debug.apply(ad,Object(nl.g)(["Firestore (8.0.1): "+t],r))}}function cd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ad.logLevel<=rl.a.ERROR){var r=e.map(hd);ad.error.apply(ad,Object(nl.g)(["Firestore (8.0.1): "+t],r))}}function ld(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ad.logLevel<=rl.a.WARN){var r=e.map(hd);ad.warn.apply(ad,Object(nl.g)(["Firestore (8.0.1): "+t],r))}}function hd(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function fd(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.0.1) INTERNAL ASSERTION FAILED: "+t;throw cd(e),new Error(e)}function pd(t,e){t||fd()}function dd(t,e){return t}function vd(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var gd=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=vd(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function yd(t,e){return t<e?-1:t>e?1:0}function md(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function bd(t){return t+"\0"}var _d=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return yd(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();_d.h=new _d("");var wd=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(_d.fromBase64String(e))}catch(e){throw new od(id.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(_d.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}();function Ed(){if("undefined"==typeof Uint8Array)throw new od(id.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function kd(){if("undefined"==typeof atob)throw new od(id.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Id=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(nl.c)(e,t),e.fromBase64String=function(t){kd();try{return new e(_d.fromBase64String(t))}catch(t){throw new od(id.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},e.fromUint8Array=function(t){return Ed(),new e(_d.fromUint8Array(t))},e.prototype.toBase64=function(){return kd(),t.prototype.toBase64.call(this)},e.prototype.toUint8Array=function(){return Ed(),t.prototype.toUint8Array.call(this)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(wd),Cd=function(t,e,n,r,i,o){this._=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.T=o},Td=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"I",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.u=function(t){return yd(this.projectId,t.projectId)||yd(this.database,t.database)},t}();function Sd(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Od(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ad(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Nd=function(){function t(t,e){this.m=t,this.A=e,this.R={}}return t.prototype.get=function(t){var e=this.m(t),n=this.R[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(this.A(o[0],t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.m(t),r=this.R[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.A(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.R[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.m(t),n=this.R[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.A(n[r][0],t))return 1===n.length?delete this.R[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Od(this.R,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.P=function(){return Ad(this.R)},t}(),Pd=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new od(id.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new od(id.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new od(id.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new od(id.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.g=function(t){return this.seconds===t.seconds?yd(this.nanoseconds,t.nanoseconds):yd(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),xd=function(){function t(t){this.timestamp=t}return t.V=function(e){return new t(e)},t.min=function(){return new t(new Pd(0,0))},t.prototype.u=function(t){return this.timestamp.g(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.p=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.v=function(){return this.timestamp},t}(),Rd=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&fd(),void 0===n?n=t.length-e:n>t.length-e&&fd(),this.segments=t,this.offset=e,this.S=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.S},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.D(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.C(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.N=function(t){return this.C(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.F=function(){return this.C(this.segments,this.offset,this.length-1)},t.prototype.O=function(){return this.segments[this.offset]},t.prototype.k=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.P=function(){return 0===this.length},t.prototype.M=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.$=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.L=function(){return this.segments.slice(this.offset,this.limit())},t.D=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),jd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(nl.c)(e,t),e.prototype.C=function(t,n,r){return new e(t,n,r)},e.prototype.B=function(){return this.L().join("/")},e.prototype.toString=function(){return this.B()},e.q=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new od(id.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.U=function(){return new e([])},e}(Rd),Dd=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ld=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(nl.c)(e,t),e.prototype.C=function(t,n,r){return new e(t,n,r)},e.K=function(t){return Dd.test(t)},e.prototype.B=function(){return this.L().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.K(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.B()},e.prototype.W=function(){return 1===this.length&&"__name__"===this.get(0)},e.j=function(){return new e(["__name__"])},e.G=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new od(id.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new od(id.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new od(id.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new od(id.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.U=function(){return new e([])},e}(Rd),Fd=function(){function t(t){this.path=t}return t.H=function(e){return new t(jd.q(e))},t.Y=function(e){return new t(jd.q(e).N(5))},t.prototype.J=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===jd.D(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.D=function(t,e){return jd.D(t.path,e.path)},t.X=function(t){return t.length%2==0},t.Z=function(e){return new t(new jd(e.slice()))},t}();function Md(t){return null==t}function Ud(t){return 0===t&&1/t==-1/0}function Vd(t){return"number"==typeof t&&Number.isInteger(t)&&!Ud(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var qd=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.tt=null};function Bd(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new qd(t,e,n,r,i,o,a)}function Hd(t){var e=dd(t);if(null===e.tt){var n=e.path.B();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.B()+t.op.toString()+Rv(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.B()+e.dir;var e})).join(","),Md(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=jy(e.startAt)),e.endAt&&(n+="|ub:",n+=jy(e.endAt)),e.tt=n}return e.tt}function zd(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Uy(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Av(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ly(t.startAt,e.startAt)&&Ly(t.endAt,e.endAt)}function Wd(t){return Fd.X(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Kd,Gd,Qd=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=xd.min()),void 0===o&&(o=xd.min()),void 0===a&&(a=_d.h),this.target=t,this.targetId=e,this.et=n,this.sequenceNumber=r,this.nt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.st=function(e){return new t(this.target,this.targetId,this.et,e,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.it=function(e,n){return new t(this.target,this.targetId,this.et,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.rt=function(e){return new t(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,e,this.resumeToken)},t}(),Yd=function(t){this.count=t};function Xd(t){switch(t){case id.OK:return fd();case id.CANCELLED:case id.UNKNOWN:case id.DEADLINE_EXCEEDED:case id.RESOURCE_EXHAUSTED:case id.INTERNAL:case id.UNAVAILABLE:case id.UNAUTHENTICATED:return!1;case id.INVALID_ARGUMENT:case id.NOT_FOUND:case id.ALREADY_EXISTS:case id.PERMISSION_DENIED:case id.FAILED_PRECONDITION:case id.ABORTED:case id.OUT_OF_RANGE:case id.UNIMPLEMENTED:case id.DATA_LOSS:return!0;default:return fd()}}function Jd(t){if(void 0===t)return cd("GRPC error has no .code"),id.UNKNOWN;switch(t){case Kd.OK:return id.OK;case Kd.CANCELLED:return id.CANCELLED;case Kd.UNKNOWN:return id.UNKNOWN;case Kd.DEADLINE_EXCEEDED:return id.DEADLINE_EXCEEDED;case Kd.RESOURCE_EXHAUSTED:return id.RESOURCE_EXHAUSTED;case Kd.INTERNAL:return id.INTERNAL;case Kd.UNAVAILABLE:return id.UNAVAILABLE;case Kd.UNAUTHENTICATED:return id.UNAUTHENTICATED;case Kd.INVALID_ARGUMENT:return id.INVALID_ARGUMENT;case Kd.NOT_FOUND:return id.NOT_FOUND;case Kd.ALREADY_EXISTS:return id.ALREADY_EXISTS;case Kd.PERMISSION_DENIED:return id.PERMISSION_DENIED;case Kd.FAILED_PRECONDITION:return id.FAILED_PRECONDITION;case Kd.ABORTED:return id.ABORTED;case Kd.OUT_OF_RANGE:return id.OUT_OF_RANGE;case Kd.UNIMPLEMENTED:return id.UNIMPLEMENTED;case Kd.DATA_LOSS:return id.DATA_LOSS;default:return fd()}}(Gd=Kd||(Kd={}))[Gd.OK=0]="OK",Gd[Gd.CANCELLED=1]="CANCELLED",Gd[Gd.UNKNOWN=2]="UNKNOWN",Gd[Gd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gd[Gd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gd[Gd.NOT_FOUND=5]="NOT_FOUND",Gd[Gd.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gd[Gd.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gd[Gd.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gd[Gd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gd[Gd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gd[Gd.ABORTED=10]="ABORTED",Gd[Gd.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gd[Gd.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gd[Gd.INTERNAL=13]="INTERNAL",Gd[Gd.UNAVAILABLE=14]="UNAVAILABLE",Gd[Gd.DATA_LOSS=15]="DATA_LOSS";var $d=function(){function t(t,e){this.D=t,this.root=e||tv.EMPTY}return t.prototype.ot=function(e,n){return new t(this.D,this.root.ot(e,n,this.D).copy(null,null,tv.at,null,null))},t.prototype.remove=function(e){return new t(this.D,this.root.remove(e,this.D).copy(null,null,tv.at,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.P();){var n=this.D(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.P();){var r=this.D(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.P=function(){return this.root.P()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.ct=function(){return this.root.ct()},t.prototype.ut=function(){return this.root.ut()},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.forEach=function(t){this.ht((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ht((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.lt=function(t){return this.root.lt(t)},t.prototype._t=function(){return new Zd(this.root,null,this.D,!1)},t.prototype.ft=function(t){return new Zd(this.root,t,this.D,!1)},t.prototype.dt=function(){return new Zd(this.root,null,this.D,!0)},t.prototype.wt=function(t){return new Zd(this.root,t,this.D,!0)},t}(),Zd=function(){function t(t,e,n,r){this.Et=r,this.Tt=[];for(var i=1;!t.P();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.Et?t.left:t.right;else{if(0===i){this.Tt.push(t);break}this.Tt.push(t),t=this.Et?t.right:t.left}}return t.prototype.It=function(){var t=this.Tt.pop(),e={key:t.key,value:t.value};if(this.Et)for(t=t.left;!t.P();)this.Tt.push(t),t=t.right;else for(t=t.right;!t.P();)this.Tt.push(t),t=t.left;return e},t.prototype.At=function(){return this.Tt.length>0},t.prototype.Rt=function(){if(0===this.Tt.length)return null;var t=this.Tt[this.Tt.length-1];return{key:t.key,value:t.value}},t}(),tv=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.P=function(){return!1},t.prototype.ht=function(t){return this.left.ht(t)||t(this.key,this.value)||this.right.ht(t)},t.prototype.lt=function(t){return this.right.lt(t)||t(this.key,this.value)||this.left.lt(t)},t.prototype.min=function(){return this.left.P()?this:this.left.min()},t.prototype.ct=function(){return this.min().key},t.prototype.ut=function(){return this.right.P()?this.key:this.right.ut()},t.prototype.ot=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.ot(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.ot(t,e,n))).Pt()},t.prototype.gt=function(){if(this.left.P())return t.EMPTY;var e=this;return e.left.yt()||e.left.left.yt()||(e=e.Vt()),(e=e.copy(null,null,null,e.left.gt(),null)).Pt()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.P()||i.left.yt()||i.left.left.yt()||(i=i.Vt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.yt()&&(i=i.bt()),i.right.P()||i.right.yt()||i.right.left.yt()||(i=i.vt()),0===n(e,i.key)){if(i.right.P())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.gt())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Pt()},t.prototype.yt=function(){return this.color},t.prototype.Pt=function(){var t=this;return t.right.yt()&&!t.left.yt()&&(t=t.St()),t.left.yt()&&t.left.left.yt()&&(t=t.bt()),t.left.yt()&&t.right.yt()&&(t=t.Dt()),t},t.prototype.Vt=function(){var t=this.Dt();return t.right.left.yt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.bt())).St()).Dt()),t},t.prototype.vt=function(){var t=this.Dt();return t.left.left.yt()&&(t=(t=t.bt()).Dt()),t},t.prototype.St=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.bt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Dt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ct=function(){var t=this.Nt();return Math.pow(2,t)<=this.size+1},t.prototype.Nt=function(){if(this.yt()&&this.left.yt())throw fd();if(this.right.yt())throw fd();var t=this.left.Nt();if(t!==this.right.Nt())throw fd();return t+(this.yt()?0:1)},t}();tv.EMPTY=null,tv.RED=!0,tv.at=!1,tv.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw fd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw fd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw fd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw fd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw fd()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.ot=function(t,e,n){return new tv(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.P=function(){return!0},t.prototype.ht=function(t){return!1},t.prototype.lt=function(t){return!1},t.prototype.ct=function(){return null},t.prototype.ut=function(){return null},t.prototype.yt=function(){return!1},t.prototype.Ct=function(){return!0},t.prototype.Nt=function(){return 0},t}());var ev=function(){function t(t){this.D=t,this.data=new $d(this.D)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.ct()},t.prototype.last=function(){return this.data.ut()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ht((function(e,n){return t(e),!1}))},t.prototype.xt=function(t,e){for(var n=this.data.ft(t[0]);n.At();){var r=n.It();if(this.D(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ft=function(t,e){var n;for(n=void 0!==e?this.data.ft(e):this.data._t();n.At();)if(!t(n.It().key))return},t.prototype.Ot=function(t){var e=this.data.ft(t);return e.At()?e.It().key:null},t.prototype._t=function(){return new nv(this.data._t())},t.prototype.ft=function(t){return new nv(this.data.ft(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).ot(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.P=function(){return this.data.P()},t.prototype.kt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data._t(),r=e.data._t();n.At();){var i=n.It().key,o=r.It().key;if(0!==this.D(i,o))return!1}return!0},t.prototype.L=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.D);return n.data=e,n},t}(),nv=function(){function t(t){this.Mt=t}return t.prototype.It=function(){return this.Mt.It().key},t.prototype.At=function(){return this.Mt.At()},t}(),rv=new $d(Fd.D);function iv(){return rv}function ov(){return iv()}var av=new $d(Fd.D);function sv(){return av}var uv=new $d(Fd.D),cv=new ev(Fd.D);function lv(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=cv,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var hv=new ev(yd);function fv(){return hv}var pv=function(){function t(t){this.D=t?function(e,n){return t(e,n)||Fd.D(e.key,n.key)}:function(t,e){return Fd.D(t.key,e.key)},this.$t=sv(),this.Lt=new $d(this.D)}return t.Bt=function(e){return new t(e.D)},t.prototype.has=function(t){return null!=this.$t.get(t)},t.prototype.get=function(t){return this.$t.get(t)},t.prototype.first=function(){return this.Lt.ct()},t.prototype.last=function(){return this.Lt.ut()},t.prototype.P=function(){return this.Lt.P()},t.prototype.indexOf=function(t){var e=this.$t.get(t);return e?this.Lt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Lt.ht((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.$t.ot(t.key,t),e.Lt.ot(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.$t.remove(t),this.Lt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Lt._t(),r=e.Lt._t();n.At();){var i=n.It().key,o=r.It().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.D=this.D,r.$t=e,r.Lt=n,r},t}(),dv=function(){function t(){this.qt=new $d(Fd.D)}return t.prototype.track=function(t){var e=t.doc.key,n=this.qt.get(e);n?0!==t.type&&3===n.type?this.qt=this.qt.ot(e,t):3===t.type&&1!==n.type?this.qt=this.qt.ot(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.qt=this.qt.ot(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.qt=this.qt.remove(e):1===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):fd():this.qt=this.qt.ot(e,t)},t.prototype.Ut=function(){var t=[];return this.qt.ht((function(e,n){t.push(n)})),t},t}(),vv=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.Kt=n,this.docChanges=r,this.Qt=i,this.fromCache=o,this.Wt=a,this.jt=s}return t.Gt=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,pv.Bt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Qt.P()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Wt===t.Wt&&this.Qt.isEqual(t.Qt)&&by(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Kt.isEqual(t.Kt)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),gv=function(){function t(t,e,n,r,i){this.nt=t,this.zt=e,this.Ht=n,this.Yt=r,this.Jt=i}return t.Xt=function(e,n){var r=new Map;return r.set(e,yv.Zt(e,n)),new t(xd.min(),r,fv(),iv(),lv())},t}(),yv=function(){function t(t,e,n,r,i){this.resumeToken=t,this.te=e,this.ee=n,this.ne=r,this.se=i}return t.Zt=function(e,n){return new t(_d.h,n,lv(),lv(),lv())},t}(),mv=function(t,e,n,r){this.ie=t,this.removedTargetIds=e,this.key=n,this.re=r},bv=function(t,e){this.targetId=t,this.oe=e},_v=function(t,e,n,r){void 0===n&&(n=_d.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},wv=function(){function t(){this.ae=0,this.ce=Iv(),this.ue=_d.h,this.he=!1,this.le=!0}return Object.defineProperty(t.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),t.prototype.de=function(t){t.o()>0&&(this.le=!0,this.ue=t)},t.prototype.we=function(){var t=lv(),e=lv(),n=lv();return this.ce.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:fd()}})),new yv(this.ue,this.he,t,e,n)},t.prototype.Ee=function(){this.le=!1,this.ce=Iv()},t.prototype.Te=function(t,e){this.le=!0,this.ce=this.ce.ot(t,e)},t.prototype.Ie=function(t){this.le=!0,this.ce=this.ce.remove(t)},t.prototype.me=function(){this.ae+=1},t.prototype.Ae=function(){this.ae-=1},t.prototype.Re=function(){this.le=!0,this.he=!0},t}(),Ev=function(){function t(t){this.Pe=t,this.ge=new Map,this.ye=iv(),this.Ve=kv(),this.pe=new ev(yd)}return t.prototype.be=function(t){for(var e=0,n=t.ie;e<n.length;e++){var r=n[e];t.re instanceof ry?this.ve(r,t.re):t.re instanceof iy&&this.Se(r,t.key,t.re)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Se(o[i],t.key,t.re)},t.prototype.De=function(t){var e=this;this.Ce(t,(function(n){var r=e.Ne(n);switch(t.state){case 0:e.xe(n)&&r.de(t.resumeToken);break;case 1:r.Ae(),r._e||r.Ee(),r.de(t.resumeToken);break;case 2:r.Ae(),r._e||e.removeTarget(n);break;case 3:e.xe(n)&&(r.Re(),r.de(t.resumeToken));break;case 4:e.xe(n)&&(e.Fe(n),r.de(t.resumeToken));break;default:fd()}}))},t.prototype.Ce=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ge.forEach((function(t,r){n.xe(r)&&e(r)}))},t.prototype.Oe=function(t){var e=t.targetId,n=t.oe.count,r=this.ke(e);if(r){var i=r.target;if(Wd(i))if(0===n){var o=new Fd(i.path);this.Se(e,o,new iy(o,xd.min()))}else pd(1===n);else this.Me(e)!==n&&(this.Fe(e),this.pe=this.pe.add(e))}},t.prototype.$e=function(t){var e=this,n=new Map;this.ge.forEach((function(r,i){var o=e.ke(i);if(o){if(r.te&&Wd(o.target)){var a=new Fd(o.target.path);null!==e.ye.get(a)||e.Le(i,a)||e.Se(i,a,new iy(a,t))}r.fe&&(n.set(i,r.we()),r.Ee())}}));var r=lv();this.Ve.forEach((function(t,n){var i=!0;n.Ft((function(t){var n=e.ke(t);return!n||2===n.et||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new gv(t,n,this.pe,this.ye,r);return this.ye=iv(),this.Ve=kv(),this.pe=new ev(yd),i},t.prototype.ve=function(t,e){if(this.xe(t)){var n=this.Le(t,e.key)?2:0;this.Ne(t).Te(e.key,n),this.ye=this.ye.ot(e.key,e),this.Ve=this.Ve.ot(e.key,this.Be(e.key).add(t))}},t.prototype.Se=function(t,e,n){if(this.xe(t)){var r=this.Ne(t);this.Le(t,e)?r.Te(e,1):r.Ie(e),this.Ve=this.Ve.ot(e,this.Be(e).delete(t)),n&&(this.ye=this.ye.ot(e,n))}},t.prototype.removeTarget=function(t){this.ge.delete(t)},t.prototype.Me=function(t){var e=this.Ne(t).we();return this.Pe.qe(t).size+e.ee.size-e.se.size},t.prototype.me=function(t){this.Ne(t).me()},t.prototype.Ne=function(t){var e=this.ge.get(t);return e||(e=new wv,this.ge.set(t,e)),e},t.prototype.Be=function(t){var e=this.Ve.get(t);return e||(e=new ev(yd),this.Ve=this.Ve.ot(t,e)),e},t.prototype.xe=function(t){var e=null!==this.ke(t);return e||ud("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ke=function(t){var e=this.ge.get(t);return e&&e._e?null:this.Pe.Ue(t)},t.prototype.Fe=function(t){var e=this;this.ge.set(t,new wv),this.Pe.qe(t).forEach((function(n){e.Se(t,n,null)}))},t.prototype.Le=function(t,e){return this.Pe.qe(t).has(e)},t}();function kv(){return new $d(Fd.D)}function Iv(){return new $d(Fd.D)}function Cv(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Tv(t){var e=jv(t.mapValue.fields.__local_write_time__.timestampValue);return new Pd(e.seconds,e.nanos)}var Sv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ov(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Cv(t)?4:10:fd()}function Av(t,e){var n=Ov(t);if(n!==Ov(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tv(t).isEqual(Tv(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=jv(t.timestampValue),r=jv(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Lv(t.bytesValue).isEqual(Lv(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Dv(t.geoPointValue.latitude)===Dv(e.geoPointValue.latitude)&&Dv(t.geoPointValue.longitude)===Dv(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Dv(t.integerValue)===Dv(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Dv(t.doubleValue),r=Dv(e.doubleValue);return n===r?Ud(n)===Ud(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return md(t.arrayValue.values||[],e.arrayValue.values||[],Av);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Sd(n)!==Sd(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Av(n[i],r[i])))return!1;return!0}(t,e);default:return fd()}}function Nv(t,e){return void 0!==(t.values||[]).find((function(t){return Av(t,e)}))}function Pv(t,e){var n=Ov(t),r=Ov(e);if(n!==r)return yd(n,r);switch(n){case 0:return 0;case 1:return yd(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Dv(t.integerValue||t.doubleValue),r=Dv(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return xv(t.timestampValue,e.timestampValue);case 4:return xv(Tv(t),Tv(e));case 5:return yd(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Lv(t),r=Lv(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=yd(n[i],r[i]);if(0!==o)return o}return yd(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=yd(Dv(t.latitude),Dv(e.latitude));return 0!==n?n:yd(Dv(t.longitude),Dv(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Pv(n[i],r[i]);if(o)return o}return yd(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=yd(r[a],o[a]);if(0!==s)return s;var u=Pv(n[r[a]],i[o[a]]);if(0!==u)return u}return yd(r.length,o.length)}(t.mapValue,e.mapValue);default:throw fd()}}function xv(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return yd(t,e);var n=jv(t),r=jv(e),i=yd(n.seconds,r.seconds);return 0!==i?i:yd(n.nanos,r.nanos)}function Rv(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=jv(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Lv(e.bytesValue).toBase64():"referenceValue"in e?Fd.Y(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+t(e.fields[a])}return n+"}"}(e.mapValue):fd();var n}(t)}function jv(t){if(pd(!!t),"string"==typeof t){var e=0,n=Sv.exec(t);if(pd(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Dv(t.seconds),nanos:Dv(t.nanos)}}function Dv(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Lv(t){return"string"==typeof t?_d.fromBase64String(t):_d.fromUint8Array(t)}function Fv(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.B()}}function Mv(t){return!!t&&"integerValue"in t}function Uv(t){return!!t&&"arrayValue"in t}function Vv(t){return!!t&&"nullValue"in t}function qv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bv(t){return!!t&&"mapValue"in t}var Hv={asc:"ASCENDING",desc:"DESCENDING"},zv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wv=function(t,e){this._=t,this.Ke=e};function Kv(t){return{integerValue:""+t}}function Gv(t,e){if(t.Ke){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ud(e)?"-0":e}}function Qv(t,e){return Vd(e)?Kv(e):Gv(t,e)}function Yv(t,e){return t.Ke?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xv(t,e){return t.Ke?e.toBase64():e.toUint8Array()}function Jv(t,e){return Yv(t,e.v())}function $v(t){return pd(!!t),xd.V(function(t){var e=jv(t);return new Pd(e.seconds,e.nanos)}(t))}function Zv(t,e){return function(t){return new jd(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).B()}function tg(t){var e=jd.q(t);return pd(wg(e)),e}function eg(t,e){return Zv(t._,e.path)}function ng(t,e){var n=tg(e);return pd(n.get(1)===t._.projectId),pd(!n.get(3)&&!t._.database||n.get(3)===t._.database),new Fd(ag(n))}function rg(t,e){return Zv(t._,e)}function ig(t){var e=tg(t);return 4===e.length?jd.U():ag(e)}function og(t){return new jd(["projects",t._.projectId,"databases",t._.database]).B()}function ag(t){return pd(t.length>4&&"documents"===t.get(4)),t.N(5)}function sg(t,e,n){return{name:eg(t,e),fields:n.proto.mapValue.fields}}function ug(t,e){var n;if(e instanceof Wg)n={update:sg(t,e.key,e.value)};else if(e instanceof Jg)n={delete:eg(t,e.key)};else if(e instanceof Kg)n={update:sg(t,e.key,e.data),updateMask:_g(e.Qe)};else if(e instanceof Qg)n={transform:{document:eg(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Tg)return{fieldPath:e.field.B(),setToServerValue:"REQUEST_TIME"};if(n instanceof Sg)return{fieldPath:e.field.B(),appendMissingElements:{values:n.elements}};if(n instanceof Ag)return{fieldPath:e.field.B(),removeAllFromArray:{values:n.elements}};if(n instanceof Pg)return{fieldPath:e.field.B(),increment:n.We};throw fd()}(0,t)}))}};else{if(!(e instanceof $g))return fd();n={verify:eg(t,e.key)}}return e.Ge.je||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Jv(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:fd()}(t,e.Ge)),n}function cg(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Fg.updateTime($v(t.updateTime)):void 0!==t.exists?Fg.exists(t.exists):Fg.ze()}(e.currentDocument):Fg.ze();if(e.update){var r=ng(t,e.update.name),i=new Zg({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new jg((t.fieldPaths||[]).map((function(t){return Ld.G(t)})))}(e.updateMask);return new Kg(r,i,o,n)}return new Wg(r,i,n)}if(e.delete){var a=ng(t,e.delete);return new Jg(a,n)}if(e.transform){var s=ng(t,e.transform.document),u=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(pd("REQUEST_TIME"===e.setToServerValue),n=new Tg):"appendMissingElements"in e?n=new Sg(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Ag(e.removeAllFromArray.values||[]):"increment"in e?n=new Pg(t,e.increment):fd();var r=Ld.G(e.fieldPath);return new Dg(r,n)}(t,e)}));return pd(!0===n.exists),new Qg(s,u)}if(e.verify){var c=ng(t,e.verify);return new $g(c,n)}return fd()}function lg(t,e){return{documents:[rg(t,e.path)]}}function hg(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=rg(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=rg(t,r.F()),n.structuredQuery.from=[{collectionId:r.k()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(qv(t.value))return{unaryFilter:{field:gg(t.field),op:"IS_NAN"}};if(Vv(t.value))return{unaryFilter:{field:gg(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(qv(t.value))return{unaryFilter:{field:gg(t.field),op:"IS_NOT_NAN"}};if(Vv(t.value))return{unaryFilter:{field:gg(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gg(t.field),op:vg(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:gg(t.field),direction:dg(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.Ke||Md(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=fg(e.startAt)),e.endAt&&(n.structuredQuery.endAt=fg(e.endAt)),n}function fg(t){return{before:t.before,values:t.position}}function pg(t){return new Ry(t.values||[],!!t.before)}function dg(t){return Hv[t]}function vg(t){return zv[t]}function gg(t){return{fieldPath:t.B()}}function yg(t){return Ld.G(t.fieldPath)}function mg(t){return Iy.create(yg(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return fd()}}(t.fieldFilter.op),t.fieldFilter.value)}function bg(t){switch(t.unaryFilter.op){case"IS_NAN":var e=yg(t.unaryFilter.field);return Iy.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=yg(t.unaryFilter.field);return Iy.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=yg(t.unaryFilter.field);return Iy.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=yg(t.unaryFilter.field);return Iy.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return fd()}}function _g(t){var e=[];return t.fields.forEach((function(t){return e.push(t.B())})),{fieldPaths:e}}function wg(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Eg=function(){this.He=void 0};function kg(t,e,n){return t instanceof Tg?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Sg?Og(t,e):t instanceof Ag?Ng(t,e):function(t,e){var n=Cg(t,e),r=xg(n)+xg(t.We);return Mv(n)&&Mv(t.We)?Kv(r):Gv(t.serializer,r)}(t,e)}function Ig(t,e,n){return t instanceof Sg?Og(t,e):t instanceof Ag?Ng(t,e):n}function Cg(t,e){return t instanceof Pg?Mv(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Tg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(nl.c)(e,t),e}(Eg),Sg=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(nl.c)(e,t),e}(Eg);function Og(t,e){for(var n=Rg(e),r=function(t){n.some((function(e){return Av(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ag=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(nl.c)(e,t),e}(Eg);function Ng(t,e){for(var n=Rg(e),r=function(t){n=n.filter((function(e){return!Av(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Pg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.We=n,r}return Object(nl.c)(e,t),e}(Eg);function xg(t){return Dv(t.integerValue||t.doubleValue)}function Rg(t){return Uv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var jg=function(){function t(t){this.fields=t,t.sort(Ld.D)}return t.prototype.Ye=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].M(t))return!0;return!1},t.prototype.isEqual=function(t){return md(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Dg=function(t,e){this.field=t,this.transform=e},Lg=function(t,e){this.version=t,this.transformResults=e},Fg=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.ze=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"je",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Mg(t,e){return void 0!==t.updateTime?e instanceof ry&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof ry}var Ug=function(){};function Vg(t,e,n){return t instanceof Wg?function(t,e,n){return new ry(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof Kg?function(t,e,n){if(!Mg(t.Ge,e))return new oy(t.key,n.version);var r=Gg(t,e);return new ry(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Qg?function(t,e,n){if(pd(null!=n.transformResults),!Mg(t.Ge,e))return new oy(t.key,n.version);var r=Yg(0,e),i=function(t,e,n){var r=[];pd(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=null;e instanceof ry&&(s=e.field(o.field)),r.push(Ig(a,s,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,a=Xg(t,r.data(),i);return new ry(t.key,o,a,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new iy(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function qg(t,e,n,r){return t instanceof Wg?function(t,e){if(!Mg(t.Ge,e))return e;var n=zg(e);return new ry(t.key,n,t.value,{Je:!0})}(t,e):t instanceof Kg?function(t,e){if(!Mg(t.Ge,e))return e;var n=zg(e),r=Gg(t,e);return new ry(t.key,n,r,{Je:!0})}(t,e):t instanceof Qg?function(t,e,n,r){if(!Mg(t.Ge,e))return e;var i=Yg(0,e),o=function(t,e,n,r){for(var i=[],o=0,a=t;o<a.length;o++){var s=a[o],u=s.transform,c=null;n instanceof ry&&(c=n.field(s.field)),null===c&&r instanceof ry&&(c=r.field(s.field)),i.push(kg(u,c,e))}return i}(t.fieldTransforms,n,e,r),a=Xg(t,i.data(),o);return new ry(t.key,i.version,a,{Je:!0})}(t,e,r,n):function(t,e){return Mg(t.Ge,e)?new iy(t.key,xd.min()):e}(t,e)}function Bg(t,e){return t instanceof Qg?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e instanceof ry?e.field(o.field):void 0,s=Cg(o.transform,a||null);null!=s&&(n=null==n?(new ty).set(o.field,s):n.set(o.field,s))}return n?n.Xe():null}(t,e):null}function Hg(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ge.isEqual(e.Ge)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.Qe.isEqual(e.Qe):2!==t.type||md(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Sg&&e instanceof Sg||t instanceof Ag&&e instanceof Ag?md(t.elements,e.elements,Av):t instanceof Pg&&e instanceof Pg?Av(t.We,e.We):t instanceof Tg&&e instanceof Tg}(t.transform,e.transform)}(t,e)})))}function zg(t){return t instanceof ry?t.version:xd.min()}var Wg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Ge=r,i.type=0,i}return Object(nl.c)(e,t),e}(Ug),Kg=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.Qe=r,o.Ge=i,o.type=1,o}return Object(nl.c)(e,t),e}(Ug);function Gg(t,e){return function(t,e){var n=new ty(e);return t.Qe.fields.forEach((function(e){if(!e.P()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.Xe()}(t,e instanceof ry?e.data():Zg.empty())}var Qg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Ge=Fg.exists(!0),r}return Object(nl.c)(e,t),e}(Ug);function Yg(t,e){return e}function Xg(t,e,n){for(var r=new ty(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.Xe()}var Jg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ge=n,r.type=3,r}return Object(nl.c)(e,t),e}(Ug),$g=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ge=n,r.type=4,r}return Object(nl.c)(e,t),e}(Ug),Zg=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.P())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Bv(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.k()])||null},t.prototype.isEqual=function(t){return Av(this.proto,t.proto)},t}(),ty=function(){function t(t){void 0===t&&(t=Zg.empty()),this.Ze=t,this.tn=new Map}return t.prototype.set=function(t,e){return this.en(t,e),this},t.prototype.delete=function(t){return this.en(t,null),this},t.prototype.en=function(t,e){for(var n=this.tn,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Ov(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.k(),e)},t.prototype.Xe=function(){var t=this.nn(Ld.U(),this.tn);return null!=t?new Zg(t):this.Ze},t.prototype.nn=function(t,e){var n=this,r=!1,i=this.Ze.field(t),o=Bv(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var a=n.nn(t.child(i),e);null!=a&&(o[i]=a,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function ey(t){var e=[];return Od(t.fields||{},(function(t,n){var r=new Ld([t]);if(Bv(n)){var i=ey(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++)e.push(r.child(a[o]))}else e.push(r)})),new jg(e)}var ny=function(t,e){this.key=t,this.version=e},ry=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).sn=r,o.Je=!!i.Je,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(nl.c)(e,t),e.prototype.field=function(t){return this.sn.field(t)},e.prototype.data=function(){return this.sn},e.prototype.rn=function(){return this.sn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Je===t.Je&&this.hasCommittedMutations===t.hasCommittedMutations&&this.sn.isEqual(t.sn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(ny),iy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(nl.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(ny),oy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(nl.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(ny),ay=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.on=n,this.filters=r,this.limit=i,this.an=o,this.startAt=a,this.endAt=s,this.cn=null,this.un=null};function sy(t,e,n,r,i,o,a,s){return new ay(t,e,n,r,i,o,a,s)}function uy(t){return new ay(t)}function cy(t){return!Md(t.limit)&&"F"===t.an}function ly(t){return!Md(t.limit)&&"L"===t.an}function hy(t){return t.on.length>0?t.on[0].field:null}function fy(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.hn())return r.field}return null}function py(t){return null!==t.collectionGroup}function dy(t){var e=dd(t);if(null===e.cn){e.cn=[];var n=fy(e),r=hy(e);if(null!==n&&null===r)n.W()||e.cn.push(new Fy(n)),e.cn.push(new Fy(Ld.j(),"asc"));else{for(var i=!1,o=0,a=e.on;o<a.length;o++){var s=a[o];e.cn.push(s),s.field.W()&&(i=!0)}if(!i){var u=e.on.length>0?e.on[e.on.length-1].dir:"asc";e.cn.push(new Fy(Ld.j(),u))}}}return e.cn}function vy(t){var e=dd(t);if(!e.un)if("F"===e.an)e.un=Bd(e.path,e.collectionGroup,dy(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=dy(e);r<i.length;r++){var o=i[r];n.push(new Fy(o.field,"desc"===o.dir?"asc":"desc"))}var a=e.endAt?new Ry(e.endAt.position,!e.endAt.before):null,s=e.startAt?new Ry(e.startAt.position,!e.startAt.before):null;e.un=Bd(e.path,e.collectionGroup,n,e.filters,e.limit,a,s)}return e.un}function gy(t,e,n){return new ay(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yy(t,e){return new ay(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,e,t.endAt)}function my(t,e){return new ay(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,e)}function by(t,e){return zd(vy(t),vy(e))&&t.an===e.an}function _y(t){return Hd(vy(t))+"|lt:"+t.an}function wy(t){return"Query(target="+function(t){var e=t.path.B();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.B()+" "+e.op+" "+Rv(e.value);var e})).join(", ")+"]"),Md(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return(e=t).field.B()+" ("+e.dir+")";var e})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+jy(t.startAt)),t.endAt&&(e+=", endAt: "+jy(t.endAt)),"Target("+e+")"}(vy(t))+"; limitType="+t.an+")"}function Ey(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.J(t.collectionGroup)&&t.path.M(n):Fd.X(t.path)?t.path.isEqual(n):t.path.$(n)}(t,e)&&function(t,e){for(var n=0,r=t.on;n<r.length;n++){var i=r[n];if(!i.field.W()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Dy(t.startAt,dy(t),e)||t.endAt&&Dy(t.endAt,dy(t),e))}(t,e)}function ky(t){return function(e,n){for(var r=!1,i=0,o=dy(t);i<o.length;i++){var a=o[i],s=My(a,e,n);if(0!==s)return s;r=r||a.field.W()}return 0}}var Iy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(nl.c)(e,t),e.create=function(t,n,r){return t.W()?"in"===n||"not-in"===n?this.ln(t,n,r):new Cy(t,n,r):"array-contains"===n?new Ay(t,r):"in"===n?new Ny(t,r):"not-in"===n?new Py(t,r):"array-contains-any"===n?new xy(t,r):new e(t,n,r)},e.ln=function(t,e,n){return"in"===e?new Ty(t,n):new Sy(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this._n(Pv(e,this.value)):null!==e&&Ov(this.value)===Ov(e)&&this._n(Pv(e,this.value))},e.prototype._n=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return fd()}},e.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Cy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Fd.Y(r.referenceValue),i}return Object(nl.c)(e,t),e.prototype.matches=function(t){var e=Fd.D(t.key,this.key);return this._n(e)},e}(Iy),Ty=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Oy(0,n),r}return Object(nl.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Iy),Sy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Oy(0,n),r}return Object(nl.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Iy);function Oy(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Fd.Y(t.referenceValue)}))}var Ay=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(nl.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Uv(e)&&Nv(e.arrayValue,this.value)},e}(Iy),Ny=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(nl.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Nv(this.value.arrayValue,e)},e}(Iy),Py=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(nl.c)(e,t),e.prototype.matches=function(t){if(Nv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Nv(this.value.arrayValue,e)},e}(Iy),xy=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(nl.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Uv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Nv(e.value.arrayValue,t)}))},e}(Iy),Ry=function(t,e){this.position=t,this.before=e};function jy(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Rv(t)})).join(",")}function Dy(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.W()?Fd.D(Fd.Y(a.referenceValue),n.key):Pv(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Ly(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Av(t.position[n],e.position[n]))return!1;return!0}var Fy=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function My(t,e,n){var r=t.field.W()?Fd.D(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Pv(r,i):fd()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return fd()}}function Uy(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Vy=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},qy=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.fn=t,this.dn=e,this.wn=n,this.En=r,this.Tn=i,this.In=0,this.mn=null,this.An=Date.now(),this.reset()}return t.prototype.reset=function(){this.In=0},t.prototype.Rn=function(){this.In=this.Tn},t.prototype.Pn=function(t){var e=this;this.cancel();var n=Math.floor(this.In+this.gn()),r=Math.max(0,Date.now()-this.An),i=Math.max(0,n-r);i>0&&ud("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.In+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.mn=this.fn.yn(this.dn,i,(function(){return e.An=Date.now(),t()})),this.In*=this.En,this.In<this.wn&&(this.In=this.wn),this.In>this.Tn&&(this.In=this.Tn)},t.prototype.Vn=function(){null!==this.mn&&(this.mn.pn(),this.mn=null)},t.prototype.cancel=function(){null!==this.mn&&(this.mn.cancel(),this.mn=null)},t.prototype.gn=function(){return(Math.random()-.5)*this.In},t}(),By=function(){function t(t){var e=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,t((function(t){e.Sn=!0,e.result=t,e.bn&&e.bn(t)}),(function(t){e.Sn=!0,e.error=t,e.vn&&e.vn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Dn&&fd(),this.Dn=!0,this.Sn?this.error?this.Cn(n,this.error):this.Nn(e,this.result):new t((function(t,i){r.bn=function(n){r.Nn(e,n).next(t,i)},r.vn=function(e){r.Cn(n,e).next(t,i)}}))},t.prototype.xn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Fn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Nn=function(e,n){return e?this.Fn((function(){return e(n)})):t.resolve(n)},t.prototype.Cn=function(e,n){return e?this.Fn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.On=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.kn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.On(r)},t}(),Hy=function(){function t(e,n,r){this.name=e,this.version=n,this.Mn=r,12.2===t.$n(Object(il.p)())&&cd("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return ud("SimpleDb","Removing database:",t),Yy(window.indexedDB.deleteDatabase(t)).xn()},t.Ln=function(){if("undefined"==typeof indexedDB)return!1;if(t.Bn())return!0;var e=Object(il.p)(),n=t.$n(e),r=0<n&&n<10,i=t.qn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Bn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Un)},t.Kn=function(t,e){return t.store(e)},t.$n=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.qn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Qn=function(t){return Object(nl.b)(this,void 0,void 0,(function(){var e,n=this;return Object(nl.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(ud("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Wy(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new od(id.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Wy(t,n))},i.onupgradeneeded=function(t){ud("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Mn.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){ud("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Wn&&(this.db.onversionchange=function(t){return n.Wn(t)}),this.db)]}}))}))},t.prototype.jn=function(t){this.Wn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(nl.b)(this,void 0,void 0,(function(){var i,o,a,s,u;return Object(nl.d)(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,c,l;return Object(nl.d)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.Qn(t)];case 2:return s.db=h.sent(),e=Gy.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch((function(t){return e.abort(t),By.reject(t)})).xn(),u={},a.catch((function(){})),[4,e.Gn];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return ud("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),zy=function(){function t(t){this.zn=t,this.Hn=!1,this.Yn=null}return Object.defineProperty(t.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Hn=!0},t.prototype.Xn=function(t){this.Yn=t},t.prototype.delete=function(){return Yy(this.zn.delete())},t}(),Wy=function(t){function e(e,n){var r=this;return(r=t.call(this,id.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(nl.c)(e,t),e}(od);function Ky(t){return"IndexedDbTransactionError"===t.name}var Gy=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Zn=new Vy,this.transaction.oncomplete=function(){n.Zn.resolve()},this.transaction.onabort=function(){e.error?n.Zn.reject(new Wy(t,e.error)):n.Zn.resolve()},this.transaction.onerror=function(e){var r=Jy(e.target.error);n.Zn.reject(new Wy(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Wy(n,e)}},Object.defineProperty(t.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Zn.reject(t),this.aborted||(ud("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Qy(e)},t}(),Qy=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(ud("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(ud("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Yy(n)},t.prototype.add=function(t){return ud("SimpleDb","ADD",this.store.name,t,t),Yy(this.store.add(t))},t.prototype.get=function(t){var e=this;return Yy(this.store.get(t)).next((function(n){return void 0===n&&(n=null),ud("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return ud("SimpleDb","DELETE",this.store.name,t),Yy(this.store.delete(t))},t.prototype.count=function(){return ud("SimpleDb","COUNT",this.store.name),Yy(this.store.count())},t.prototype.ts=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.es(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.ns=function(t,e){ud("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.ss=!1;var r=this.cursor(n);return this.es(r,(function(t,e,n){return n.delete()}))},t.prototype.rs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.es(r,e)},t.prototype.os=function(t){var e=this.cursor({});return new By((function(n,r){e.onerror=function(t){var e=Jy(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.es=function(t,e){var n=[];return new By((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new zy(i),a=e(i.primaryKey,i.value,o);if(a instanceof By){var s=a.catch((function(t){return o.done(),By.reject(t)}));n.push(s)}o.Sn?r():null===o.Jn?i.continue():i.continue(o.Jn)}else r()}})).next((function(){return By.On(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.ss?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Yy(t){return new By((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Jy(t.target.error);n(e)}}))}var Xy=!1;function Jy(t){var e=Hy.$n(Object(il.p)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new od("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Xy||(Xy=!0,setTimeout((function(){throw r}),0)),r}}return t}function $y(){return"undefined"!=typeof window?window:null}function Zy(){return"undefined"!=typeof document?document:null}var tm=function(){function t(t,e,n,r,i){this.cs=t,this.dn=e,this.us=n,this.op=r,this.hs=i,this.ls=new Vy,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch((function(t){}))}return t._s=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.fs=setTimeout((function(){return e.ds()}),t)},t.prototype.pn=function(){return this.ds()},t.prototype.cancel=function(t){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new od(id.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.ds=function(){var t=this;this.cs.ws((function(){return null!==t.fs?(t.clearTimeout(),t.op().then((function(e){return t.ls.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},t}(),em=function(){function t(){var t=this;this.Es=Promise.resolve(),this.Ts=[],this.Is=!1,this.As=[],this.Rs=null,this.Ps=!1,this.gs=[],this.ys=new qy(this,"async_queue_retry"),this.Vs=function(){var e=Zy();e&&ud("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ys.Vn()};var e=Zy();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(t.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),t.prototype.ws=function(t){this.enqueue(t)},t.prototype.bs=function(t){this.vs(),this.Ss(t)},t.prototype.Ds=function(){if(!this.Is){this.Is=!0;var t=Zy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vs)}},t.prototype.enqueue=function(t){return this.vs(),this.Is?new Promise((function(t){})):this.Ss(t)},t.prototype.Cs=function(t){var e=this;this.ws((function(){return e.Ts.push(t),e.Ns()}))},t.prototype.Ns=function(){return Object(nl.b)(this,void 0,void 0,(function(){var t,e=this;return Object(nl.d)(this,(function(n){switch(n.label){case 0:if(0===this.Ts.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Ts[0]()];case 2:return n.sent(),this.Ts.shift(),this.ys.reset(),[3,4];case 3:if(!Ky(t=n.sent()))throw t;return ud("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Ts.length>0&&this.ys.Pn((function(){return e.Ns()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ss=function(t){var e=this,n=this.Es.then((function(){return e.Ps=!0,t().catch((function(t){throw e.Rs=t,e.Ps=!1,cd("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.Ps=!1,t}))}));return this.Es=n,n},t.prototype.yn=function(t,e,n){var r=this;this.vs(),this.gs.indexOf(t)>-1&&(e=0);var i=tm._s(this,t,e,n,(function(t){return r.xs(t)}));return this.As.push(i),i},t.prototype.vs=function(){this.Rs&&fd()},t.prototype.Fs=function(){},t.prototype.Os=function(){return Object(nl.b)(this,void 0,void 0,(function(){var t;return Object(nl.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.Es];case 1:e.sent(),e.label=2;case 2:if(t!==this.Es)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.ks=function(t){for(var e=0,n=this.As;e<n.length;e++)if(n[e].dn===t)return!0;return!1},t.prototype.Ms=function(t){var e=this;return this.Os().then((function(){e.As.sort((function(t,e){return t.us-e.us}));for(var n=0,r=e.As;n<r.length;n++){var i=r[n];if(i.pn(),"all"!==t&&i.dn===t)break}return e.Os()}))},t.prototype.$s=function(t){this.gs.push(t)},t.prototype.xs=function(t){var e=this.As.indexOf(t);this.As.splice(e,1)},t}();function nm(t,e){if(cd("AsyncQueue",e+": "+t),Ky(t))return new od(id.UNAVAILABLE,e+": "+t);throw t}var rm=function(){this.Ls=void 0,this.listeners=[]},im=function(){this.Bs=new Nd((function(t){return _y(t)}),by),this.onlineState="Unknown",this.qs=new Set};function om(t,e){return Object(nl.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Object(nl.d)(this,(function(c){switch(c.label){case 0:if(n=dd(t),i=!1,(o=n.Bs.get(r=e.query))||(i=!0,o=new rm),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.Us(r)];case 2:return a.Ls=c.sent(),[3,4];case 3:return s=c.sent(),u=nm(s,"Initialization of query '"+wy(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.Bs.set(r,o),o.listeners.push(e),e.Ks(n.onlineState),o.Ls&&e.Qs(o.Ls)&&cm(n),[2]}}))}))}function am(t,e){return Object(nl.b)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(nl.d)(this,(function(s){return n=dd(t),i=!1,(o=n.Bs.get(r=e.query))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.Bs.delete(r),n.Ws(r))]:[2]}))}))}function sm(t,e){for(var n=dd(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=n.Bs.get(a.query);if(s){for(var u=0,c=s.listeners;u<c.length;u++)c[u].Qs(a)&&(r=!0);s.Ls=a}}r&&cm(n)}function um(t,e,n){var r=dd(t),i=r.Bs.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.Bs.delete(e)}function cm(t){t.qs.forEach((function(t){t.next()}))}var lm=function(){function t(t,e,n){this.query=t,this.js=e,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Qs=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new vv(t.query,t.docs,t.Kt,e,t.Qt,t.fromCache,t.Wt,!0)}var o=!1;return this.Gs?this.Hs(t)&&(this.js.next(t),o=!0):this.Ys(t,this.onlineState)&&(this.Js(t),o=!0),this.zs=t,o},t.prototype.onError=function(t){this.js.error(t)},t.prototype.Ks=function(t){this.onlineState=t;var e=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,t)&&(this.Js(this.zs),e=!0),e},t.prototype.Ys=function(t,e){return!t.fromCache||!(this.options.Xs&&"Offline"!==e||t.docs.P()&&"Offline"!==e)},t.prototype.Hs=function(t){return t.docChanges.length>0||!!(t.Wt||this.zs&&this.zs.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.Js=function(t){t=vv.Gt(t.query,t.docs,t.Qt,t.fromCache),this.Gs=!0,this.js.next(t)},t}(),hm=function(){function t(t){this.uid=t}return t.prototype.Zs=function(){return null!=this.uid},t.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();hm.UNAUTHENTICATED=new hm(null),hm.ei=new hm("google-credentials-uid"),hm.ni=new hm("first-party-uid");var fm=function(t,e){this.user=e,this.type="OAuth",this.si={},this.si.Authorization="Bearer "+t},pm=function(){function t(){this.ii=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.ri=function(){},t.prototype.oi=function(t){this.ii=t,t(hm.UNAUTHENTICATED)},t.prototype.ai=function(){this.ii=null},t}(),dm=function(){function t(t){var e=this;this.ci=null,this.currentUser=hm.UNAUTHENTICATED,this.ui=!1,this.hi=0,this.ii=null,this.forceRefresh=!1,this.ci=function(){e.hi++,e.currentUser=e.li(),e.ui=!0,e.ii&&e.ii(e.currentUser)},this.hi=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.ci):(this.ci(null),t.get().then((function(t){e.auth=t,e.ci&&e.auth.addAuthTokenListener(e.ci)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.hi,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.hi!==e?(ud("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(pd("string"==typeof n.accessToken),new fm(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.ri=function(){this.forceRefresh=!0},t.prototype.oi=function(t){this.ii=t,this.ui&&t(this.currentUser)},t.prototype.ai=function(){this.auth&&this.auth.removeAuthTokenListener(this.ci),this.ci=null,this.ii=null},t.prototype.li=function(){var t=this.auth&&this.auth.getUid();return pd(null===t||"string"==typeof t),new hm(t)},t}(),vm=function(){function t(t,e){this._i=t,this.fi=e,this.type="FirstParty",this.user=hm.ni}return Object.defineProperty(t.prototype,"si",{get:function(){var t={"X-Goog-AuthUser":this.fi},e=this._i.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),gm=function(){function t(t,e){this._i=t,this.fi=e}return t.prototype.getToken=function(){return Promise.resolve(new vm(this._i,this.fi))},t.prototype.oi=function(t){t(hm.ni)},t.prototype.ai=function(){},t.prototype.ri=function(){},t}(),ym=function(){function t(t,e,n,r){this.batchId=t,this.di=e,this.baseMutations=n,this.mutations=r}return t.prototype.wi=function(t,e,n){for(var r=n.Ei,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Vg(o,e,r[i]))}return e},t.prototype.Ti=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=qg(i,e,e,this.di))}for(var o=e,a=0,s=this.mutations;a<s.length;a++){var u=s[a];u.key.isEqual(t)&&(e=qg(u,e,o,this.di))}return e},t.prototype.Ii=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.Ti(r.key,t.get(r.key));i&&(n=n.ot(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),lv())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&md(this.mutations,t.mutations,(function(t,e){return Hg(t,e)}))&&md(this.baseMutations,t.baseMutations,(function(t,e){return Hg(t,e)}))},t}(),mm=function(){function t(t,e,n,r){this.batch=t,this.mi=e,this.Ei=n,this.Ai=r}return t.from=function(e,n,r){pd(e.mutations.length===r.length);for(var i=uv,o=e.mutations,a=0;a<o.length;a++)i=i.ot(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),bm=function(){function t(){this.Ri=new Nd((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.Pi=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.gi},set:function(t){this.gi=t},enumerable:!1,configurable:!0}),t.prototype.yi=function(t,e){this.Vi(),this.readTime=e,this.Ri.set(t.key,t)},t.prototype.pi=function(t,e){this.Vi(),e&&(this.readTime=e),this.Ri.set(t,null)},t.prototype.bi=function(t,e){this.Vi();var n=this.Ri.get(e);return void 0!==n?By.resolve(n):this.vi(t,e)},t.prototype.getEntries=function(t,e){return this.Si(t,e)},t.prototype.apply=function(t){return this.Vi(),this.Pi=!0,this.Di(t)},t.prototype.Vi=function(){},t}(),_m="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",wm=function(){function t(){this.Ci=[]}return t.prototype.Ni=function(t){this.Ci.push(t)},t.prototype.xi=function(){this.Ci.forEach((function(t){return t()}))},t}(),Em=function(){function t(t,e,n){this.Fi=t,this.Oi=e,this.ki=n}return t.prototype.Mi=function(t,e){var n=this;return this.Oi.$i(t,e).next((function(r){return n.Li(t,e,r)}))},t.prototype.Li=function(t,e,n){return this.Fi.bi(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Ti(e,t);return t}))},t.prototype.Bi=function(t,e,n){var r=ov();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Ti(t,e);r=r.ot(t,e)})),r},t.prototype.qi=function(t,e){var n=this;return this.Fi.getEntries(t,e).next((function(e){return n.Ui(t,e)}))},t.prototype.Ui=function(t,e){var n=this;return this.Oi.Ki(t,e).next((function(r){var i=n.Bi(t,e,r),o=iv();return i.forEach((function(t,e){e||(e=new iy(t,xd.min())),o=o.ot(t,e)})),o}))},t.prototype.Qi=function(t,e,n){return function(t){return Fd.X(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Wi(t,e.path):py(e)?this.ji(t,e,n):this.Gi(t,e,n)},t.prototype.Wi=function(t,e){return this.Mi(t,new Fd(e)).next((function(t){var e=sv();return t instanceof ry&&(e=e.ot(t.key,t)),e}))},t.prototype.ji=function(t,e,n){var r=this,i=e.collectionGroup,o=sv();return this.ki.zi(t,i).next((function(a){return By.forEach(a,(function(a){var s=function(t,e){return new ay(e,null,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,t.endAt)}(e,a.child(i));return r.Gi(t,s,n).next((function(t){t.forEach((function(t,e){o=o.ot(t,e)}))}))})).next((function(){return o}))}))},t.prototype.Gi=function(t,e,n){var r,i,o=this;return this.Fi.Qi(t,e,n).next((function(n){return r=n,o.Oi.Hi(t,e)})).next((function(e){return o.Yi(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c),h=qg(u,l,l,o.di);r=h instanceof ry?r.ot(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){Ey(e,n)||(r=r.remove(t))})),r}))},t.prototype.Yi=function(t,e,n){for(var r=lv(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Kg&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Fi.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof ry&&(c=c.ot(t,e))})),c}))},t}(),km=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Ji=n,this.Xi=r}return t.Zi=function(e,n){for(var r=lv(),i=lv(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Im=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.tr=function(t){return n.er(t)},this.nr=function(t){return e.sr(t)})}return t.prototype.er=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.nr&&this.nr(t),t},t}();function Cm(t,e){var n=t[1],r=e[1],i=yd(t[0],e[0]);return 0===i?yd(n,r):i}Im.ir=-1;var Tm=function(){function t(t){this.rr=t,this.buffer=new ev(Cm),this.ar=0}return t.prototype.cr=function(){return++this.ar},t.prototype.ur=function(t){var e=[t,this.cr()];if(this.buffer.size<this.rr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Cm(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Sm={hr:!1,lr:0,_r:0,dr:0},Om=function(){function t(t,e,n){this.wr=t,this.Er=e,this.Tr=n}return t.Ir=function(e){return new t(e,t.mr,t.Ar)},t}();Om.mr=10,Om.Ar=1e3,Om.Rr=new Om(41943040,Om.mr,Om.Ar),Om.Pr=new Om(-1,0,0);var Am=function(){function t(t,e){this.gr=t,this.cs=e,this.yr=!1,this.Vr=null}return t.prototype.start=function(t){-1!==this.gr.params.wr&&this.pr(t)},t.prototype.stop=function(){this.Vr&&(this.Vr.cancel(),this.Vr=null)},Object.defineProperty(t.prototype,"br",{get:function(){return null!==this.Vr},enumerable:!1,configurable:!0}),t.prototype.pr=function(t){var e=this,n=this.yr?3e5:6e4;ud("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Vr=this.cs.yn("lru_garbage_collection",n,(function(){return Object(nl.b)(e,void 0,void 0,(function(){var e;return Object(nl.d)(this,(function(n){switch(n.label){case 0:this.Vr=null,this.yr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.vr(this.gr)];case 2:return n.sent(),[3,7];case 3:return Ky(e=n.sent())?(ud("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Yb(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.pr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Nm=function(){function t(t,e){this.Sr=t,this.params=e}return t.prototype.Dr=function(t,e){return this.Sr.Cr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Nr=function(t,e){var n=this;if(0===e)return By.resolve(Im.ir);var r=new Tm(e);return this.Sr.Ce(t,(function(t){return r.ur(t.sequenceNumber)})).next((function(){return n.Sr.Fr(t,(function(t){return r.ur(t)}))})).next((function(){return r.maxValue}))},t.prototype.Or=function(t,e,n){return this.Sr.Or(t,e,n)},t.prototype.kr=function(t,e){return this.Sr.kr(t,e)},t.prototype.Mr=function(t,e){var n=this;return-1===this.params.wr?(ud("LruGarbageCollector","Garbage collection skipped; disabled"),By.resolve(Sm)):this.$r(t).next((function(r){return r<n.params.wr?(ud("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.wr),Sm):n.Lr(t,e)}))},t.prototype.$r=function(t){return this.Sr.$r(t)},t.prototype.Lr=function(t,e){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.Dr(t,this.params.Er).next((function(e){return e>c.params.Tr?(ud("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Tr+" from "+e),r=c.params.Tr):r=e,o=Date.now(),c.Nr(t,r)})).next((function(r){return n=r,a=Date.now(),c.Or(t,n,e)})).next((function(e){return i=e,s=Date.now(),c.kr(t,n)})).next((function(t){return u=Date.now(),sd()<=rl.a.DEBUG&&ud("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),By.resolve({hr:!0,lr:r,_r:i,dr:t})}))},t}();function Pm(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Rm(e)),e=xm(t.get(n),e);return Rm(e)}function xm(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Rm(t){return t+"\x01\x01"}function jm(t){var e=t.length;if(pd(e>=2),2===e)return pd("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),jd.U();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&fd(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:fd()}o=a+2}return new jd(r)}var Dm=function(t){this.Br=t};function Lm(t,e){if(e.document)return function(t,e,n){var r=ng(t,e.name),i=$v(e.updateTime),o=new Zg({mapValue:{fields:e.fields}});return new ry(r,i,o,{hasCommittedMutations:!!n})}(t.Br,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Fd.Z(e.noDocument.path),r=qm(e.noDocument.readTime);return new iy(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Fd.Z(e.unknownDocument.path),o=qm(e.unknownDocument.version);return new oy(i,o)}return fd()}function Fm(t,e,n){var r=Mm(n),i=e.key.path.F().L();if(e instanceof ry){var o=function(t,e){return{name:eg(t,e.key),fields:e.rn().mapValue.fields,updateTime:Yv(t,e.version.v())}}(t.Br,e);return new pb(null,null,o,e.hasCommittedMutations,r,i)}if(e instanceof iy){var a=e.key.path.L(),s=Vm(e.version),u=e.hasCommittedMutations;return new pb(null,new hb(a,s),null,u,r,i)}if(e instanceof oy){var c=e.key.path.L(),l=Vm(e.version);return new pb(new fb(c,l),null,null,!0,r,i)}return fd()}function Mm(t){var e=t.v();return[e.seconds,e.nanoseconds]}function Um(t){var e=new Pd(t[0],t[1]);return xd.V(e)}function Vm(t){var e=t.v();return new ab(e.seconds,e.nanoseconds)}function qm(t){var e=new Pd(t.seconds,t.nanoseconds);return xd.V(e)}function Bm(t,e){var n=(e.baseMutations||[]).map((function(e){return cg(t.Br,e)})),r=e.mutations.map((function(e){return cg(t.Br,e)})),i=Pd.fromMillis(e.localWriteTimeMs);return new ym(e.batchId,i,n,r)}function Hm(t){var e,n,r=qm(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?qm(t.lastLimboFreeSnapshotVersion):xd.min();return void 0!==t.query.documents?(pd(1===(n=t.query).documents.length),e=vy(uy(ig(n.documents[0])))):e=function(t){var e=ig(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){pd(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=function t(e){return e?void 0!==e.unaryFilter?[bg(e)]:void 0!==e.fieldFilter?[mg(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):fd():[]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new Fy(yg(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return Md(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=pg(n.startAt));var l=null;return n.endAt&&(l=pg(n.endAt)),vy(sy(e,i,s,a,u,"F",c,l))}(t.query),new Qd(e,t.targetId,0,t.lastListenSequenceNumber,r,i,_d.fromBase64String(t.resumeToken))}function zm(t,e){var n,r=Vm(e.nt),i=Vm(e.lastLimboFreeSnapshotVersion);n=Wd(e.target)?lg(t.Br,e.target):hg(t.Br,e.target);var o=e.resumeToken.toBase64();return new vb(e.targetId,Hd(e.target),r,o,e.sequenceNumber,i,n)}var Wm=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.ki=n,this.qr=r,this.Ur={}}return t.Kr=function(e,n,r,i){return pd(""!==e.uid),new t(e.Zs()?e.uid:"",n,r,i)},t.prototype.Qr=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Qm(t).rs({index:cb.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Wr=function(t,e,n,r){var i=this,o=Ym(t),a=Qm(t);return a.add({}).next((function(s){pd("number"==typeof s);for(var u=new ym(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return ug(t.Br,e)})),i=n.mutations.map((function(e){return ug(t.Br,e)}));return new cb(e,n.batchId,n.di.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new ev((function(t,e){return yd(t.B(),e.B())})),f=0,p=r;f<p.length;f++){var d=p[f],v=lb.key(i.userId,d.key.path,s);h=h.add(d.key.path.F()),l.push(a.put(c)),l.push(o.put(v,lb.PLACEHOLDER))}return h.forEach((function(e){l.push(i.ki.jr(t,e))})),t.Ni((function(){i.Ur[s]=u.keys()})),By.On(l).next((function(){return u}))}))},t.prototype.Gr=function(t,e){var n=this;return Qm(t).get(e).next((function(t){return t?(pd(t.userId===n.userId),Bm(n.serializer,t)):null}))},t.prototype.zr=function(t,e){var n=this;return this.Ur[e]?By.resolve(this.Ur[e]):this.Gr(t,e).next((function(t){if(t){var r=t.keys();return n.Ur[e]=r,r}return null}))},t.prototype.Hr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Qm(t).rs({index:cb.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(pd(e.batchId>=r),o=Bm(n.serializer,e)),i.done()})).next((function(){return o}))},t.prototype.Yr=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Qm(t).rs({index:cb.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.Jr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Qm(t).ts(cb.userMutationsIndex,n).next((function(t){return t.map((function(t){return Bm(e.serializer,t)}))}))},t.prototype.$i=function(t,e){var n=this,r=lb.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Ym(t).rs({range:i},(function(r,i,a){var s=r[0],u=r[2],c=jm(r[1]);if(s===n.userId&&e.path.isEqual(c))return Qm(t).get(u).next((function(t){if(!t)throw fd();pd(t.userId===n.userId),o.push(Bm(n.serializer,t))}));a.done()})).next((function(){return o}))},t.prototype.Ki=function(t,e){var n=this,r=new ev(yd),i=[];return e.forEach((function(e){var o=lb.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=Ym(t).rs({range:a},(function(t,i,o){var a=t[0],s=t[2],u=jm(t[1]);a===n.userId&&e.path.isEqual(u)?r=r.add(s):o.done()}));i.push(s)})),By.On(i).next((function(){return n.Xr(t,r)}))},t.prototype.Hi=function(t,e){var n=this,r=e.path,i=r.length+1,o=lb.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new ev(yd);return Ym(t).rs({range:a},(function(t,e,o){var a=t[0],u=t[2],c=jm(t[1]);a===n.userId&&r.M(c)?c.length===i&&(s=s.add(u)):o.done()})).next((function(){return n.Xr(t,s)}))},t.prototype.Xr=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Qm(t).get(e).next((function(t){if(null===t)throw fd();pd(t.userId===n.userId),r.push(Bm(n.serializer,t))})))})),By.On(i).next((function(){return r}))},t.prototype.Zr=function(t,e){var n=this;return Gm(t.eo,this.userId,e).next((function(r){return t.Ni((function(){n.no(e.batchId)})),By.forEach(r,(function(e){return n.qr.so(t,e)}))}))},t.prototype.no=function(t){delete this.Ur[t]},t.prototype.io=function(t){var e=this;return this.Qr(t).next((function(n){if(!n)return By.resolve();var r=IDBKeyRange.lowerBound(lb.prefixForUser(e.userId)),i=[];return Ym(t).rs({range:r},(function(t,n,r){if(t[0]===e.userId){var o=jm(t[1]);i.push(o)}else r.done()})).next((function(){pd(0===i.length)}))}))},t.prototype.ro=function(t,e){return Km(t,this.userId,e)},t.prototype.oo=function(t){var e=this;return Xm(t).get(this.userId).next((function(t){return t||new ub(e.userId,-1,"")}))},t}();function Km(t,e,n){var r=lb.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Ym(t).rs({range:o,ss:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(a=!0),r.done()})).next((function(){return a}))}function Gm(t,e,n){var r=t.store(cb.store),i=t.store(lb.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.rs({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){pd(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],p=lb.key(e,f.key.path,n.batchId);o.push(i.delete(p)),c.push(f.key)}return By.On(o).next((function(){return c}))}function Qm(t){return Pb.Kn(t,cb.store)}function Ym(t){return Pb.Kn(t,lb.store)}function Xm(t){return Pb.Kn(t,ub.store)}var Jm=function(){function t(t,e){this.serializer=t,this.ki=e}return t.prototype.yi=function(t,e,n){return tb(t).put(eb(e),n)},t.prototype.pi=function(t,e){var n=tb(t),r=eb(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.ao(t,r)}))},t.prototype.bi=function(t,e){var n=this;return tb(t).get(eb(e)).next((function(t){return n.co(t)}))},t.prototype.uo=function(t,e){var n=this;return tb(t).get(eb(e)).next((function(t){var e=n.co(t);return e?{ho:e,size:nb(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=ov();return this.lo(t,e,(function(t,e){var i=n.co(e);r=r.ot(t,i)})).next((function(){return r}))},t.prototype._o=function(t,e){var n=this,r=ov(),i=new $d(Fd.D);return this.lo(t,e,(function(t,e){var o=n.co(e);o?(r=r.ot(t,o),i=i.ot(t,nb(e))):(r=r.ot(t,null),i=i.ot(t,0))})).next((function(){return{fo:r,do:i}}))},t.prototype.lo=function(t,e,n){if(e.P())return By.resolve();var r=IDBKeyRange.bound(e.first().path.L(),e.last().path.L()),i=e._t(),o=i.It();return tb(t).rs({range:r},(function(t,e,r){for(var a=Fd.Z(t);o&&Fd.D(o,a)<0;)n(o,null),o=i.It();o&&o.isEqual(a)&&(n(o,e),o=i.At()?i.It():null),o?r.Xn(o.path.L()):r.done()})).next((function(){for(;o;)n(o,null),o=i.At()?i.It():null}))},t.prototype.Qi=function(t,e,n){var r=this,i=sv(),o=e.path.length+1,a={};if(n.isEqual(xd.min())){var s=e.path.L();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.L(),c=Mm(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=pb.collectionReadTimeIndex}return tb(t).rs(a,(function(t,n,a){if(t.length===o){var s=Lm(r.serializer,n);e.path.M(s.key.path)?s instanceof ry&&Ey(e,s)&&(i=i.ot(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.wo=function(t){return new $m(this,!!t&&t.Eo)},t.prototype.To=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Zm(t).get(db.key).next((function(t){return pd(!!t),t}))},t.prototype.ao=function(t,e){return Zm(t).put(db.key,e)},t.prototype.co=function(t){if(t){var e=Lm(this.serializer,t);return e instanceof iy&&e.version.isEqual(xd.min())?null:e}return null},t}(),$m=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Io=e,r.Eo=n,r.mo=new Nd((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(nl.c)(e,t),e.prototype.Di=function(t){var e=this,n=[],r=0,i=new ev((function(t,e){return yd(t.B(),e.B())}));return this.Ri.forEach((function(o,a){var s=e.mo.get(o);if(a){var u=Fm(e.Io.serializer,a,e.readTime);i=i.add(o.path.F());var c=nb(u);r+=c-s,n.push(e.Io.yi(t,o,u))}else if(r-=s,e.Eo){var l=Fm(e.Io.serializer,new iy(o,xd.min()),e.readTime);n.push(e.Io.yi(t,o,l))}else n.push(e.Io.pi(t,o))})),i.forEach((function(r){n.push(e.Io.ki.jr(t,r))})),n.push(this.Io.updateMetadata(t,r)),By.On(n)},e.prototype.vi=function(t,e){var n=this;return this.Io.uo(t,e).next((function(t){return null===t?(n.mo.set(e,0),null):(n.mo.set(e,t.size),t.ho)}))},e.prototype.Si=function(t,e){var n=this;return this.Io._o(t,e).next((function(t){var e=t.fo;return t.do.forEach((function(t,e){n.mo.set(t,e)})),e}))},e}(bm);function Zm(t){return Pb.Kn(t,db.store)}function tb(t){return Pb.Kn(t,pb.store)}function eb(t){return t.path.L()}function nb(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw fd();e=t.noDocument}return JSON.stringify(e).length}var rb=function(){function t(){this.Ao=new ib}return t.prototype.jr=function(t,e){return this.Ao.add(e),By.resolve()},t.prototype.zi=function(t,e){return By.resolve(this.Ao.getEntries(e))},t}(),ib=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.k(),n=t.F(),r=this.index[e]||new ev(jd.D),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.k(),n=t.F(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new ev(jd.D)).L()},t}(),ob=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;pd(n<r&&n>=0&&r<=10);var o=new Gy("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(sb.store)}(t),function(t){t.createObjectStore(ub.store,{keyPath:ub.keyPath}),t.createObjectStore(cb.store,{keyPath:cb.keyPath,autoIncrement:!0}).createIndex(cb.userMutationsIndex,cb.userMutationsKeyPath,{unique:!0}),t.createObjectStore(lb.store)}(t),bb(t),function(t){t.createObjectStore(pb.store)}(t));var a=By.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(gb.store),t.deleteObjectStore(vb.store),t.deleteObjectStore(yb.store)}(t),bb(t)),a=a.next((function(){return function(t){var e=t.store(yb.store),n=new yb(0,0,xd.min().v(),0);return e.put(yb.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(cb.store).ts().next((function(n){t.deleteObjectStore(cb.store),t.createObjectStore(cb.store,{keyPath:cb.keyPath,autoIncrement:!0}).createIndex(cb.userMutationsIndex,cb.userMutationsKeyPath,{unique:!0});var r=e.store(cb.store),i=n.map((function(t){return r.put(t)}));return By.On(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(_b.store,{keyPath:_b.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(db.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(pb.store);e.createIndex(pb.readTimeIndex,pb.readTimeIndexPath,{unique:!1}),e.createIndex(pb.collectionReadTimeIndex,pb.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.rewriteCanonicalIds(o)}))),a},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(pb.store).rs((function(t,n){e+=nb(n)})).next((function(){var n=new db(e);return t.store(db.store).put(db.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(ub.store),r=t.store(cb.store);return n.ts().next((function(n){return By.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ts(cb.userMutationsIndex,i).next((function(r){return By.forEach(r,(function(r){pd(r.userId===n.userId);var i=Bm(e.serializer,r);return Gm(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(gb.store),n=t.store(pb.store);return t.store(yb.store).get(yb.key).next((function(t){var r=[];return n.rs((function(n,i){var o=new jd(n),a=function(t){return[0,Pm(t)]}(o);r.push(e.get(a).next((function(n){return n?By.resolve():function(n){return e.put(new gb(0,Pm(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return By.On(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(mb.store,{keyPath:mb.keyPath});var n=e.store(mb.store),r=new ib,i=function(t){if(r.add(t)){var e=t.k(),i=t.F();return n.put({collectionId:e,parent:Pm(i)})}};return e.store(pb.store).rs({ss:!0},(function(t,e){var n=new jd(t);return i(n.F())})).next((function(){return e.store(lb.store).rs({ss:!0},(function(t,e){var n=jm(t[1]);return i(n.F())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(vb.store);return n.rs((function(t,r){var i=Hm(r),o=zm(e.serializer,i);return n.put(o)}))},t}(),ab=function(t,e){this.seconds=t,this.nanoseconds=e},sb=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};sb.store="owner",sb.key="owner";var ub=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};ub.store="mutationQueues",ub.keyPath="userId";var cb=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};cb.store="mutations",cb.keyPath="batchId",cb.userMutationsIndex="userMutationsIndex",cb.userMutationsKeyPath=["userId","batchId"];var lb=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Pm(e)]},t.key=function(t,e,n){return[t,Pm(e),n]},t}();lb.store="documentMutations",lb.PLACEHOLDER=new lb;var hb=function(t,e){this.path=t,this.readTime=e},fb=function(t,e){this.path=t,this.version=e},pb=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};pb.store="remoteDocuments",pb.readTimeIndex="readTimeIndex",pb.readTimeIndexPath="readTime",pb.collectionReadTimeIndex="collectionReadTimeIndex",pb.collectionReadTimeIndexPath=["parentPath","readTime"];var db=function(t){this.byteSize=t};db.store="remoteDocumentGlobal",db.key="remoteDocumentGlobalKey";var vb=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};vb.store="targets",vb.keyPath="targetId",vb.queryTargetsIndexName="queryTargetsIndex",vb.queryTargetsKeyPath=["canonicalId","targetId"];var gb=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};gb.store="targetDocuments",gb.keyPath=["targetId","path"],gb.documentTargetsIndex="documentTargetsIndex",gb.documentTargetsKeyPath=["path","targetId"];var yb=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};yb.key="targetGlobalKey",yb.store="targetGlobal";var mb=function(t,e){this.collectionId=t,this.parent=e};function bb(t){t.createObjectStore(gb.store,{keyPath:gb.keyPath}).createIndex(gb.documentTargetsIndex,gb.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(vb.store,{keyPath:vb.keyPath}).createIndex(vb.queryTargetsIndexName,vb.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(yb.store)}mb.store="collectionParents",mb.keyPath=["collectionId","parent"];var _b=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};_b.store="clientMetadata",_b.keyPath="clientId";var wb=Object(nl.g)(Object(nl.g)(Object(nl.g)([ub.store,cb.store,lb.store,pb.store,vb.store,sb.store,yb.store,gb.store],[_b.store]),[db.store]),[mb.store]),Eb=function(){function t(){this.Ro=new ib}return t.prototype.jr=function(t,e){var n=this;if(!this.Ro.has(e)){var r=e.k(),i=e.F();t.Ni((function(){n.Ro.add(e)}));var o={collectionId:r,parent:Pm(i)};return kb(t).put(o)}return By.resolve()},t.prototype.zi=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[bd(e),""],!1,!0);return kb(t).ts(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(jm(o.parent))}return n}))},t}();function kb(t){return Pb.Kn(t,mb.store)}var Ib=function(){function t(t){this.Po=t}return t.prototype.next=function(){return this.Po+=2,this.Po},t.yo=function(){return new t(0)},t.Vo=function(){return new t(-1)},t}(),Cb=function(){function t(t,e){this.qr=t,this.serializer=e}return t.prototype.po=function(t){var e=this;return this.bo(t).next((function(n){var r=new Ib(n.highestTargetId);return n.highestTargetId=r.next(),e.vo(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.So=function(t){return this.bo(t).next((function(t){return xd.V(new Pd(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Do=function(t){return this.bo(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Co=function(t,e,n){var r=this;return this.bo(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.v()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.vo(t,i)}))},t.prototype.No=function(t,e){var n=this;return this.xo(t,e).next((function(){return n.bo(t).next((function(r){return r.targetCount+=1,n.Fo(e,r),n.vo(t,r)}))}))},t.prototype.Oo=function(t,e){return this.xo(t,e)},t.prototype.ko=function(t,e){var n=this;return this.Mo(t,e.targetId).next((function(){return Tb(t).delete(e.targetId)})).next((function(){return n.bo(t)})).next((function(e){return pd(e.targetCount>0),e.targetCount-=1,n.vo(t,e)}))},t.prototype.Or=function(t,e,n){var r=this,i=0,o=[];return Tb(t).rs((function(a,s){var u=Hm(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.ko(t,u)))})).next((function(){return By.On(o)})).next((function(){return i}))},t.prototype.Ce=function(t,e){return Tb(t).rs((function(t,n){var r=Hm(n);e(r)}))},t.prototype.bo=function(t){return Sb(t).get(yb.key).next((function(t){return pd(null!==t),t}))},t.prototype.vo=function(t,e){return Sb(t).put(yb.key,e)},t.prototype.xo=function(t,e){return Tb(t).put(zm(this.serializer,e))},t.prototype.Fo=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.$o=function(t){return this.bo(t).next((function(t){return t.targetCount}))},t.prototype.Lo=function(t,e){var n=Hd(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Tb(t).rs({range:r,index:vb.queryTargetsIndexName},(function(t,n,r){var o=Hm(n);zd(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.Bo=function(t,e,n){var r=this,i=[],o=Ob(t);return e.forEach((function(e){var a=Pm(e.path);i.push(o.put(new gb(n,a))),i.push(r.qr.qo(t,n,e))})),By.On(i)},t.prototype.Uo=function(t,e,n){var r=this,i=Ob(t);return By.forEach(e,(function(e){var o=Pm(e.path);return By.On([i.delete([n,o]),r.qr.Ko(t,n,e)])}))},t.prototype.Mo=function(t,e){var n=Ob(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.Qo=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Ob(t),i=lv();return r.rs({range:n,ss:!0},(function(t,e,n){var r=jm(t[1]),o=new Fd(r);i=i.add(o)})).next((function(){return i}))},t.prototype.ro=function(t,e){var n=Pm(e.path),r=IDBKeyRange.bound([n],[bd(n)],!1,!0),i=0;return Ob(t).rs({index:gb.documentTargetsIndex,ss:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Ue=function(t,e){return Tb(t).get(e).next((function(t){return t?Hm(t):null}))},t}();function Tb(t){return Pb.Kn(t,vb.store)}function Sb(t){return Pb.Kn(t,yb.store)}function Ob(t){return Pb.Kn(t,gb.store)}var Ab="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Nb=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).eo=e,r.Wo=n,r}return Object(nl.c)(e,t),e}(wm),Pb=function(){function t(e,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.fn=o,this.window=a,this.document=s,this.jo=c,this.Go=l,this.zo=null,this.Ho=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Yo=null,this.inForeground=!1,this.Jo=null,this.Xo=null,this.Zo=Number.NEGATIVE_INFINITY,this.ta=function(t){return Promise.resolve()},!t.Ln())throw new od(id.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.qr=new jb(this,i),this.ea=n+"main",this.serializer=new Dm(u),this.na=new Hy(this.ea,10,new ob(this.serializer)),this.sa=new Cb(this.qr,this.serializer),this.ki=new Eb,this.Fi=function(t,e){return new Jm(t,e)}(this.serializer,this.ki),this.window&&this.window.localStorage?this.ia=this.window.localStorage:(this.ia=null,!1===l&&cd("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Kn=function(t,e){if(t instanceof Nb)return Hy.Kn(t.eo,e);throw fd()},t.prototype.start=function(){var t=this;return this.ra().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new od(id.FAILED_PRECONDITION,Ab);return t.oa(),t.aa(),t.ca(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.sa.Do(e)}))})).then((function(e){t.zo=new Im(e,t.jo)})).then((function(){t.Ho=!0})).catch((function(e){return t.na&&t.na.close(),Promise.reject(e)}))},t.prototype.ua=function(t){var e=this;return this.ta=function(n){return Object(nl.b)(e,void 0,void 0,(function(){return Object(nl.d)(this,(function(e){return this.br?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.ha=function(t){var e=this;this.na.jn((function(n){return Object(nl.b)(e,void 0,void 0,(function(){return Object(nl.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.la=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.fn.ws((function(){return Object(nl.b)(e,void 0,void 0,(function(){return Object(nl.d)(this,(function(t){switch(t.label){case 0:return this.br?[4,this.ra()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.ra=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Rb(e).put(new _b(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t._a(e).next((function(e){e||(t.isPrimary=!1,t.fn.Cs((function(){return t.ta(!1)})))}))})).next((function(){return t.fa(e)})).next((function(n){return t.isPrimary&&!n?t.da(e).next((function(){return!1})):!!n&&t.wa(e).next((function(){return!0}))}))})).catch((function(e){if(Ky(e))return ud("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return ud("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.fn.Cs((function(){return t.ta(e)})),t.isPrimary=e}))},t.prototype._a=function(t){var e=this;return xb(t).get(sb.key).next((function(t){return By.resolve(e.Ea(t))}))},t.prototype.Ta=function(t){return Rb(t).delete(this.clientId)},t.prototype.Ia=function(){return Object(nl.b)(this,void 0,void 0,(function(){var e,n,r,i=this;return Object(nl.d)(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.ma(this.Zo,18e5)?[3,2]:(this.Zo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Kn(e,_b.store);return n.ts().next((function(t){var e=i.Aa(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return By.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.ia)for(n=0,r=e;n<r.length;n++)this.ia.removeItem(this.Ra(r[n].clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.ca=function(){var t=this;this.Xo=this.fn.yn("client_metadata_refresh",4e3,(function(){return t.ra().then((function(){return t.Ia()})).then((function(){return t.ca()}))}))},t.prototype.Ea=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.fa=function(t){var e=this;return this.Go?By.resolve(!0):xb(t).get(sb.key).next((function(n){if(null!==n&&e.ma(n.leaseTimestampMs,5e3)&&!e.Pa(n.ownerId)){if(e.Ea(n)&&e.networkEnabled)return!0;if(!e.Ea(n)){if(!n.allowTabSynchronization)throw new od(id.FAILED_PRECONDITION,Ab);return!1}}return!(!e.networkEnabled||!e.inForeground)||Rb(t).ts().next((function(t){return void 0===e.Aa(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&ud("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.ga=function(){return Object(nl.b)(this,void 0,void 0,(function(){var t=this;return Object(nl.d)(this,(function(e){switch(e.label){case 0:return this.Ho=!1,this.ya(),this.Xo&&(this.Xo.cancel(),this.Xo=null),this.Va(),this.pa(),[4,this.na.runTransaction("shutdown","readwrite",[sb.store,_b.store],(function(e){var n=new Nb(e,Im.ir);return t.da(n).next((function(){return t.Ta(n)}))}))];case 1:return e.sent(),this.na.close(),this.ba(),[2]}}))}))},t.prototype.Aa=function(t,e){var n=this;return t.filter((function(t){return n.ma(t.updateTimeMs,e)&&!n.Pa(t.clientId)}))},t.prototype.va=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Rb(e).ts().next((function(e){return t.Aa(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"br",{get:function(){return this.Ho},enumerable:!1,configurable:!0}),t.prototype.Sa=function(t){return Wm.Kr(t,this.serializer,this.ki,this.qr)},t.prototype.Da=function(){return this.sa},t.prototype.Ca=function(){return this.Fi},t.prototype.Na=function(){return this.ki},t.prototype.runTransaction=function(t,e,n){var r,i=this;return ud("IndexedDbPersistence","Starting transaction:",t),this.na.runTransaction(t,"readonly"===e?"readonly":"readwrite",wb,(function(o){return r=new Nb(o,i.zo?i.zo.next():Im.ir),"readwrite-primary"===e?i._a(r).next((function(t){return!!t||i.fa(r)})).next((function(e){if(!e)throw cd("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.fn.Cs((function(){return i.ta(!1)})),new od(id.FAILED_PRECONDITION,_m);return n(r)})).next((function(t){return i.wa(r).next((function(){return t}))})):i.xa(r).next((function(){return n(r)}))})).then((function(t){return r.xi(),t}))},t.prototype.xa=function(t){var e=this;return xb(t).get(sb.key).next((function(t){if(null!==t&&e.ma(t.leaseTimestampMs,5e3)&&!e.Pa(t.ownerId)&&!e.Ea(t)&&!(e.Go||e.allowTabSynchronization&&t.allowTabSynchronization))throw new od(id.FAILED_PRECONDITION,Ab)}))},t.prototype.wa=function(t){var e=new sb(this.clientId,this.allowTabSynchronization,Date.now());return xb(t).put(sb.key,e)},t.Ln=function(){return Hy.Ln()},t.prototype.da=function(t){var e=this,n=xb(t);return n.get(sb.key).next((function(t){return e.Ea(t)?(ud("IndexedDbPersistence","Releasing primary lease."),n.delete(sb.key)):By.resolve()}))},t.prototype.ma=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(cd("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.oa=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Jo=function(){t.fn.ws((function(){return t.inForeground="visible"===t.document.visibilityState,t.ra()}))},this.document.addEventListener("visibilitychange",this.Jo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Va=function(){this.Jo&&(this.document.removeEventListener("visibilitychange",this.Jo),this.Jo=null)},t.prototype.aa=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Yo=function(){e.ya(),e.fn.ws((function(){return e.ga()}))},this.window.addEventListener("unload",this.Yo))},t.prototype.pa=function(){this.Yo&&(this.window.removeEventListener("unload",this.Yo),this.Yo=null)},t.prototype.Pa=function(t){var e;try{var n=null!==(null===(e=this.ia)||void 0===e?void 0:e.getItem(this.Ra(t)));return ud("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return cd("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.ya=function(){if(this.ia)try{this.ia.setItem(this.Ra(this.clientId),String(Date.now()))}catch(t){cd("Failed to set zombie client id.",t)}},t.prototype.ba=function(){if(this.ia)try{this.ia.removeItem(this.Ra(this.clientId))}catch(t){}},t.prototype.Ra=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function xb(t){return Pb.Kn(t,sb.store)}function Rb(t){return Pb.Kn(t,_b.store)}var jb=function(){function t(t,e){this.db=t,this.gr=new Nm(this,e)}return t.prototype.Cr=function(t){var e=this.Fa(t);return this.db.Da().$o(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Fa=function(t){var e=0;return this.Fr(t,(function(t){e++})).next((function(){return e}))},t.prototype.Ce=function(t,e){return this.db.Da().Ce(t,e)},t.prototype.Fr=function(t,e){return this.Oa(t,(function(t,n){return e(n)}))},t.prototype.qo=function(t,e,n){return Db(t,n)},t.prototype.Ko=function(t,e,n){return Db(t,n)},t.prototype.Or=function(t,e,n){return this.db.Da().Or(t,e,n)},t.prototype.so=function(t,e){return Db(t,e)},t.prototype.ka=function(t,e){return function(t,e){var n=!1;return Xm(t).os((function(r){return Km(t,r,e).next((function(t){return t&&(n=!0),By.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.kr=function(t,e){var n=this,r=this.db.Ca().wo(),i=[],o=0;return this.Oa(t,(function(a,s){if(s<=e){var u=n.ka(t,a).next((function(e){if(!e)return o++,r.bi(t,a).next((function(){return r.pi(a),Ob(t).delete([0,Pm(a.path)])}))}));i.push(u)}})).next((function(){return By.On(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.st(t.Wo);return this.db.Da().Oo(t,n)},t.prototype.Ma=function(t,e){return Db(t,e)},t.prototype.Oa=function(t,e){var n,r=Ob(t),i=Im.ir;return r.rs({index:gb.documentTargetsIndex},(function(t,r){var o=r.path,a=r.sequenceNumber;0===t[0]?(i!==Im.ir&&e(new Fd(jm(n)),i),i=a,n=o):i=Im.ir})).next((function(){i!==Im.ir&&e(new Fd(jm(n)),i)}))},t.prototype.$r=function(t){return this.db.Ca().To(t)},t}();function Db(t,e){return Ob(t).put(function(t,e){return new gb(0,Pm(t.path),e)}(e,t.Wo))}function Lb(t,e){var n=t.projectId;return t.I||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Fb=function(){function t(t,e,n){this.persistence=t,this.$a=e,this.La=new $d(yd),this.Ba=new Nd((function(t){return Hd(t)}),zd),this.qa=xd.min(),this.Oi=t.Sa(n),this.Ua=t.Ca(),this.sa=t.Da(),this.Ka=new Em(this.Ua,this.Oi,this.persistence.Na()),this.$a.Qa(this.Ka)}return t.prototype.vr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Mr(n,e.La)}))},t}();function Mb(t,e){return Object(nl.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(nl.d)(this,(function(a){switch(a.label){case 0:return n=dd(t),r=n.Oi,i=n.Ka,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.Oi.Jr(t).next((function(a){return o=a,r=n.persistence.Sa(e),i=new Em(n.Ua,r,n.persistence.Na()),r.Jr(t)})).next((function(e){for(var n=[],r=[],a=lv(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)a=a.add(h[l].key)}for(var f=0,p=e;f<p.length;f++){var d=p[f];r.push(d.batchId);for(var v=0,g=d.mutations;v<g.length;v++)a=a.add(g[v].key)}return i.qi(t,a).next((function(t){return{Wa:t,ja:n,Ga:r}}))}))}))];case 1:return o=a.sent(),[2,(n.Oi=r,n.Ka=i,n.$a.Qa(n.Ka),o)]}}))}))}function Ub(t,e){var n=dd(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Ua.wo({Eo:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=By.resolve();return o.forEach((function(t){a=a.next((function(){return r.bi(e,t)})).next((function(e){var o=e,a=n.Ai.get(t);pd(null!==a),(!o||o.version.u(a)<0)&&(o=i.wi(t,o,n))&&r.yi(o,n.mi)}))})),a.next((function(){return t.Oi.Zr(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Oi.io(t)})).next((function(){return n.Ka.qi(t,r)}))}))}function Vb(t){var e=dd(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.sa.So(t)}))}function qb(t,e){var n=dd(t),r=e.nt,i=n.La;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Ua.wo({Eo:!0});i=n.La;var a=[];e.zt.forEach((function(e,o){var s=i.get(o);if(s){a.push(n.sa.Uo(t,e.se,o).next((function(){return n.sa.Bo(t,e.ee,o)})));var u=e.resumeToken;if(u.o()>0){var c=s.it(u,r).st(t.Wo);i=i.ot(o,c),function(t,e,n){return pd(e.resumeToken.o()>0),0===t.resumeToken.o()||e.nt.p()-t.nt.p()>=3e8||n.ee.size+n.ne.size+n.se.size>0}(s,c,e)&&a.push(n.sa.Oo(t,c))}}}));var s=iv(),u=lv();if(e.Yt.forEach((function(t,e){u=u.add(t)})),a.push(o.getEntries(t,u).next((function(i){e.Yt.forEach((function(u,c){var l=i.get(u);c instanceof iy&&c.version.isEqual(xd.min())?(o.pi(u,r),s=s.ot(u,c)):null==l||c.version.u(l.version)>0||0===c.version.u(l.version)&&l.hasPendingWrites?(o.yi(c,r),s=s.ot(u,c)):ud("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version),e.Jt.has(u)&&a.push(n.persistence.qr.Ma(t,u))}))}))),!r.isEqual(xd.min())){var c=n.sa.So(t).next((function(e){return n.sa.Co(t,t.Wo,r)}));a.push(c)}return By.On(a).next((function(){return o.apply(t)})).next((function(){return n.Ka.Ui(t,s)}))})).then((function(t){return n.La=i,t}))}function Bb(t,e){var n=dd(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Oi.Hr(t,e)}))}function Hb(t,e){var n=dd(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.sa.Lo(t,e).next((function(i){return i?By.resolve(r=i):n.sa.po(t).next((function(i){return r=new Qd(e,i,0,t.Wo),n.sa.No(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.La.get(t.targetId);return(null===r||t.nt.u(r.nt)>0)&&(n.La=n.La.ot(t.targetId,t),n.Ba.set(e,t.targetId)),t}))}function zb(t,e,n){return Object(nl.b)(this,void 0,void 0,(function(){var r,i,o,a;return Object(nl.d)(this,(function(s){switch(s.label){case 0:r=dd(t),i=r.La.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.qr.removeTarget(t,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!Ky(a=s.sent()))throw a;return ud("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.La=r.La.remove(e),r.Ba.delete(i.target),[2]}}))}))}function Wb(t,e,n){var r=dd(t),i=xd.min(),o=lv();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=dd(t),i=r.Ba.get(n);return void 0!==i?By.resolve(r.La.get(i)):r.sa.Lo(e,n)}(r,t,vy(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.sa.Qo(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.$a.Qi(t,e,n?i:xd.min(),n?o:lv())})).next((function(t){return{documents:t,za:o}}))}))}function Kb(t,e){var n=dd(t),r=dd(n.sa),i=n.La.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Ue(t,e).next((function(t){return t?t.target:null}))}))}function Gb(t){var e=dd(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=dd(t),i=iv(),o=Mm(n),a=tb(e),s=IDBKeyRange.lowerBound(o,!0);return a.rs({index:pb.readTimeIndex,range:s},(function(t,e){var n=Lm(r.serializer,e);i=i.ot(n.key,n),o=e.readTime})).next((function(){return{Ha:i,readTime:Um(o)}}))}(e.Ua,t,e.qa)})).then((function(t){var n=t.Ha;return e.qa=t.readTime,n}))}function Qb(t){return Object(nl.b)(this,void 0,void 0,(function(){var e;return Object(nl.d)(this,(function(n){return[2,(e=dd(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=tb(t),n=xd.min();return e.rs({index:pb.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Um(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.qa=t}))]}))}))}function Yb(t){return Object(nl.b)(this,void 0,void 0,(function(){return Object(nl.d)(this,(function(e){if(t.code!==id.FAILED_PRECONDITION||t.message!==_m)throw t;return ud("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var Xb=function(){function t(t,e,n,r,i,o){this.fn=t,this.Ya=n,this.Ja=r,this.Xa=i,this.listener=o,this.state=0,this.Za=0,this.tc=null,this.stream=null,this.ys=new qy(t,e)}return t.prototype.ec=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.nc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.sc()},t.prototype.stop=function(){return Object(nl.b)(this,void 0,void 0,(function(){return Object(nl.d)(this,(function(t){switch(t.label){case 0:return this.ec()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.ic=function(){this.state=0,this.ys.reset()},t.prototype.rc=function(){var t=this;this.nc()&&null===this.tc&&(this.tc=this.fn.yn(this.Ya,6e4,(function(){return t.oc()})))},t.prototype.ac=function(t){this.cc(),this.stream.send(t)},t.prototype.oc=function(){return Object(nl.b)(this,void 0,void 0,(function(){return Object(nl.d)(this,(function(t){return this.nc()?[2,this.close(0)]:[2]}))}))},t.prototype.cc=function(){this.tc&&(this.tc.cancel(),this.tc=null)},t.prototype.close=function(t,e){return Object(nl.b)(this,void 0,void 0,(function(){return Object(nl.d)(this,(function(n){switch(n.label){case 0:return this.cc(),this.ys.cancel(),this.Za++,3!==t?this.ys.reset():e&&e.code===id.RESOURCE_EXHAUSTED?(cd(e.toString()),cd("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):e&&e.code===id.UNAUTHENTICATED&&this.Xa.ri(),null!==this.stream&&(this.uc(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.hc(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.uc=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.lc(this.Za),n=this.Za;this.Xa.getToken().then((function(e){t.Za===n&&t._c(e)}),(function(n){e((function(){var e=new od(id.UNKNOWN,"Fetching auth token failed: "+n.message);return t.fc(e)}))}))},t.prototype._c=function(t){var e=this,n=this.lc(this.Za);this.stream=this.dc(t),this.stream.wc((function(){n((function(){return e.state=2,e.listener.wc()}))})),this.stream.hc((function(t){n((function(){return e.fc(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.sc=function(){var t=this;this.state=4,this.ys.Pn((function(){return Object(nl.b)(t,void 0,void 0,(function(){return Object(nl.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.fc=function(t){return ud("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.lc=function(t){var e=this;return function(n){e.fn.ws((function(){return e.Za===t?n():(ud("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Jb=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,a}return Object(nl.c)(e,t),e.prototype.dc=function(t){return this.Ja.Ec("Listen",t)},e.prototype.onMessage=function(t){this.ys.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:fd()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Ke?(pd(void 0===e||"string"==typeof e),_d.fromBase64String(e||"")):(pd(void 0===e||e instanceof Uint8Array),_d.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(t){var e=void 0===t.code?id.UNKNOWN:Jd(t.code);return new od(e,t.message||"")}(a);n=new _v(r,i,o,s||null)}else if("documentChange"in e){var u=e.documentChange,c=ng(t,u.document.name),l=$v(u.document.updateTime),h=new Zg({mapValue:{fields:u.document.fields}}),f=new ry(c,l,h,{});n=new mv(u.targetIds||[],u.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){var p=e.documentDelete,d=ng(t,p.document),v=p.readTime?$v(p.readTime):xd.min(),g=new iy(d,v);n=new mv([],p.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){var y=e.documentRemove,m=ng(t,y.document);n=new mv([],y.removedTargetIds||[],m,null)}else{if(!("filter"in e))return fd();var b=e.filter,_=new Yd(b.count||0);n=new bv(b.targetId,_)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return xd.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?xd.min():e.readTime?$v(e.readTime):xd.min()}(t);return this.listener.Tc(e,n)},e.prototype.Ic=function(t){var e={};e.database=og(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=Wd(r)?{documents:lg(t,r)}:{query:hg(t,r)}).targetId=e.targetId,e.resumeToken.o()>0&&(n.resumeToken=Xv(t,e.resumeToken)),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return fd()}}(0,e.et);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.ac(e)},e.prototype.mc=function(t){var e={};e.database=og(this.serializer),e.removeTarget=t,this.ac(e)},e}(Xb),$b=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,a.Ac=!1,a}return Object(nl.c)(e,t),Object.defineProperty(e.prototype,"Rc",{get:function(){return this.Ac},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Ac=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.uc=function(){this.Ac&&this.Pc([])},e.prototype.dc=function(t){return this.Ja.Ec("Write",t)},e.prototype.onMessage=function(t){if(pd(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Ac){this.ys.reset();var e=function(t,e){return t&&t.length>0?(pd(void 0!==e),t.map((function(t){return function(t,e){var n=$v(t.updateTime?t.updateTime:e);n.isEqual(xd.min())&&(n=$v(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Lg(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=$v(t.commitTime);return this.listener.gc(n,e)}return pd(!t.writeResults||0===t.writeResults.length),this.Ac=!0,this.listener.yc()},e.prototype.Vc=function(){var t={};t.database=og(this.serializer),this.ac(t)},e.prototype.Pc=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return ug(e.serializer,t)}))};this.ac(n)},e}(Xb),Zb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ja=n,i.serializer=r,i.bc=!1,i}return Object(nl.c)(e,t),e.prototype.vc=function(){if(this.bc)throw new od(id.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Sc=function(t,e,n){var r=this;return this.vc(),this.credentials.getToken().then((function(i){return r.Ja.Sc(t,e,n,i)})).catch((function(t){throw t.code===id.UNAUTHENTICATED&&r.credentials.ri(),t}))},e.prototype.Dc=function(t,e,n){var r=this;return this.vc(),this.credentials.getToken().then((function(i){return r.Ja.Dc(t,e,n,i)})).catch((function(t){throw t.code===id.UNAUTHENTICATED&&r.credentials.ri(),t}))},e.prototype.terminate=function(){this.bc=!1},e}((function(){})),t_=function(){function t(t,e){this.cs=t,this.Cc=e,this.state="Unknown",this.Nc=0,this.xc=null,this.Fc=!0}return t.prototype.Oc=function(){var t=this;0===this.Nc&&(this.kc("Unknown"),this.xc=this.cs.yn("online_state_timeout",1e4,(function(){return t.xc=null,t.Mc("Backend didn't respond within 10 seconds."),t.kc("Offline"),Promise.resolve()})))},t.prototype.$c=function(t){"Online"===this.state?this.kc("Unknown"):(this.Nc++,this.Nc>=1&&(this.Lc(),this.Mc("Connection failed 1 times. Most recent error: "+t.toString()),this.kc("Offline")))},t.prototype.set=function(t){this.Lc(),this.Nc=0,"Online"===t&&(this.Fc=!1),this.kc(t)},t.prototype.kc=function(t){t!==this.state&&(this.state=t,this.Cc(t))},t.prototype.Mc=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Fc?(cd(e),this.Fc=!1):ud("OnlineStateTracker",e)},t.prototype.Lc=function(){null!==this.xc&&(this.xc.cancel(),this.xc=null)},t}(),e_=function(t,e,n,r,i){var o=this;this.Bc=t,this.qc=e,this.cs=n,this.Uc={},this.Kc=[],this.Qc=new Map,this.Wc=new Set,this.jc=[],this.Gc=i,this.Gc.zc((function(t){n.ws((function(){return Object(nl.b)(o,void 0,void 0,(function(){return Object(nl.d)(this,(function(t){switch(t.label){case 0:return l_(this)?(ud("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(nl.b)(this,void 0,void 0,(function(){var e;return Object(nl.d)(this,(function(n){switch(n.label){case 0:return(e=dd(t)).Wc.add(4),[4,r_(e)];case 1:return n.sent(),e.Hc.set("Unknown"),e.Wc.delete(4),[4,n_(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Hc=new t_(n,r)};function n_(t){return Object(nl.b)(this,void 0,void 0,(function(){var e,n;return Object(nl.d)(this,(function(r){switch(r.label){case 0:if(!l_(t))return[3,4];e=0,n=t.jc,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function r_(t){return Object(nl.b)(this,void 0,void 0,(function(){var e,n;return Object(nl.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.jc,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function i_(t,e){var n=dd(t);n.Qc.has(e.targetId)||(n.Qc.set(e.targetId,e),c_(n)?u_(n):C_(n).nc()&&a_(n,e))}function o_(t,e){var n=dd(t),r=C_(n);n.Qc.delete(e),r.nc()&&s_(n,e),0===n.Qc.size&&(r.nc()?r.rc():l_(n)&&n.Hc.set("Unknown"))}function a_(t,e){t.Yc.me(e.targetId),C_(t).Ic(e)}function s_(t,e){t.Yc.me(e),C_(t).mc(e)}function u_(t){t.Yc=new Ev({qe:function(e){return t.Uc.qe(e)},Ue:function(e){return t.Qc.get(e)||null}}),C_(t).start(),t.Hc.Oc()}function c_(t){return l_(t)&&!C_(t).ec()&&t.Qc.size>0}function l_(t){return 0===dd(t).Wc.size}function h_(t){t.Yc=void 0}function f_(t){return Object(nl.b)(this,void 0,void 0,(function(){return Object(nl.d)(this,(function(e){return t.Qc.forEach((function(e,n){a_(t,e)})),[2]}))}))}function p_(t,e){return Object(nl.b)(this,void 0,void 0,(function(){return Object(nl.d)(this,(function(n){return h_(t),c_(t)?(t.Hc.$c(e),u_(t)):t.Hc.set("Unknown"),[2]}))}))}function d_(t,e,n){return Object(nl.b)(this,void 0,void 0,(function(){var r,i,o;return Object(nl.d)(this,(function(a){switch(a.label){case 0:if(t.Hc.set("Online"),!(e instanceof _v&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return Object(nl.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(nl.d)(this,(function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?t.Qc.has(o=i[r])?[4,t.Uc.Jc(o,n)]:[3,3]:[3,5];case 2:a.sent(),t.Qc.delete(o),t.Yc.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),ud("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,v_(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof mv?t.Yc.be(e):e instanceof bv?t.Yc.Oe(e):t.Yc.De(e),n.isEqual(xd.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Vb(t.Bc)];case 8:return i=a.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Yc.$e(e);return n.zt.forEach((function(n,r){if(n.resumeToken.o()>0){var i=t.Qc.get(r);i&&t.Qc.set(r,i.it(n.resumeToken,e))}})),n.Ht.forEach((function(e){var n=t.Qc.get(e);if(n){t.Qc.set(e,n.it(_d.h,n.nt)),s_(t,e);var r=new Qd(n.target,e,1,n.sequenceNumber);a_(t,r)}})),t.Uc.Xc(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return ud("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,v_(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function v_(t,e,n){return Object(nl.b)(this,void 0,void 0,(function(){var r=this;return Object(nl.d)(this,(function(i){switch(i.label){case 0:if(!Ky(e))throw e;return t.Wc.add(1),[4,r_(t)];case 1:return i.sent(),t.Hc.set("Offline"),n||(n=function(){return Vb(t.Bc)}),t.cs.Cs((function(){return Object(nl.b)(r,void 0,void 0,(function(){return Object(nl.d)(this,(function(e){switch(e.label){case 0:return ud("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Wc.delete(1),[4,n_(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function g_(t,e){return e().catch((function(n){return v_(t,n,e)}))}function y_(t){return Object(nl.b)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(nl.d)(this,(function(a){switch(a.label){case 0:e=dd(t),n=T_(e),r=e.Kc.length>0?e.Kc[e.Kc.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return l_(t)&&t.Kc.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Bb(e.Bc,r)];case 3:return null===(i=a.sent())?(0===e.Kc.length&&n.rc(),[3,7]):(r=i.batchId,function(t,e){t.Kc.push(e);var n=T_(t);n.nc()&&n.Rc&&n.Pc(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,v_(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return m_(e)&&b_(e),[2]}}))}))}function m_(t){return l_(t)&&!T_(t).ec()&&t.Kc.length>0}function b_(t){T_(t).start()}function __(t){return Object(nl.b)(this,void 0,void 0,(function(){return Object(nl.d)(this,(function(e){return T_(t).Vc(),[2]}))}))}function w_(t){return Object(nl.b)(this,void 0,void 0,(function(){var e,n,r;return Object(nl.d)(this,(function(i){for(e=T_(t),n=0,r=t.Kc;n<r.length;n++)e.Pc(r[n].mutations);return[2]}))}))}function E_(t,e,n){return Object(nl.b)(this,void 0,void 0,(function(){var r,i;return Object(nl.d)(this,(function(o){switch(o.label){case 0:return r=t.Kc.shift(),i=mm.from(r,e,n),[4,g_(t,(function(){return t.Uc.Zc(i)}))];case 1:return o.sent(),[4,y_(t)];case 2:return o.sent(),[2]}}))}))}function k_(t,e){return Object(nl.b)(this,void 0,void 0,(function(){return Object(nl.d)(this,(function(n){switch(n.label){case 0:return e&&T_(t).Rc?[4,function(t,e){return Object(nl.b)(this,void 0,void 0,(function(){var n,r;return Object(nl.d)(this,(function(i){switch(i.label){case 0:return Xd(r=e.code)&&r!==id.ABORTED?(n=t.Kc.shift(),T_(t).ic(),[4,g_(t,(function(){return t.Uc.tu(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,y_(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return m_(t)&&b_(t),[2]}}))}))}function I_(t,e){return Object(nl.b)(this,void 0,void 0,(function(){var n;return Object(nl.d)(this,(function(r){switch(r.label){case 0:return n=dd(t),e?(n.Wc.delete(2),[4,n_(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Wc.add(2),[4,r_(n)]);case 3:r.sent(),n.Hc.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function C_(t){var e=this;return t.eu||(t.eu=function(t,e,n){var r=dd(t);return r.vc(),new Jb(e,r.Ja,r.credentials,r.serializer,n)}(t.qc,t.cs,{wc:f_.bind(null,t),hc:p_.bind(null,t),Tc:d_.bind(null,t)}),t.jc.push((function(n){return Object(nl.b)(e,void 0,void 0,(function(){return Object(nl.d)(this,(function(e){switch(e.label){case 0:return n?(t.eu.ic(),c_(t)?u_(t):t.Hc.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.eu.stop()];case 2:e.sent(),h_(t),e.label=3;case 3:return[2]}}))}))}))),t.eu}function T_(t){var e=this;return t.nu||(t.nu=function(t,e,n){var r=dd(t);return r.vc(),new $b(e,r.Ja,r.credentials,r.serializer,n)}(t.qc,t.cs,{wc:__.bind(null,t),hc:k_.bind(null,t),yc:w_.bind(null,t),gc:E_.bind(null,t)}),t.jc.push((function(n){return Object(nl.b)(e,void 0,void 0,(function(){return Object(nl.d)(this,(function(e){switch(e.label){case 0:return n?(t.nu.ic(),[4,y_(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.nu.stop()];case 3:e.sent(),t.Kc.length>0&&(ud("RemoteStore","Stopping write stream with "+t.Kc.length+" pending writes"),t.Kc=[]),e.label=4;case 4:return[2]}}))}))}))),t.nu}var S_=function(){function t(){this.su=new ev(O_.iu),this.ru=new ev(O_.ou)}return t.prototype.P=function(){return this.su.P()},t.prototype.qo=function(t,e){var n=new O_(t,e);this.su=this.su.add(n),this.ru=this.ru.add(n)},t.prototype.au=function(t,e){var n=this;t.forEach((function(t){return n.qo(t,e)}))},t.prototype.Ko=function(t,e){this.cu(new O_(t,e))},t.prototype.uu=function(t,e){var n=this;t.forEach((function(t){return n.Ko(t,e)}))},t.prototype.hu=function(t){var e=this,n=new Fd(new jd([])),r=new O_(n,t),i=new O_(n,t+1),o=[];return this.ru.xt([r,i],(function(t){e.cu(t),o.push(t.key)})),o},t.prototype.lu=function(){var t=this;this.su.forEach((function(e){return t.cu(e)}))},t.prototype.cu=function(t){this.su=this.su.delete(t),this.ru=this.ru.delete(t)},t.prototype._u=function(t){var e=new Fd(new jd([])),n=new O_(e,t),r=new O_(e,t+1),i=lv();return this.ru.xt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.ro=function(t){var e=new O_(t,0),n=this.su.Ot(e);return null!==n&&t.isEqual(n.key)},t}(),O_=function(){function t(t,e){this.key=t,this.fu=e}return t.iu=function(t,e){return Fd.D(t.key,e.key)||yd(t.fu,e.fu)},t.ou=function(t,e){return yd(t.fu,e.fu)||Fd.D(t.key,e.key)},t}();function A_(t,e){return"firestore_clients_"+t+"_"+e}function N_(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Zs()&&(r+="_"+e.uid),r}function P_(t,e){return"firestore_targets_"+t+"_"+e}var x_=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.du=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new od(i.error.code,i.error.message)),o?new t(e,n,i.state,a):(cd("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.wu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),R_=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.du=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new od(r.error.code,r.error.message)),i?new t(e,r.state,o):(cd("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.wu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),j_=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.du=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=fv(),a=0;i&&a<r.activeTargetIds.length;++a)i=Vd(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(cd("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),D_=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.du=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(cd("SharedClientState","Failed to parse online state: "+e),null)},t}(),L_=function(){function t(){this.activeTargetIds=fv()}return t.prototype.Eu=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Tu=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.wu=function(){var t={activeTargetIds:this.activeTargetIds.L(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),F_=function(){function t(t,e,n,r,i){this.window=t,this.fn=e,this.persistenceKey=n,this.Iu=r,this.mu=null,this.Cc=null,this.tr=null,this.Au=this.Ru.bind(this),this.Pu=new $d(yd),this.br=!1,this.gu=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.yu=A_(this.persistenceKey,this.Iu),this.Vu=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Pu=this.Pu.ot(this.Iu,new L_),this.pu=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.bu=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.vu=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Su=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.Au)}return t.Ln=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(nl.b)(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,s,u,c,l=this;return Object(nl.d)(this,(function(h){switch(h.label){case 0:return[4,this.mu.va()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Iu&&(i=this.getItem(A_(this.persistenceKey,r)))&&(o=j_.du(r,i))&&(this.Pu=this.Pu.ot(o.clientId,o));for(this.Du(),(a=this.storage.getItem(this.Su))&&(s=this.Cu(a))&&this.Nu(s),u=0,c=this.gu;u<c.length;u++)this.Ru(c[u]);return this.gu=[],this.window.addEventListener("unload",(function(){return l.ga()})),this.br=!0,[2]}}))}))},t.prototype.sr=function(t){this.setItem(this.Vu,JSON.stringify(t))},t.prototype.xu=function(){return this.Fu(this.Pu)},t.prototype.Ou=function(t){var e=!1;return this.Pu.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.ku=function(t){this.Mu(t,"pending")},t.prototype.$u=function(t,e,n){this.Mu(t,e,n),this.Lu(t)},t.prototype.Bu=function(t){var e="not-current";if(this.Ou(t)){var n=this.storage.getItem(P_(this.persistenceKey,t));if(n){var r=R_.du(t,n);r&&(e=r.state)}}return this.qu.Eu(t),this.Du(),e},t.prototype.Uu=function(t){this.qu.Tu(t),this.Du()},t.prototype.Ku=function(t){return this.qu.activeTargetIds.has(t)},t.prototype.Qu=function(t){this.removeItem(P_(this.persistenceKey,t))},t.prototype.Wu=function(t,e,n){this.ju(t,e,n)},t.prototype.Gu=function(t,e,n){var r=this;e.forEach((function(t){r.Lu(t)})),this.currentUser=t,n.forEach((function(t){r.ku(t)}))},t.prototype.zu=function(t){this.Hu(t)},t.prototype.ga=function(){this.br&&(this.window.removeEventListener("storage",this.Au),this.removeItem(this.yu),this.br=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return ud("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){ud("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){ud("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ru=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(ud("SharedClientState","EVENT",n.key,n.newValue),n.key===this.yu)return void cd("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs((function(){return Object(nl.b)(e,void 0,void 0,(function(){var t,e,r,i,o,a;return Object(nl.d)(this,(function(s){if(this.br){if(null!==n.key)if(this.pu.test(n.key)){if(null==n.newValue)return t=this.Yu(n.key),[2,this.Ju(t,null)];if(e=this.Xu(n.key,n.newValue))return[2,this.Ju(e.clientId,e)]}else if(this.bu.test(n.key)){if(null!==n.newValue&&(r=this.Zu(n.key,n.newValue)))return[2,this.th(r)]}else if(this.vu.test(n.key)){if(null!==n.newValue&&(i=this.eh(n.key,n.newValue)))return[2,this.nh(i)]}else if(n.key===this.Su){if(null!==n.newValue&&(o=this.Cu(n.newValue)))return[2,this.Nu(o)]}else n.key===this.Vu&&(a=function(t){var e=Im.ir;if(null!=t)try{var n=JSON.parse(t);pd("number"==typeof n),e=n}catch(t){cd("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Im.ir&&this.tr(a)}else this.gu.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"qu",{get:function(){return this.Pu.get(this.Iu)},enumerable:!1,configurable:!0}),t.prototype.Du=function(){this.setItem(this.yu,this.qu.wu())},t.prototype.Mu=function(t,e,n){var r=new x_(this.currentUser,t,e,n),i=N_(this.persistenceKey,this.currentUser,t);this.setItem(i,r.wu())},t.prototype.Lu=function(t){var e=N_(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Hu=function(t){this.storage.setItem(this.Su,JSON.stringify({clientId:this.Iu,onlineState:t}))},t.prototype.ju=function(t,e,n){var r=P_(this.persistenceKey,t),i=new R_(t,e,n);this.setItem(r,i.wu())},t.prototype.Yu=function(t){var e=this.pu.exec(t);return e?e[1]:null},t.prototype.Xu=function(t,e){var n=this.Yu(t);return j_.du(n,e)},t.prototype.Zu=function(t,e){var n=this.bu.exec(t),r=Number(n[1]);return x_.du(new hm(void 0!==n[2]?n[2]:null),r,e)},t.prototype.eh=function(t,e){var n=this.vu.exec(t),r=Number(n[1]);return R_.du(r,e)},t.prototype.Cu=function(t){return D_.du(t)},t.prototype.th=function(t){return Object(nl.b)(this,void 0,void 0,(function(){return Object(nl.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.mu.sh(t.batchId,t.state,t.error)]:(ud("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.nh=function(t){return this.mu.ih(t.targetId,t.state,t.error)},t.prototype.Ju=function(t,e){var n=this,r=e?this.Pu.ot(t,e):this.Pu.remove(t),i=this.Fu(this.Pu),o=this.Fu(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.mu.rh(a,s).then((function(){n.Pu=r}))},t.prototype.Nu=function(t){this.Pu.get(t.clientId)&&this.Cc(t.onlineState)},t.prototype.Fu=function(t){var e=fv();return t.forEach((function(t,n){e=e.kt(n.activeTargetIds)})),e},t}(),M_=function(){function t(){this.oh=new L_,this.ah={},this.Cc=null,this.tr=null}return t.prototype.ku=function(t){},t.prototype.$u=function(t,e,n){},t.prototype.Bu=function(t){return this.oh.Eu(t),this.ah[t]||"not-current"},t.prototype.Wu=function(t,e,n){this.ah[t]=e},t.prototype.Uu=function(t){this.oh.Tu(t)},t.prototype.Ku=function(t){return this.oh.activeTargetIds.has(t)},t.prototype.Qu=function(t){delete this.ah[t]},t.prototype.xu=function(){return this.oh.activeTargetIds},t.prototype.Ou=function(t){return this.oh.activeTargetIds.has(t)},t.prototype.start=function(){return this.oh=new L_,Promise.resolve()},t.prototype.Gu=function(t,e,n){},t.prototype.zu=function(t){},t.prototype.ga=function(){},t.prototype.sr=function(t){},t}(),U_=function(t){this.key=t},V_=function(t){this.key=t},q_=function(){function t(t,e){this.query=t,this.uh=e,this.hh=null,this.te=!1,this.lh=lv(),this.Qt=lv(),this._h=ky(t),this.fh=new pv(this._h)}return Object.defineProperty(t.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),t.prototype.wh=function(t,e){var n=this,r=e?e.Eh:new dv,i=e?e.fh:this.fh,o=e?e.Qt:this.Qt,a=i,s=!1,u=cy(this.query)&&i.size===this.query.limit?i.last():null,c=ly(this.query)&&i.size===this.query.limit?i.first():null;if(t.ht((function(t,e){var l=i.get(t),h=e instanceof ry?e:null;h&&(h=Ey(n.query,h)?h:null);var f=!!l&&n.Qt.has(l.key),p=!!h&&(h.Je||n.Qt.has(h.key)&&h.hasCommittedMutations),d=!1;l&&h?l.data().isEqual(h.data())?f!==p&&(r.track({type:3,doc:h}),d=!0):n.Th(l,h)||(r.track({type:2,doc:h}),d=!0,(u&&n._h(h,u)>0||c&&n._h(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),d=!0):l&&!h&&(r.track({type:1,doc:l}),d=!0,(u||c)&&(s=!0)),d&&(h?(a=a.add(h),o=p?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),cy(this.query)||ly(this.query))for(;a.size>this.query.limit;){var l=cy(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fh:a,Eh:r,Ih:s,Qt:o}},t.prototype.Th=function(t,e){return t.Je&&e.hasCommittedMutations&&!e.Je},t.prototype.Di=function(t,e,n){var r=this,i=this.fh;this.fh=t.fh,this.Qt=t.Qt;var o=t.Eh.Ut();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fd()}};return n(t)-n(e)}(t.type,e.type)||r._h(t.doc,e.doc)})),this.mh(n);var a=e?this.Ah():[],s=0===this.lh.size&&this.te?1:0,u=s!==this.hh;return this.hh=s,0!==o.length||u?{snapshot:new vv(this.query,t.fh,i,o,t.Qt,0===s,u,!1),Rh:a}:{Rh:a}},t.prototype.Ks=function(t){return this.te&&"Offline"===t?(this.te=!1,this.Di({fh:this.fh,Eh:new dv,Qt:this.Qt,Ih:!1},!1)):{Rh:[]}},t.prototype.Ph=function(t){return!this.uh.has(t)&&!!this.fh.has(t)&&!this.fh.get(t).Je},t.prototype.mh=function(t){var e=this;t&&(t.ee.forEach((function(t){return e.uh=e.uh.add(t)})),t.ne.forEach((function(t){})),t.se.forEach((function(t){return e.uh=e.uh.delete(t)})),this.te=t.te)},t.prototype.Ah=function(){var t=this;if(!this.te)return[];var e=this.lh;this.lh=lv(),this.fh.forEach((function(e){t.Ph(e.key)&&(t.lh=t.lh.add(e.key))}));var n=[];return e.forEach((function(e){t.lh.has(e)||n.push(new V_(e))})),this.lh.forEach((function(t){e.has(t)||n.push(new U_(t))})),n},t.prototype.gh=function(t){this.uh=t.za,this.lh=lv();var e=this.wh(t.documents);return this.Di(e,!0)},t.prototype.yh=function(){return vv.Gt(this.query,this.fh,this.Qt,0===this.hh)},t}(),B_=function(t,e,n){this.query=t,this.targetId=e,this.view=n},H_=function(t){this.key=t,this.Vh=!1},z_=function(){function t(t,e,n,r,i,o){this.Bc=t,this.ph=e,this.bh=n,this.Sh=r,this.currentUser=i,this.Dh=o,this.Ch={},this.Nh=new Nd((function(t){return _y(t)}),by),this.xh=new Map,this.Fh=[],this.Oh=new $d(Fd.D),this.kh=new Map,this.Mh=new S_,this.$h={},this.Lh=new Map,this.Bh=Ib.Vo(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(t.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),t}();function W_(t,e){return Object(nl.b)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(nl.d)(this,(function(s){switch(s.label){case 0:return n=bw(t),(i=n.Nh.get(e))?(n.Sh.Bu(i.targetId),r=i.view.yh(),[3,4]):[3,1];case 1:return[4,Hb(n.Bc,vy(e))];case 2:return o=s.sent(),a=n.Sh.Bu(o.targetId),[4,K_(n,e,o.targetId,"current"===a)];case 3:r=s.sent(),n.Uh&&i_(n.ph,o),s.label=4;case 4:return[2,r]}}))}))}function K_(t,e,n,r){return Object(nl.b)(this,void 0,void 0,(function(){var i,o,a,s,u,c;return Object(nl.d)(this,(function(l){switch(l.label){case 0:return t.Kh=function(e,n,r){return function(t,e,n,r){return Object(nl.b)(this,void 0,void 0,(function(){var i,o,a;return Object(nl.d)(this,(function(s){switch(s.label){case 0:return(i=e.view.wh(n)).Ih?[4,Wb(t.Bc,e.query,!1).then((function(t){return e.view.wh(t.documents,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.zt.get(e.targetId),a=e.view.Di(i,t.Uh,o),[2,(ow(t,e.targetId,a.Rh),a.snapshot)]}}))}))}(t,e,n,r)},[4,Wb(t.Bc,e,!0)];case 1:return i=l.sent(),o=new q_(e,i.za),a=o.wh(i.documents),s=yv.Zt(n,r&&"Offline"!==t.onlineState),u=o.Di(a,t.Uh,s),ow(t,n,u.Rh),c=new B_(e,n,o),[2,(t.Nh.set(e,c),t.xh.has(n)?t.xh.get(n).push(e):t.xh.set(n,[e]),u.snapshot)]}}))}))}function G_(t,e){return Object(nl.b)(this,void 0,void 0,(function(){var n,r,i;return Object(nl.d)(this,(function(o){switch(o.label){case 0:return n=dd(t),r=n.Nh.get(e),(i=n.xh.get(r.targetId)).length>1?[2,(n.xh.set(r.targetId,i.filter((function(t){return!by(t,e)}))),void n.Nh.delete(e))]:n.Uh?(n.Sh.Uu(r.targetId),n.Sh.Ou(r.targetId)?[3,2]:[4,zb(n.Bc,r.targetId,!1).then((function(){n.Sh.Qu(r.targetId),o_(n.ph,r.targetId),rw(n,r.targetId)})).catch(Yb)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return rw(n,r.targetId),[4,zb(n.Bc,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Q_(t,e,n){return Object(nl.b)(this,void 0,void 0,(function(){var r,i,o,a;return Object(nl.d)(this,(function(s){switch(s.label){case 0:r=_w(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=dd(t),i=Pd.now(),o=e.reduce((function(t,e){return t.add(e.key)}),lv());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Ka.qi(t,o).next((function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=Bg(c,n.get(c.key));null!=l&&a.push(new Kg(c.key,l,ey(l.proto.mapValue),Fg.exists(!0)))}return r.Oi.Wr(t,i,a,e)}))})).then((function(t){var e=t.Ii(n);return{batchId:t.batchId,Ri:e}}))}(r.Bc,e)];case 2:return i=s.sent(),r.Sh.ku(i.batchId),function(t,e,n){var r=t.$h[t.currentUser.ti()];r||(r=new $d(yd)),r=r.ot(e,n),t.$h[t.currentUser.ti()]=r}(r,i.batchId,n),[4,uw(r,i.Ri)];case 3:return s.sent(),[4,y_(r.ph)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=nm(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function Y_(t,e){return Object(nl.b)(this,void 0,void 0,(function(){var n,r;return Object(nl.d)(this,(function(i){switch(i.label){case 0:n=dd(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,qb(n.Bc,e)];case 2:return r=i.sent(),e.zt.forEach((function(t,e){var r=n.kh.get(e);r&&(pd(t.ee.size+t.ne.size+t.se.size<=1),t.ee.size>0?r.Vh=!0:t.ne.size>0?pd(r.Vh):t.se.size>0&&(pd(r.Vh),r.Vh=!1))})),[4,uw(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Yb(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function X_(t,e,n){var r=dd(t);if(r.Uh&&0===n||!r.Uh&&1===n){var i=[];r.Nh.forEach((function(t,n){var r=n.view.Ks(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=dd(t);n.onlineState=e;var r=!1;n.Bs.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Ks(e)&&(r=!0)})),r&&cm(n)}(r.bh,e),i.length&&r.Ch.Tc(i),r.onlineState=e,r.Uh&&r.Sh.zu(e)}}function J_(t,e,n){return Object(nl.b)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return Object(nl.d)(this,(function(c){switch(c.label){case 0:return(r=dd(t)).Sh.Wu(e,"rejected",n),i=r.kh.get(e),(o=i&&i.key)?(a=(a=new $d(Fd.D)).ot(o,new iy(o,xd.min())),s=lv().add(o),u=new gv(xd.min(),new Map,new ev(yd),a,s),[4,Y_(r,u)]):[3,2];case 1:return c.sent(),r.Oh=r.Oh.remove(o),r.kh.delete(e),sw(r),[3,4];case 2:return[4,zb(r.Bc,e,!1).then((function(){return rw(r,e,n)})).catch(Yb)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function $_(t,e){return Object(nl.b)(this,void 0,void 0,(function(){var n,r,i;return Object(nl.d)(this,(function(o){switch(o.label){case 0:n=dd(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Ub(n.Bc,e)];case 2:return i=o.sent(),nw(n,r,null),ew(n,r),n.Sh.$u(r,"acknowledged"),[4,uw(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Yb(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Z_(t,e,n){return Object(nl.b)(this,void 0,void 0,(function(){var r,i;return Object(nl.d)(this,(function(o){switch(o.label){case 0:r=dd(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=dd(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Oi.Gr(t,e).next((function(e){return pd(null!==e),r=e.keys(),n.Oi.Zr(t,e)})).next((function(){return n.Oi.io(t)})).next((function(){return n.Ka.qi(t,r)}))}))}(r.Bc,e)];case 2:return i=o.sent(),nw(r,e,n),ew(r,e),r.Sh.$u(e,"rejected",n),[4,uw(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Yb(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function tw(t,e){return Object(nl.b)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(nl.d)(this,(function(s){switch(s.label){case 0:l_((n=dd(t)).ph)||ud("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=dd(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Oi.Yr(t)}))}(n.Bc)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.Lh.get(r)||[]).push(e),n.Lh.set(r,i),[3,4]);case 3:return o=s.sent(),a=nm(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}function ew(t,e){(t.Lh.get(e)||[]).forEach((function(t){t.resolve()})),t.Lh.delete(e)}function nw(t,e,n){var r=dd(t),i=r.$h[r.currentUser.ti()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.$h[r.currentUser.ti()]=i}}function rw(t,e,n){void 0===n&&(n=null),t.Sh.Uu(e);for(var r=0,i=t.xh.get(e);r<i.length;r++){var o=i[r];t.Nh.delete(o),n&&t.Ch.Qh(o,n)}t.xh.delete(e),t.Uh&&t.Mh.hu(e).forEach((function(e){t.Mh.ro(e)||iw(t,e)}))}function iw(t,e){var n=t.Oh.get(e);null!==n&&(o_(t.ph,n),t.Oh=t.Oh.remove(e),t.kh.delete(n),sw(t))}function ow(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof U_?(t.Mh.qo(o.key,e),aw(t,o)):o instanceof V_?(ud("SyncEngine","Document no longer in limbo: "+o.key),t.Mh.Ko(o.key,e),t.Mh.ro(o.key)||iw(t,o.key)):fd()}}function aw(t,e){var n=e.key;t.Oh.get(n)||(ud("SyncEngine","New document in limbo: "+n),t.Fh.push(n),sw(t))}function sw(t){for(;t.Fh.length>0&&t.Oh.size<t.Dh;){var e=t.Fh.shift(),n=t.Bh.next();t.kh.set(n,new H_(e)),t.Oh=t.Oh.ot(e,n),i_(t.ph,new Qd(vy(uy(e.path)),n,2,Im.ir))}}function uw(t,e,n){return Object(nl.b)(this,void 0,void 0,(function(){var r,i,o,a;return Object(nl.d)(this,(function(s){switch(s.label){case 0:return r=dd(t),i=[],o=[],a=[],r.Nh.P()?[3,3]:(r.Nh.forEach((function(t,s){a.push(r.Kh(s,e,n).then((function(t){if(t){r.Uh&&r.Sh.Wu(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=km.Zi(s.targetId,t);o.push(e)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.Ch.Tc(i),[4,function(t,e){return Object(nl.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return Object(nl.d)(this,(function(l){switch(l.label){case 0:n=dd(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return By.forEach(e,(function(e){return By.forEach(e.Ji,(function(r){return n.persistence.qr.qo(t,e.targetId,r)})).next((function(){return By.forEach(e.Xi,(function(r){return n.persistence.qr.Ko(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!Ky(r=l.sent()))throw r;return ud("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=(a=o[i]).targetId,a.fromCache||(u=n.La.get(s),c=u.rt(u.nt),n.La=n.La.ot(s,c));return[2]}}))}))}(r.Bc,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function cw(t,e){return Object(nl.b)(this,void 0,void 0,(function(){var n,r;return Object(nl.d)(this,(function(i){switch(i.label){case 0:return(n=dd(t)).currentUser.isEqual(e)?[3,3]:(ud("SyncEngine","User change. New user:",e.ti()),[4,Mb(n.Bc,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Lh.forEach((function(t){t.forEach((function(t){t.reject(new od(id.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Lh.clear()}(n),n.Sh.Gu(e,r.ja,r.Ga),[4,uw(n,r.Wa)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function lw(t,e){var n=dd(t),r=n.kh.get(e);if(r&&r.Vh)return lv().add(r.key);var i=lv(),o=n.xh.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=n.Nh.get(s[a]);i=i.kt(u.view.dh)}return i}function hw(t,e){return Object(nl.b)(this,void 0,void 0,(function(){var n,r,i;return Object(nl.d)(this,(function(o){switch(o.label){case 0:return[4,Wb((n=dd(t)).Bc,e.query,!0)];case 1:return r=o.sent(),i=e.view.gh(r),[2,(n.Uh&&ow(n,e.targetId,i.Rh),i)]}}))}))}function fw(t,e,n,r){return Object(nl.b)(this,void 0,void 0,(function(){var i,o;return Object(nl.d)(this,(function(a){switch(a.label){case 0:return[4,function(t,e){var n=dd(t),r=dd(n.Oi);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.zr(t,e).next((function(e){return e?n.Ka.qi(t,e):By.resolve(null)}))}))}((i=dd(t)).Bc,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,y_(i.ph)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(nw(i,e,r||null),ew(i,e),function(t,e){dd(dd(t).Oi).no(e)}(i.Bc,e)):fd(),a.label=4;case 4:return[4,uw(i,o)];case 5:return a.sent(),[3,7];case 6:ud("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}}))}))}function pw(t,e){return Object(nl.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Object(nl.d)(this,(function(c){switch(c.label){case 0:return bw(n=dd(t)),_w(n),!0!==e||!0===n.qh?[3,3]:(r=n.Sh.xu(),[4,dw(n,r.L())]);case 1:return i=c.sent(),n.qh=!0,[4,I_(n.ph,!0)];case 2:for(c.sent(),o=0,a=i;o<a.length;o++)i_(n.ph,a[o]);return[3,7];case 3:return!1!==e||!1===n.qh?[3,7]:(s=[],u=Promise.resolve(),n.xh.forEach((function(t,e){n.Sh.Ku(e)?s.push(e):u=u.then((function(){return rw(n,e),zb(n.Bc,e,!0)})),o_(n.ph,e)})),[4,u]);case 4:return c.sent(),[4,dw(n,s)];case 5:return c.sent(),function(t){var e=dd(t);e.kh.forEach((function(t,n){o_(e.ph,n)})),e.Mh.lu(),e.kh=new Map,e.Oh=new $d(Fd.D)}(n),n.qh=!1,[4,I_(n.ph,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function dw(t,e,n){return Object(nl.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,p,d;return Object(nl.d)(this,(function(v){switch(v.label){case 0:n=dd(t),r=[],i=[],o=0,a=e,v.label=1;case 1:return o<a.length?(u=void 0,(c=n.xh.get(s=a[o]))&&0!==c.length?[4,Hb(n.Bc,vy(c[0]))]:[3,7]):[3,13];case 2:u=v.sent(),l=0,h=c,v.label=3;case 3:return l<h.length?(f=n.Nh.get(h[l]),[4,hw(n,f)]):[3,6];case 4:(p=v.sent()).snapshot&&i.push(p.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Kb(n.Bc,s)];case 8:return d=v.sent(),[4,Hb(n.Bc,d)];case 9:return u=v.sent(),[4,K_(n,vw(d),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.Ch.Tc(i),r)]}}))}))}function vw(t){return sy(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function gw(t){var e=dd(t);return dd(dd(e.Bc).persistence).va()}function yw(t,e,n,r){return Object(nl.b)(this,void 0,void 0,(function(){var i,o,a;return Object(nl.d)(this,(function(s){switch(s.label){case 0:return(i=dd(t)).qh?(ud("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.xh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Gb(i.Bc)];case 3:return o=s.sent(),a=gv.Xt(e,"current"===n),[4,uw(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,zb(i.Bc,e,!0)];case 6:return s.sent(),rw(i,e,r),[3,8];case 7:fd(),s.label=8;case 8:return[2]}}))}))}function mw(t,e,n){return Object(nl.b)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h;return Object(nl.d)(this,(function(f){switch(f.label){case 0:if(!(r=bw(t)).qh)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.xh.has(a=o[i])?(ud("SyncEngine","Adding an already active target "+a),[3,5]):[4,Kb(r.Bc,a)]:[3,6];case 2:return s=f.sent(),[4,Hb(r.Bc,s)];case 3:return u=f.sent(),[4,K_(r,vw(s),u.targetId,!1)];case 4:f.sent(),i_(r.ph,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(nl.d)(this,(function(e){switch(e.label){case 0:return r.xh.has(t)?[4,zb(r.Bc,t,!1).then((function(){o_(r.ph,t),rw(r,t)})).catch(Yb)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function bw(t){var e=dd(t);return e.ph.Uc.Xc=Y_.bind(null,e),e.ph.Uc.qe=lw.bind(null,e),e.ph.Uc.Jc=J_.bind(null,e),e.Ch.Tc=sm.bind(null,e.bh),e.Ch.Qh=um.bind(null,e.bh),e}function _w(t){var e=dd(t);return e.ph.Uc.Zc=$_.bind(null,e),e.ph.Uc.tu=Z_.bind(null,e),e}var ww=function(){function t(){}return t.prototype.Qa=function(t){this.Wh=t},t.prototype.Qi=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.on.length||1===t.on.length&&t.on[0].field.W())}(e)||n.isEqual(xd.min())?this.jh(t,e):this.Wh.qi(t,r).next((function(o){var a=i.Gh(e,o);return(cy(e)||ly(e))&&i.Ih(e.an,a,r,n)?i.jh(t,e):(sd()<=rl.a.DEBUG&&ud("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),wy(e)),i.Wh.Qi(t,e,n).next((function(t){return a.forEach((function(e){t=t.ot(e.key,e)})),t})))}))},t.prototype.Gh=function(t,e){var n=new ev(ky(t));return e.forEach((function(e,r){r instanceof ry&&Ey(t,r)&&(n=n.add(r))})),n},t.prototype.Ih=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.jh=function(t,e){return sd()<=rl.a.DEBUG&&ud("IndexFreeQueryEngine","Using full collection scan to execute query:",wy(e)),this.Wh.Qi(t,e,xd.min())},t}(),Ew=function(){function t(t,e){this.ki=t,this.qr=e,this.Oi=[],this.zh=1,this.Hh=new ev(O_.iu)}return t.prototype.Qr=function(t){return By.resolve(0===this.Oi.length)},t.prototype.Wr=function(t,e,n,r){var i=this.zh;this.zh++;var o=new ym(i,e,n,r);this.Oi.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.Hh=this.Hh.add(new O_(u.key,i)),this.ki.jr(t,u.key.path.F())}return By.resolve(o)},t.prototype.Gr=function(t,e){return By.resolve(this.Yh(e))},t.prototype.Hr=function(t,e){var n=this.Jh(e+1),r=n<0?0:n;return By.resolve(this.Oi.length>r?this.Oi[r]:null)},t.prototype.Yr=function(){return By.resolve(0===this.Oi.length?-1:this.zh-1)},t.prototype.Jr=function(t){return By.resolve(this.Oi.slice())},t.prototype.$i=function(t,e){var n=this,r=new O_(e,0),i=new O_(e,Number.POSITIVE_INFINITY),o=[];return this.Hh.xt([r,i],(function(t){var e=n.Yh(t.fu);o.push(e)})),By.resolve(o)},t.prototype.Ki=function(t,e){var n=this,r=new ev(yd);return e.forEach((function(t){var e=new O_(t,0),i=new O_(t,Number.POSITIVE_INFINITY);n.Hh.xt([e,i],(function(t){r=r.add(t.fu)}))})),By.resolve(this.Xh(r))},t.prototype.Hi=function(t,e){var n=e.path,r=n.length+1,i=n;Fd.X(i)||(i=i.child(""));var o=new O_(new Fd(i),0),a=new ev(yd);return this.Hh.Ft((function(t){var e=t.key.path;return!!n.M(e)&&(e.length===r&&(a=a.add(t.fu)),!0)}),o),By.resolve(this.Xh(a))},t.prototype.Xh=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Yh(t);null!==r&&n.push(r)})),n},t.prototype.Zr=function(t,e){var n=this;pd(0===this.Zh(e.batchId,"removed")),this.Oi.shift();var r=this.Hh;return By.forEach(e.mutations,(function(i){var o=new O_(i.key,e.batchId);return r=r.delete(o),n.qr.so(t,i.key)})).next((function(){n.Hh=r}))},t.prototype.no=function(t){},t.prototype.ro=function(t,e){var n=new O_(e,0),r=this.Hh.Ot(n);return By.resolve(e.isEqual(r&&r.key))},t.prototype.io=function(t){return By.resolve()},t.prototype.Zh=function(t,e){return this.Jh(t)},t.prototype.Jh=function(t){return 0===this.Oi.length?0:t-this.Oi[0].batchId},t.prototype.Yh=function(t){var e=this.Jh(t);return e<0||e>=this.Oi.length?null:this.Oi[e]},t}(),kw=function(){function t(t,e){this.ki=t,this.tl=e,this.docs=new $d(Fd.D),this.size=0}return t.prototype.yi=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.tl(e);return this.docs=this.docs.ot(r,{ho:e,size:a,readTime:n}),this.size+=a-o,this.ki.jr(t,r.path.F())},t.prototype.pi=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.bi=function(t,e){var n=this.docs.get(e);return By.resolve(n?n.ho:null)},t.prototype.getEntries=function(t,e){var n=this,r=ov();return e.forEach((function(t){var e=n.docs.get(t);r=r.ot(t,e?e.ho:null)})),By.resolve(r)},t.prototype.Qi=function(t,e,n){for(var r=sv(),i=new Fd(e.path.child("")),o=this.docs.ft(i);o.At();){var a=o.It(),s=a.value,u=s.ho,c=s.readTime;if(!e.path.M(a.key.path))break;c.u(n)<=0||u instanceof ry&&Ey(e,u)&&(r=r.ot(u.key,u))}return By.resolve(r)},t.prototype.el=function(t,e){return By.forEach(this.docs,(function(t){return e(t)}))},t.prototype.wo=function(t){return new Iw(this)},t.prototype.To=function(t){return By.resolve(this.size)},t}(),Iw=function(t){function e(e){var n=this;return(n=t.call(this)||this).Io=e,n}return Object(nl.c)(e,t),e.prototype.Di=function(t){var e=this,n=[];return this.Ri.forEach((function(r,i){i?n.push(e.Io.yi(t,i,e.readTime)):e.Io.pi(r)})),By.On(n)},e.prototype.vi=function(t,e){return this.Io.bi(t,e)},e.prototype.Si=function(t,e){return this.Io.getEntries(t,e)},e}(bm),Cw=function(){function t(t){this.persistence=t,this.nl=new Nd((function(t){return Hd(t)}),zd),this.lastRemoteSnapshotVersion=xd.min(),this.highestTargetId=0,this.sl=0,this.il=new S_,this.targetCount=0,this.rl=Ib.yo()}return t.prototype.Ce=function(t,e){return this.nl.forEach((function(t,n){return e(n)})),By.resolve()},t.prototype.So=function(t){return By.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Do=function(t){return By.resolve(this.sl)},t.prototype.po=function(t){return this.highestTargetId=this.rl.next(),By.resolve(this.highestTargetId)},t.prototype.Co=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.sl&&(this.sl=e),By.resolve()},t.prototype.xo=function(t){this.nl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.rl=new Ib(e),this.highestTargetId=e),t.sequenceNumber>this.sl&&(this.sl=t.sequenceNumber)},t.prototype.No=function(t,e){return this.xo(e),this.targetCount+=1,By.resolve()},t.prototype.Oo=function(t,e){return this.xo(e),By.resolve()},t.prototype.ko=function(t,e){return this.nl.delete(e.target),this.il.hu(e.targetId),this.targetCount-=1,By.resolve()},t.prototype.Or=function(t,e,n){var r=this,i=0,o=[];return this.nl.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.nl.delete(a),o.push(r.Mo(t,s.targetId)),i++)})),By.On(o).next((function(){return i}))},t.prototype.$o=function(t){return By.resolve(this.targetCount)},t.prototype.Lo=function(t,e){var n=this.nl.get(e)||null;return By.resolve(n)},t.prototype.Bo=function(t,e,n){return this.il.au(e,n),By.resolve()},t.prototype.Uo=function(t,e,n){this.il.uu(e,n);var r=this.persistence.qr,i=[];return r&&e.forEach((function(e){i.push(r.so(t,e))})),By.On(i)},t.prototype.Mo=function(t,e){return this.il.hu(e),By.resolve()},t.prototype.Qo=function(t,e){var n=this.il._u(e);return By.resolve(n)},t.prototype.ro=function(t,e){return By.resolve(this.il.ro(e))},t}(),Tw=function(){function t(t){var e=this;this.ol={},this.zo=new Im(0),this.Ho=!1,this.Ho=!0,this.qr=t(this),this.sa=new Cw(this),this.ki=new rb,this.Fi=function(t,n){return new kw(t,(function(t){return e.qr.al(t)}))}(this.ki)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.ga=function(){return this.Ho=!1,Promise.resolve()},Object.defineProperty(t.prototype,"br",{get:function(){return this.Ho},enumerable:!1,configurable:!0}),t.prototype.ha=function(){},t.prototype.la=function(){},t.prototype.Na=function(){return this.ki},t.prototype.Sa=function(t){var e=this.ol[t.ti()];return e||(e=new Ew(this.ki,this.qr),this.ol[t.ti()]=e),e},t.prototype.Da=function(){return this.sa},t.prototype.Ca=function(){return this.Fi},t.prototype.runTransaction=function(t,e,n){var r=this;ud("MemoryPersistence","Starting transaction:",t);var i=new Sw(this.zo.next());return this.qr.cl(),n(i).next((function(t){return r.qr.ul(i).next((function(){return t}))})).xn().then((function(t){return i.xi(),t}))},t.prototype.hl=function(t,e){return By.kn(Object.values(this.ol).map((function(n){return function(){return n.ro(t,e)}})))},t}(),Sw=function(t){function e(e){var n=this;return(n=t.call(this)||this).Wo=e,n}return Object(nl.c)(e,t),e}(wm),Ow=function(){function t(t){this.persistence=t,this.ll=new S_,this._l=null}return t.fl=function(e){return new t(e)},Object.defineProperty(t.prototype,"dl",{get:function(){if(this._l)return this._l;throw fd()},enumerable:!1,configurable:!0}),t.prototype.qo=function(t,e,n){return this.ll.qo(n,e),this.dl.delete(n.toString()),By.resolve()},t.prototype.Ko=function(t,e,n){return this.ll.Ko(n,e),this.dl.add(n.toString()),By.resolve()},t.prototype.so=function(t,e){return this.dl.add(e.toString()),By.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.ll.hu(e.targetId).forEach((function(t){return n.dl.add(t.toString())}));var r=this.persistence.Da();return r.Qo(t,e.targetId).next((function(t){t.forEach((function(t){return n.dl.add(t.toString())}))})).next((function(){return r.ko(t,e)}))},t.prototype.cl=function(){this._l=new Set},t.prototype.ul=function(t){var e=this,n=this.persistence.Ca().wo();return By.forEach(this.dl,(function(r){var i=Fd.H(r);return e.wl(t,i).next((function(t){t||n.pi(i)}))})).next((function(){return e._l=null,n.apply(t)}))},t.prototype.Ma=function(t,e){var n=this;return this.wl(t,e).next((function(t){t?n.dl.delete(e.toString()):n.dl.add(e.toString())}))},t.prototype.al=function(t){return 0},t.prototype.wl=function(t,e){var n=this;return By.kn([function(){return By.resolve(n.ll.ro(e))},function(){return n.persistence.Da().ro(t,e)},function(){return n.persistence.hl(t,e)}])},t}(),Aw=function(){function t(t){this.El=t.El,this.Tl=t.Tl}return t.prototype.wc=function(t){this.Il=t},t.prototype.hc=function(t){this.ml=t},t.prototype.onMessage=function(t){this.Al=t},t.prototype.close=function(){this.Tl()},t.prototype.send=function(t){this.El(t)},t.prototype.Rl=function(){this.Il()},t.prototype.Pl=function(t){this.ml(t)},t.prototype.gl=function(t){this.Al(t)},t}(),Nw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Pw=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.T=e.T,n}return Object(nl.c)(e,t),e.prototype.Sl=function(t,e,n,r){return new Promise((function(i,o){var a=new nd;a.listenOnce(td.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case Zp.NO_ERROR:var e=a.getResponseJson();ud("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Zp.TIMEOUT:ud("Connection",'RPC "'+t+'" timed out'),o(new od(id.DEADLINE_EXCEEDED,"Request time out"));break;case Zp.HTTP_ERROR:var n=a.getStatus();if(ud("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(id).indexOf(e)>=0?e:id.UNKNOWN}(r.status);o(new od(s,r.message))}else o(new od(id.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new od(id.UNAVAILABLE,"Connection failed."));break;default:fd()}}finally{ud("Connection",'RPC "'+t+'" completed.')}}));var s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))},e.prototype.Ec=function(t,e){var n=[this.Vl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Qp,i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this._.projectId+"/databases/"+this._.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.T};this.vl(i.initMessageHeaders,e),Object(il.x)()||Object(il.A)()||Object(il.t)()||Object(il.v)()||Object(il.B)()||Object(il.s)()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");ud("Connection","Creating WebChannel: "+o,i);var a=r.createWebChannel(o,i),s=!1,u=!1,c=new Aw({El:function(t){u?ud("Connection","Not sending because WebChannel is closed:",t):(s||(ud("Connection","Opening WebChannel transport."),a.open(),s=!0),ud("Connection","WebChannel sending:",t),a.send(t))},Tl:function(){return a.close()}}),l=function(t,e){a.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return l(ed.EventType.OPEN,(function(){u||ud("Connection","WebChannel transport opened.")})),l(ed.EventType.CLOSE,(function(){u||(u=!0,ud("Connection","WebChannel transport closed"),c.Pl())})),l(ed.EventType.ERROR,(function(t){u||(u=!0,ld("Connection","WebChannel transport errored:",t),c.Pl(new od(id.UNAVAILABLE,"The operation could not be completed")))})),l(ed.EventType.MESSAGE,(function(t){var e;if(!u){var n=t.data[0];pd(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){ud("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Kd[t];if(void 0!==e)return Jd(e)}(i),s=r.message;void 0===o&&(o=id.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),u=!0,c.Pl(new od(o,s)),a.close()}else ud("Connection","WebChannel received:",n),c.gl(n)}})),setTimeout((function(){c.Rl()}),0),c},e}(function(){function t(t){this.yl=t,this._=t._,this.Vl=(t.ssl?"https":"http")+"://"+t.host,this.pl="projects/"+this._.projectId+"/databases/"+this._.database+"/documents"}return t.prototype.Sc=function(t,e,n,r){var i=this.bl(t,e);ud("RestConnection","Sending: ",i,n);var o={};return this.vl(o,r),this.Sl(t,i,o,n).then((function(t){return ud("RestConnection","Received: ",t),t}),(function(e){throw ld("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Dc=function(t,e,n,r){return this.Sc(t,e,n,r)},t.prototype.vl=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.0.1",t["Content-Type"]="text/plain",e)for(var n in e.si)e.si.hasOwnProperty(n)&&(t[n]=e.si[n])},t.prototype.bl=function(t,e){return this.Vl+"/v1/"+e+":"+Nw[t]},t}()),xw=function(){function t(){var t=this;this.Dl=function(){return t.Cl()},this.Nl=function(){return t.xl()},this.Fl=[],this.Ol()}return t.prototype.zc=function(t){this.Fl.push(t)},t.prototype.ga=function(){window.removeEventListener("online",this.Dl),window.removeEventListener("offline",this.Nl)},t.prototype.Ol=function(){window.addEventListener("online",this.Dl),window.addEventListener("offline",this.Nl)},t.prototype.Cl=function(){ud("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Fl;t<e.length;t++)(0,e[t])(0)},t.prototype.xl=function(){ud("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Fl;t<e.length;t++)(0,e[t])(1)},t.Ln=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Rw=function(){function t(){}return t.prototype.zc=function(t){},t.prototype.ga=function(){},t}();function jw(t){return new Wv(t,!0)}var Dw=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(nl.b)(this,void 0,void 0,(function(){return Object(nl.d)(this,(function(e){switch(e.label){case 0:return this.Sh=this.kl(t),this.persistence=this.Ml(t),[4,this.persistence.start()];case 1:return e.sent(),this.$l=this.Ll(t),this.Bc=this.Bl(t),[2]}}))}))},t.prototype.Ll=function(t){return null},t.prototype.Bl=function(t){return e=this.persistence,n=new ww,new Fb(e,n,t.ql);var e,n},t.prototype.Ml=function(t){return new Tw(Ow.fl)},t.prototype.kl=function(t){return new M_},t.prototype.terminate=function(){return Object(nl.b)(this,void 0,void 0,(function(){return Object(nl.d)(this,(function(t){switch(t.label){case 0:return this.$l&&this.$l.stop(),[4,this.Sh.ga()];case 1:return t.sent(),[4,this.persistence.ga()];case 2:return t.sent(),[2]}}))}))},t}(),Lw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ul=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(nl.c)(e,t),e.prototype.initialize=function(e){return Object(nl.b)(this,void 0,void 0,(function(){return Object(nl.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Qb(this.Bc)];case 2:return n.sent(),[4,this.Ul.initialize(this,e)];case 3:return n.sent(),[4,_w(this.Ul.mu)];case 4:return n.sent(),[4,y_(this.Ul.ph)];case 5:return n.sent(),[2]}}))}))},e.prototype.Ll=function(t){return new Am(this.persistence.qr.gr,t.cs)},e.prototype.Ml=function(t){var e=Lb(t.yl._,t.yl.persistenceKey),n=void 0!==this.cacheSizeBytes?Om.Ir(this.cacheSizeBytes):Om.Rr,r=jw(t.yl._);return new Pb(this.synchronizeTabs,e,t.clientId,n,t.cs,$y(),Zy(),r,this.Sh,!!this.forceOwnership)},e.prototype.kl=function(t){return new M_},e}(Dw),Fw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ul=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(nl.c)(e,t),e.prototype.initialize=function(e){return Object(nl.b)(this,void 0,void 0,(function(){var n,r=this;return Object(nl.d)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ul.mu,this.Sh instanceof F_?(this.Sh.mu={sh:fw.bind(null,n),ih:yw.bind(null,n),rh:mw.bind(null,n),va:gw.bind(null,n)},[4,this.Sh.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.ua((function(t){return Object(nl.b)(r,void 0,void 0,(function(){return Object(nl.d)(this,(function(e){switch(e.label){case 0:return[4,pw(this.Ul.mu,t)];case 1:return e.sent(),this.$l&&(t&&!this.$l.br?this.$l.start(this.Bc):t||this.$l.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.kl=function(t){var e=$y();if(!F_.Ln(e))throw new od(id.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Lb(t.yl._,t.yl.persistenceKey);return new F_(e,t.cs,n,t.clientId,t.ql)},e}(Lw),Mw=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(nl.b)(this,void 0,void 0,(function(){var n=this;return Object(nl.d)(this,(function(r){switch(r.label){case 0:return this.Bc?[3,2]:(this.Bc=t.Bc,this.Sh=t.Sh,this.qc=this.Kl(e),this.ph=this.Ql(e),this.bh=this.Wl(e),this.mu=this.jl(e,!t.synchronizeTabs),this.Sh.Cc=function(t){return X_(n.mu,t,1)},this.ph.Uc.Gl=cw.bind(null,this.mu),[4,I_(this.ph,this.mu.Uh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.Wl=function(t){return new im},t.prototype.Kl=function(t){var e=jw(t.yl._),n=new Pw(t.yl);return function(t,e,n){return new Zb(t,e,n)}(t.credentials,n,e)},t.prototype.Ql=function(t){var e,n,r,i,o,a=this;return e=this.Bc,n=this.qc,r=t.cs,i=function(t){return X_(a.mu,t,0)},o=xw.Ln()?new xw:new Rw,new e_(e,n,r,i,o)},t.prototype.jl=function(t,e){return function(t,e,n,r,i,o,a){var s=new z_(t,e,n,r,i,o);return a&&(s.qh=!0),s}(this.Bc,this.ph,this.bh,this.Sh,t.ql,t.Dh,e)},t.prototype.terminate=function(){return function(t){return Object(nl.b)(this,void 0,void 0,(function(){var e;return Object(nl.d)(this,(function(n){switch(n.label){case 0:return e=dd(t),ud("RemoteStore","RemoteStore shutting down."),e.Wc.add(5),[4,r_(e)];case 1:return n.sent(),e.Gc.ga(),e.Hc.set("Unknown"),[2]}}))}))}(this.ph)},t}(),Uw=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.zl(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.zl(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Hl=function(){this.muted=!0},t.prototype.zl=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();function Vw(t,e,n){if(!n)throw new od(id.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function qw(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new od(id.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Bw(t,e,n,r){if(!0===e&&!0===r)throw new od(id.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Hw(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":fd()}function zw(t,e){if(e<=0)throw new od(id.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Ww=function(t){for(var e=0;e<t.length;++e)if(0===t[e].length)throw new od(id.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.Yl=new Ld(t)},Kw=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,e)||this}return Object(nl.c)(e,t),e.documentId=function(){return new e(Ld.j().B())},e.prototype.isEqual=function(t){return t instanceof e&&this.Yl.isEqual(t.Yl)},e}(Ww),Gw=new RegExp("[~\\*/\\[\\]]"),Qw=function(t){this.Jl=t},Yw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(nl.c)(e,t),e.prototype.Xl=function(t){if(2!==t.Zl)throw t.t_(1===t.Zl?this.Jl+"() can only appear at the top level of your update data":this.Jl+"() cannot be used with set() unless you pass {merge:true}");return t.Qe.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Qw);function Xw(t,e,n){return new uE({Zl:3,e_:e.settings.e_,methodName:t.Jl,n_:n},e._,e.serializer,e.ignoreUndefinedProperties)}var Jw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(nl.c)(e,t),e.prototype.Xl=function(t){return new Dg(t.path,new Tg)},e.prototype.isEqual=function(t){return t instanceof e},e}(Qw),$w=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).s_=n,r}return Object(nl.c)(e,t),e.prototype.Xl=function(t){var e=Xw(this,t,!0),n=this.s_.map((function(t){return dE(t,e)})),r=new Sg(n);return new Dg(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Qw),Zw=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).s_=n,r}return Object(nl.c)(e,t),e.prototype.Xl=function(t){var e=Xw(this,t,!0),n=this.s_.map((function(t){return dE(t,e)})),r=new Ag(n);return new Dg(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Qw),tE=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).i_=n,r}return Object(nl.c)(e,t),e.prototype.Xl=function(t){var e=new Pg(t.serializer,Qv(t.serializer,this.i_));return new Dg(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Qw),eE=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new od(id.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new od(id.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.r_=t,this.o_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.r_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.o_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.r_===t.r_&&this.o_===t.o_},t.prototype.toJSON=function(){return{latitude:this.r_,longitude:this.o_}},t.prototype.g=function(t){return yd(this.r_,t.r_)||yd(this.o_,t.o_)},t}(),nE=function(t){this.a_=t},rE=/^__.*__$/,iE=function(t,e,n){this.c_=t,this.u_=e,this.h_=n},oE=function(){function t(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}return t.prototype.l_=function(t,e){var n=[];return n.push(null!==this.Qe?new Kg(t,this.data,this.Qe,e):new Wg(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Qg(t,this.fieldTransforms)),n},t}(),aE=function(){function t(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}return t.prototype.l_=function(t,e){var n=[new Kg(t,this.data,this.Qe,e)];return this.fieldTransforms.length>0&&n.push(new Qg(t,this.fieldTransforms)),n},t}();function sE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fd()}}var uE=function(){function t(t,e,n,r,i,o){this.settings=t,this._=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.__(),this.fieldTransforms=i||[],this.Qe=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Zl",{get:function(){return this.settings.Zl},enumerable:!1,configurable:!0}),t.prototype.f_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this._,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Qe)},t.prototype.d_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.f_({path:n,n_:!1});return r.w_(t),r},t.prototype.E_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.f_({path:n,n_:!1});return r.__(),r},t.prototype.T_=function(t){return this.f_({path:void 0,n_:!0})},t.prototype.t_=function(t){return _E(t,this.settings.methodName,this.settings.I_||!1,this.path,this.settings.e_)},t.prototype.contains=function(t){return void 0!==this.Qe.find((function(e){return t.M(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.M(e.field)}))},t.prototype.__=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.w_(this.path.get(t))},t.prototype.w_=function(t){if(0===t.length)throw this.t_("Document fields must not be empty");if(sE(this.Zl)&&rE.test(t))throw this.t_('Document fields cannot begin and end with "__"')},t}(),cE=function(){function t(t,e,n){this._=t,this.ignoreUndefinedProperties=e,this.serializer=n||jw(t)}return t.prototype.m_=function(t,e,n,r){return void 0===r&&(r=!1),new uE({Zl:t,methodName:e,e_:n,path:Ld.U(),n_:!1,I_:r},this._,this.serializer,this.ignoreUndefinedProperties)},t}();function lE(t,e,n,r,i,o){void 0===o&&(o={});var a=t.m_(o.merge||o.mergeFields?2:0,e,n,i);yE("Data must be an object, but it was:",a,r);var s,u,c=vE(r,a);if(o.merge)s=new jg(a.Qe),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var p=f[h],d=void 0;if(p instanceof Ww)d=p.Yl;else{if("string"!=typeof p)throw fd();d=bE(e,p,n)}if(!a.contains(d))throw new od(id.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");wE(l,d)||l.push(d)}s=new jg(l),u=a.fieldTransforms.filter((function(t){return s.Ye(t.field)}))}else s=null,u=a.fieldTransforms;return new oE(new Zg(c),s,u)}function hE(t,e,n,r){var i=t.m_(1,e,n);yE("Data must be an object, but it was:",i,r);var o=[],a=new ty;Od(r,(function(t,r){var s=bE(e,t,n),u=i.E_(s);if(r instanceof Yw||r instanceof nE&&r.a_ instanceof Yw)o.push(s);else{var c=dE(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new jg(o);return new aE(a.Xe(),s,i.fieldTransforms)}function fE(t,e,n,r,i,o){var a=t.m_(1,e,n),s=[mE(e,r,n)],u=[i];if(o.length%2!=0)throw new od(id.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(mE(e,o[c])),u.push(o[c+1]);for(var l=[],h=new ty,f=s.length-1;f>=0;--f)if(!wE(l,s[f])){var p=s[f],d=u[f],v=a.E_(p);if(d instanceof Yw||d instanceof nE&&d.a_ instanceof Yw)l.push(p);else{var g=dE(d,v);null!=g&&(l.push(p),h.set(p,g))}}var y=new jg(l);return new aE(h.Xe(),y,a.fieldTransforms)}function pE(t,e,n,r){return void 0===r&&(r=!1),dE(n,t.m_(r?4:3,e))}function dE(t,e){if(t instanceof nE&&(t=t.a_),gE(t))return yE("Unsupported field value:",e,t),vE(t,e);if(t instanceof Qw)return function(t,e){if(!sE(e.Zl))throw e.t_(t.Jl+"() can only be used with update() and set()");if(!e.path)throw e.t_(t.Jl+"() is not currently supported inside arrays");var n=t.Xl(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Qe.push(e.path),t instanceof Array){if(e.settings.n_&&4!==e.Zl)throw e.t_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=dE(o[i],e.T_(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Qv(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Pd.fromDate(t);return{timestampValue:Yv(e.serializer,n)}}if(t instanceof Pd){var r=new Pd(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Yv(e.serializer,r)}}if(t instanceof eE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof wd)return{bytesValue:Xv(e.serializer,t.l)};if(t instanceof iE){var i=e._,o=t.c_;if(!o.isEqual(i))throw e.t_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Zv(t.c_||e._,t.u_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.t_("Unsupported field value: "+Hw(t))}(t,e)}function vE(t,e){var n={};return Ad(t)?e.path&&e.path.length>0&&e.Qe.push(e.path):Od(t,(function(t,r){var i=dE(r,e.d_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function gE(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Pd||t instanceof eE||t instanceof wd||t instanceof iE||t instanceof Qw)}function yE(t,e,n){if(!gE(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Hw(n);throw e.t_("an object"===r?t+" a custom object":t+" "+r)}}function mE(t,e,n){if(e instanceof Ww)return e.Yl;if("string"==typeof e)return bE(t,e);throw _E("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function bE(t,e,n){try{return function(t){if(t.search(Gw)>=0)throw new od(id.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Kw.bind.apply(Kw,Object(nl.g)([void 0],t.split("."))))}catch(e){throw new od(id.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).Yl}catch(e){throw _E((r=e)instanceof Error?r.message:r.toString(),t,!1,void 0,n)}var r}function _E(t,e,n,r,i){var o=r&&!r.P(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new od(id.INVALID_ARGUMENT,(s+=". ")+t+u)}function wE(t,e){return t.some((function(t){return t.isEqual(e)}))}var EE=function(){function t(t){this.qc=t,this.A_=new Map,this.mutations=[],this.R_=!1,this.P_=null,this.g_=new Set}return t.prototype.y_=function(t){return Object(nl.b)(this,void 0,void 0,(function(){var e,n=this;return Object(nl.d)(this,(function(r){switch(r.label){case 0:if(this.V_(),this.mutations.length>0)throw new od(id.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(nl.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Object(nl.d)(this,(function(u){switch(u.label){case 0:return n=dd(t),r=og(n.serializer)+"/documents",i={documents:e.map((function(t){return eg(n.serializer,t)}))},[4,n.Dc("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){pd(!!e.found);var n=ng(t,e.found.name),r=$v(e.found.updateTime),i=new Zg({mapValue:{fields:e.found.fields}});return new ry(n,r,i,{})}(t,e):"missing"in e?function(t,e){pd(!!e.missing),pd(!!e.readTime);var n=ng(t,e.missing),r=$v(e.readTime);return new iy(n,r)}(t,e):fd()}(n.serializer,t);a.set(e.key.toString(),e)})),s=[],[2,(e.forEach((function(t){var e=a.get(t.toString());pd(!!e),s.push(e)})),s)]}}))}))}(this.qc,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof iy||t instanceof ry?n.p_(t):fd()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.l_(t,this.Ge(t))),this.g_.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.l_(t,this.b_(t)))}catch(t){this.P_=t}this.g_.add(t.toString())},t.prototype.delete=function(t){this.write([new Jg(t,this.Ge(t))]),this.g_.add(t.toString())},t.prototype.commit=function(){return Object(nl.b)(this,void 0,void 0,(function(){var t,e=this;return Object(nl.d)(this,(function(n){switch(n.label){case 0:if(this.V_(),this.P_)throw this.P_;return t=this.A_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Fd.H(n);e.mutations.push(new $g(r,e.Ge(r)))})),[4,function(t,e){return Object(nl.b)(this,void 0,void 0,(function(){var n,r,i;return Object(nl.d)(this,(function(o){switch(o.label){case 0:return n=dd(t),r=og(n.serializer)+"/documents",i={writes:e.map((function(t){return ug(n.serializer,t)}))},[4,n.Sc("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.qc,this.mutations)];case 1:return n.sent(),this.R_=!0,[2]}}))}))},t.prototype.p_=function(t){var e;if(t instanceof ry)e=t.version;else{if(!(t instanceof iy))throw fd();e=xd.min()}var n=this.A_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new od(id.ABORTED,"Document version changed between two reads.")}else this.A_.set(t.key.toString(),e)},t.prototype.Ge=function(t){var e=this.A_.get(t.toString());return!this.g_.has(t.toString())&&e?Fg.updateTime(e):Fg.ze()},t.prototype.b_=function(t){var e=this.A_.get(t.toString());if(!this.g_.has(t.toString())&&e){if(e.isEqual(xd.min()))throw new od(id.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fg.updateTime(e)}return Fg.exists(!0)},t.prototype.write=function(t){this.V_(),this.mutations=this.mutations.concat(t)},t.prototype.V_=function(){},t}(),kE=function(){function t(t,e,n,r){this.cs=t,this.qc=e,this.updateFunction=n,this.ls=r,this.v_=5,this.ys=new qy(this.cs,"transaction_retry")}return t.prototype.run=function(){this.S_()},t.prototype.S_=function(){var t=this;this.ys.Pn((function(){return Object(nl.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(nl.d)(this,(function(r){return t=new EE(this.qc),(e=this.D_(t))&&e.then((function(e){n.cs.ws((function(){return t.commit().then((function(){n.ls.resolve(e)})).catch((function(t){n.C_(t)}))}))})).catch((function(t){n.C_(t)})),[2]}))}))}))},t.prototype.D_=function(t){try{var e=this.updateFunction(t);return!Md(e)&&e.catch&&e.then?e:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.ls.reject(t),null}},t.prototype.C_=function(t){var e=this;this.v_>0&&this.N_(t)?(this.v_-=1,this.cs.ws((function(){return e.S_(),Promise.resolve()}))):this.ls.reject(t)},t.prototype.N_=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Xd(e)}return!1},t}(),IE=function(){function t(t,e,n){var r=this;this.credentials=t,this.cs=e,this.yl=n,this.user=hm.UNAUTHENTICATED,this.clientId=gd.t(),this.x_=function(){},this.ui=new Vy,this.credentials.oi((function(t){ud("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r.x_(t)),r.ui.resolve()}))}return t.prototype.getConfiguration=function(){return Object(nl.b)(this,void 0,void 0,(function(){return Object(nl.d)(this,(function(t){switch(t.label){case 0:return[4,this.ui.promise];case 1:return[2,(t.sent(),{cs:this.cs,yl:this.yl,clientId:this.clientId,credentials:this.credentials,ql:this.user,Dh:100})]}}))}))},t.prototype.F_=function(t){var e=this;this.x_=t,this.ui.promise.then((function(){return e.x_(e.user)}))},t.prototype.O_=function(){if(this.cs.ps)throw new od(id.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.cs.Ds();var e=new Vy;return this.cs.bs((function(){return Object(nl.b)(t,void 0,void 0,(function(){var t,n;return Object(nl.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.k_?[4,this.k_.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.M_?[4,this.M_.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.ai(),e.resolve(),[3,6];case 5:return t=r.sent(),n=nm(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function CE(t,e){return Object(nl.b)(this,void 0,void 0,(function(){var n,r=this;return Object(nl.d)(this,(function(i){switch(i.label){case 0:return t.cs.Fs(),ud("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=i.sent(),[4,e.initialize(n)];case 2:return i.sent(),t.F_((function(n){return t.cs.Cs((function(){return Object(nl.b)(r,void 0,void 0,(function(){return Object(nl.d)(this,(function(t){switch(t.label){case 0:return[4,Mb(e.Bc,n)];case 1:return t.sent(),[2]}}))}))}))})),e.persistence.ha((function(){return t.terminate()})),t.M_=e,[2]}}))}))}function TE(t,e){return Object(nl.b)(this,void 0,void 0,(function(){var n,r;return Object(nl.d)(this,(function(i){switch(i.label){case 0:return t.cs.Fs(),[4,SE(t)];case 1:return n=i.sent(),ud("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.F_((function(n){return t.cs.Cs((function(){return function(t,e){return Object(nl.b)(this,void 0,void 0,(function(){var n,r;return Object(nl.d)(this,(function(i){switch(i.label){case 0:return(n=dd(t)).cs.Fs(),ud("RemoteStore","RemoteStore received new credentials"),r=l_(n),n.Wc.add(3),[4,r_(n)];case 1:return i.sent(),r&&n.Hc.set("Unknown"),[4,n.Uc.Gl(e)];case 2:return i.sent(),n.Wc.delete(3),[4,n_(n)];case 3:return i.sent(),[2]}}))}))}(e.ph,n)}))})),t.k_=e,[2]}}))}))}function SE(t){return Object(nl.b)(this,void 0,void 0,(function(){return Object(nl.d)(this,(function(e){switch(e.label){case 0:return t.M_?[3,2]:(ud("FirestoreClient","Using default OfflineComponentProvider"),[4,CE(t,new Dw)]);case 1:e.sent(),e.label=2;case 2:return[2,t.M_]}}))}))}function OE(t){return Object(nl.b)(this,void 0,void 0,(function(){return Object(nl.d)(this,(function(e){switch(e.label){case 0:return t.k_?[3,2]:(ud("FirestoreClient","Using default OnlineComponentProvider"),[4,TE(t,new Mw)]);case 1:e.sent(),e.label=2;case 2:return[2,t.k_]}}))}))}function AE(t){return SE(t).then((function(t){return t.persistence}))}function NE(t){return SE(t).then((function(t){return t.Bc}))}function PE(t){return OE(t).then((function(t){return t.ph}))}function xE(t){return OE(t).then((function(t){return t.mu}))}function RE(t){return Object(nl.b)(this,void 0,void 0,(function(){var e,n;return Object(nl.d)(this,(function(r){switch(r.label){case 0:return[4,OE(t)];case 1:return e=r.sent(),[2,((n=e.bh).Us=W_.bind(null,e.mu),n.Ws=G_.bind(null,e.mu),n)]}}))}))}function jE(t,e,n,r){var i=this,o=new Uw(r),a=new lm(e,o,n);return t.cs.ws((function(){return Object(nl.b)(i,void 0,void 0,(function(){var e;return Object(nl.d)(this,(function(n){switch(n.label){case 0:return e=om,[4,RE(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Hl(),t.cs.ws((function(){return Object(nl.b)(i,void 0,void 0,(function(){var e;return Object(nl.d)(this,(function(n){switch(n.label){case 0:return e=am,[4,RE(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))}))}}function DE(t,e){var n=this,r=new Vy;return t.cs.ws((function(){return Object(nl.b)(n,void 0,void 0,(function(){var n;return Object(nl.d)(this,(function(i){switch(i.label){case 0:return n=Q_,[4,xE(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}function LE(t,e){var n=this,r=new Uw(e);return t.cs.ws((function(){return Object(nl.b)(n,void 0,void 0,(function(){var e;return Object(nl.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){dd(t).qs.add(e),e.next()},[4,RE(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Hl(),t.cs.ws((function(){return Object(nl.b)(n,void 0,void 0,(function(){var e;return Object(nl.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){dd(t).qs.delete(e)},[4,RE(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}function FE(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var ME=function(){function t(t,e,n,r){this._=t,this.L_=e,this.B_=n,this.q_=r}return t.prototype.U_=function(t){switch(Ov(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Dv(t.integerValue||t.doubleValue);case 3:return this.K_(t.timestampValue);case 4:return this.Q_(t);case 5:return t.stringValue;case 6:return this.q_(Lv(t.bytesValue));case 7:return this.W_(t.referenceValue);case 8:return this.j_(t.geoPointValue);case 9:return this.G_(t.arrayValue);case 10:return this.z_(t.mapValue);default:throw fd()}},t.prototype.z_=function(t){var e=this,n={};return Od(t.fields||{},(function(t,r){n[t]=e.U_(r)})),n},t.prototype.j_=function(t){return new eE(Dv(t.latitude),Dv(t.longitude))},t.prototype.G_=function(t){var e=this;return(t.values||[]).map((function(t){return e.U_(t)}))},t.prototype.Q_=function(t){switch(this.L_){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return Cv(n)?t(n):n}(t);return null==e?null:this.U_(e);case"estimate":return this.K_(Tv(t));default:return null}},t.prototype.K_=function(t){var e=jv(t);return new Pd(e.seconds,e.nanos)},t.prototype.W_=function(t){var e=jd.q(t);pd(wg(e));var n=new Td(e.get(1),e.get(3)),r=new Fd(e.N(5));return n.isEqual(this._)||cd("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this._.projectId+"/"+this._.database+") instead."),this.B_(r)},t}(),UE=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new od(id.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new od(id.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Bw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}();function VE(t){HE(t);var e=QE(t),n=t.H_(),r=new Mw;return qE(e,r,new Fw(r,n.cacheSizeBytes))}function qE(t,e,n){var r=this,i=new Vy;return t.cs.enqueue((function(){return Object(nl.b)(r,void 0,void 0,(function(){var r;return Object(nl.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,CE(t,n)];case 1:return o.sent(),[4,TE(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===id.FAILED_PRECONDITION||t.code===id.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function BE(t){var e=this;if(t.Y_&&!t.J_)throw new od(id.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Vy;return t.X_.bs((function(){return Object(nl.b)(e,void 0,void 0,(function(){var e;return Object(nl.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(nl.b)(this,void 0,void 0,(function(){return Object(nl.d)(this,(function(e){switch(e.label){case 0:return Hy.Ln()?[4,Hy.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(Lb(t.c_,t.Z_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}function HE(t){if(t.Y_||t.J_)throw new od(id.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var zE="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",WE=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){throw new od(id.FAILED_PRECONDITION,zE)},t.prototype.enableMultiTabIndexedDbPersistence=function(t){throw new od(id.FAILED_PRECONDITION,zE)},t.prototype.clearIndexedDbPersistence=function(t){throw new od(id.FAILED_PRECONDITION,zE)},t}(),KE=function(){function t(){this.enableMultiTabIndexedDbPersistence=VE.bind(null),this.clearIndexedDbPersistence=BE.bind(null)}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){HE(t);var n=QE(t),r=t.H_(),i=new Mw;return qE(n,i,new Lw(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t,{forceOwnership:e})},t}(),GE=function(){function t(e,n,r){var i=this;if(void 0===r&&(r=new WE),this.tf=r,this.ef=null,this.X_=new em,this.INTERNAL={delete:function(){return Object(nl.b)(i,void 0,void 0,(function(){return Object(nl.d)(this,(function(t){switch(t.label){case 0:return this.nf||YE(this),[4,this.nf.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var o=e;this.ef=o,this.c_=t.sf(o),this.Z_=o.name,this.if=new dm(n)}else{var a=e;if(!a.projectId)throw new od(id.INVALID_ARGUMENT,"Must provide projectId");this.c_=new Td(a.projectId,a.database),this.Z_="[DEFAULT]",this.if=new pm}this.rf=new UE({})}return Object.defineProperty(t.prototype,"Y_",{get:function(){return!!this.nf},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"J_",{get:function(){return this.X_.ps},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"af",{get:function(){return this.cf||(this.cf=new cE(this.c_,this.rf.ignoreUndefinedProperties)),this.cf},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.rf),t)).merge;var e=new UE(t);if(this.nf&&!this.rf.isEqual(e))throw new od(id.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.rf=e,void 0!==e.credentials&&(this.if=function(t){if(!t)return new pm;switch(t.type){case"gapi":var e=t.client;return pd(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new gm(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new od(id.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.rf.host&&ld("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},t.prototype.enableNetwork=function(){return QE(this),function(t){var e=this;return t.cs.enqueue((function(){return Object(nl.b)(e,void 0,void 0,(function(){var e,n;return Object(nl.d)(this,(function(r){switch(r.label){case 0:return[4,AE(t)];case 1:return e=r.sent(),[4,PE(t)];case 2:return n=r.sent(),[2,(e.la(!0),function(t){var e=dd(t);return e.Wc.delete(0),n_(e)}(n))]}}))}))}))}(this.nf)},t.prototype.disableNetwork=function(){return QE(this),function(t){var e=this;return t.cs.enqueue((function(){return Object(nl.b)(e,void 0,void 0,(function(){var e,n;return Object(nl.d)(this,(function(r){switch(r.label){case 0:return[4,AE(t)];case 1:return e=r.sent(),[4,PE(t)];case 2:return n=r.sent(),[2,(e.la(!1),function(t){return Object(nl.b)(this,void 0,void 0,(function(){var e;return Object(nl.d)(this,(function(n){switch(n.label){case 0:return(e=dd(t)).Wc.add(0),[4,r_(e)];case 1:return n.sent(),e.Hc.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(this.nf)},t.prototype.enablePersistence=function(t){if(this.nf)throw new od(id.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var e=!1,n=!1;return t&&Bw("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.tf.enableMultiTabIndexedDbPersistence(this):this.tf.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return Object(nl.b)(this,void 0,void 0,(function(){return Object(nl.d)(this,(function(t){return[2,this.tf.clearIndexedDbPersistence(this)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},t.prototype.waitForPendingWrites=function(){return QE(this),function(t){var e=this,n=new Vy;return t.cs.ws((function(){return Object(nl.b)(e,void 0,void 0,(function(){var e;return Object(nl.d)(this,(function(r){switch(r.label){case 0:return e=tw,[4,xE(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(this.nf)},t.prototype.onSnapshotsInSync=function(t){return QE(this),FE(t)?LE(this.nf,t):LE(this.nf,{next:t})},t.sf=function(t){if(!Object.prototype.hasOwnProperty.call(t.options,"projectId"))throw new od(id.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e=t.options.projectId;if(!e||"string"!=typeof e)throw new od(id.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Td(e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.ef)throw new od(id.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.ef},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){return Vw("Firestore.collection","path",t),QE(this),new uk(jd.q(t),this,null)},t.prototype.doc=function(t){return Vw("Firestore.doc","path",t),QE(this),$E.uf(jd.q(t),this,null)},t.prototype.collectionGroup=function(t){if(Vw("Firestore.collectionGroup","collectionId",t),t.indexOf("/")>=0)throw new od(id.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return QE(this),new ak(function(t){return new ay(jd.U(),t)}(t),this,null)},t.prototype.runTransaction=function(t){var e=this;return function(t,e){var n=this,r=new Vy;return t.cs.ws((function(){return Object(nl.b)(n,void 0,void 0,(function(){var n;return Object(nl.d)(this,(function(i){switch(i.label){case 0:return[4,function(t){return OE(t).then((function(t){return t.qc}))}(t)];case 1:return n=i.sent(),new kE(t.cs,n,e,r).run(),[2]}}))}))})),r.promise}(QE(this),(function(n){return t(new XE(e,n))}))},t.prototype.batch=function(){return QE(this),new JE(this)},t.prototype.H_=function(){return this.rf},t}();function QE(t){return t.nf||YE(t),t.nf.O_(),t.nf}function YE(t){var e=t.H_(),n=function(t,e,n){return new Cd(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.c_,t.Z_,e);t.nf=new IE(t.if,t.X_,n)}var XE=function(){function t(t,e){this.hf=t,this.lf=e}return t.prototype.get=function(t){var e=this,n=ck(0,t,this.hf);return this.lf.y_([n.u_]).then((function(t){if(!t||1!==t.length)return fd();var r=t[0];if(r instanceof iy)return new tk(e.hf,n.u_,null,!1,!1,n.h_);if(r instanceof ry)return new tk(e.hf,n.u_,r,!1,!1,n.h_);throw fd()}))},t.prototype.set=function(t,e,n){var r=ck(0,t,this.hf);n=qw("Transaction.set",n);var i=hk(r.h_,e,n),o=lE(this.hf.af,"Transaction.set",r.u_,i,null!==r.h_,n);return this.lf.set(r.u_,o),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"==typeof e||e instanceof Kw?(r=ck(0,t,this.hf),i=fE(this.hf.af,"Transaction.update",r.u_,e,n,o)):(r=ck(0,t,this.hf),i=hE(this.hf.af,"Transaction.update",r.u_,e)),this.lf.update(r.u_,i),this},t.prototype.delete=function(t){var e=ck(0,t,this.hf);return this.lf.delete(e.u_),this},t}(),JE=function(){function t(t){this.hf=t,this._f=[],this.ff=!1}return t.prototype.set=function(t,e,n){this.df();var r=ck(0,t,this.hf);n=qw("WriteBatch.set",n);var i=hk(r.h_,e,n),o=lE(this.hf.af,"WriteBatch.set",r.u_,i,null!==r.h_,n);return this._f=this._f.concat(o.l_(r.u_,Fg.ze())),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.df(),"string"==typeof e||e instanceof Kw?(r=ck(0,t,this.hf),i=fE(this.hf.af,"WriteBatch.update",r.u_,e,n,o)):(r=ck(0,t,this.hf),i=hE(this.hf.af,"WriteBatch.update",r.u_,e)),this._f=this._f.concat(i.l_(r.u_,Fg.exists(!0))),this},t.prototype.delete=function(t){this.df();var e=ck(0,t,this.hf);return this._f=this._f.concat(new Jg(e.u_,Fg.ze())),this},t.prototype.commit=function(){return this.df(),this.ff=!0,this._f.length>0?DE(QE(this.hf),this._f):Promise.resolve()},t.prototype.df=function(){if(this.ff)throw new od(id.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),$E=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n.c_,e,r)||this).u_=e,i.firestore=n,i.h_=r,i.nf=QE(n),i}return Object(nl.c)(e,t),e.uf=function(t,n,r){if(t.length%2!=0)throw new od(id.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.B()+" has "+t.length);return new e(new Fd(t),n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this.u_.path.k()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new uk(this.u_.path.F(),this.firestore,this.h_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.u_.path.B()},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(Vw("DocumentReference.collection","path",t),!t)throw new od(id.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=jd.q(t);return new uk(this.u_.path.child(e),this.firestore,null)},e.prototype.isEqual=function(t){return t instanceof e&&this.firestore===t.firestore&&this.u_.isEqual(t.u_)&&this.h_===t.h_},e.prototype.set=function(t,e){e=qw("DocumentReference.set",e);var n=hk(this.h_,t,e),r=lE(this.firestore.af,"DocumentReference.set",this.u_,n,null!==this.h_,e);return DE(this.nf,r.l_(this.u_,Fg.ze()))},e.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return n="string"==typeof t||t instanceof Kw?fE(this.firestore.af,"DocumentReference.update",this.u_,t,e,r):hE(this.firestore.af,"DocumentReference.update",this.u_,t),DE(this.nf,n.l_(this.u_,Fg.exists(!0)))},e.prototype.delete=function(){return DE(this.nf,[new Jg(this.u_,Fg.ze())])},e.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||FE(i[s])||(a=i[s],s++);var u={includeMetadataChanges:a.includeMetadataChanges};if(FE(i[s])){var c=i[s];i[s]=null===(t=c.next)||void 0===t?void 0:t.bind(c),i[s+1]=null===(e=c.error)||void 0===e?void 0:e.bind(c),i[s+2]=null===(n=c.complete)||void 0===n?void 0:n.bind(c)}var l={next:function(t){i[s]&&i[s](r.wf(t))},error:i[s+1],complete:i[s+2]};return jE(this.nf,uy(this.u_.path),u,l)},e.prototype.get=function(t){var e=this;return t&&"cache"===t.source?function(t,e){var n=this,r=new Vy;return t.cs.ws((function(){return Object(nl.b)(n,void 0,void 0,(function(){var n;return Object(nl.d)(this,(function(i){switch(i.label){case 0:return n=function(t){function e(e,n,r){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e,n){return Object(nl.b)(this,void 0,void 0,(function(){var r,i,o;return Object(nl.d)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(t,e){var n=dd(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Ka.Mi(t,e)}))}(t,e)];case 1:return(r=a.sent())instanceof ry?n.resolve(r):r instanceof iy?n.resolve(null):n.reject(new od(id.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=a.sent(),o=nm(i,"Failed to get document '"+e+" from cache"),n.reject(o),[3,3];case 3:return[2]}}))}))})),[4,NE(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(this.nf,this.u_).then((function(t){return new tk(e.firestore,e.u_,t,!0,t instanceof ry&&t.Je,e.h_)})):function(t,e,n){var r=this;void 0===n&&(n={});var i=new Vy;return t.cs.ws((function(){return Object(nl.b)(r,void 0,void 0,(function(){var r;return Object(nl.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Uw({next:function(o){e.ws((function(){return am(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new od(id.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new od(id.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new lm(uy(n.path),o,{includeMetadataChanges:!0,Xs:!0});return om(t,a)},[4,RE(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.cs,e,n,i])]}}))}))})),i.promise}(this.nf,this.u_,t).then((function(t){return e.wf(t)}))},e.prototype.withConverter=function(t){return new e(this.u_,this.firestore,t)},e.prototype.wf=function(t){var e=t.docs.get(this.u_);return new tk(this.firestore,this.u_,e,t.fromCache,t.hasPendingWrites,this.h_)},e}(iE),ZE=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),tk=function(){function t(t,e,n,r,i,o){this.hf=t,this.u_=e,this.Ef=n,this.Tf=r,this.If=i,this.h_=o}return t.prototype.data=function(t){var e=this;if(void 0===t&&(t={}),this.Ef){if(this.h_){var n=new ek(this.hf,this.u_,this.Ef,this.Tf,this.If,null);return this.h_.fromFirestore(n,t)}return new ME(this.hf.c_,t.serverTimestamps||"none",(function(t){return new $E(t,e.hf,null)}),(function(t){return new Id(t)})).U_(this.Ef.rn())}},t.prototype.get=function(t,e){var n=this;if(void 0===e&&(e={}),this.Ef){var r=this.Ef.data().field(mE("DocumentSnapshot.get",t,this.u_));if(null!==r)return new ME(this.hf.c_,e.serverTimestamps||"none",(function(t){return new $E(t,n.hf,n.h_)}),(function(t){return new Id(t)})).U_(r)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.u_.path.k()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new $E(this.u_,this.hf,this.h_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.Ef},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new ZE(this.If,this.Tf)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&this.hf===e.hf&&this.Tf===e.Tf&&this.u_.isEqual(e.u_)&&(null===this.Ef?null===e.Ef:this.Ef.isEqual(e.Ef))&&this.h_===e.h_},t}(),ek=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(nl.c)(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(tk);function nk(t,e,n){if("string"==typeof n){if(""===n)throw new od(id.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!py(e)&&-1!==n.indexOf("/"))throw new od(id.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(jd.q(n));if(!Fd.X(r))throw new od(id.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Fv(t,new Fd(r))}if(n instanceof iE)return Fv(t,n.u_);throw new od(id.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Hw(n)+".")}function rk(t,e){if(!Array.isArray(t)||0===t.length)throw new od(id.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new od(id.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function ik(t,e,n){if(!n.isEqual(e))throw new od(id.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function ok(t){if(ly(t)&&0===t.on.length)throw new od(id.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ak=function(){function t(t,e,n){this.mf=t,this.firestore=e,this.h_=n}return t.prototype.where=function(e,n,r){var i=mE("Query.where",e),o=function(t,e,n,r,i,o,a){var s;if(i.W()){if("array-contains"===o||"array-contains-any"===o)throw new od(id.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){rk(a,o);for(var u=[],c=0,l=a;c<l.length;c++)u.push(nk(r,t,l[c]));s={arrayValue:{values:u}}}else s=nk(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||rk(a,o),s=pE(n,"Query.where",a,"in"===o||"not-in"===o);var h=Iy.create(i,o,s);return function(t,e){if(e.hn()){var n=fy(t);if(null!==n&&!n.isEqual(e.field))throw new od(id.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=hy(t);null!==r&&ik(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new od(id.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(this.mf,0,this.firestore.af,this.firestore.c_,i,n,r);return new t(function(t,e){var n=t.filters.concat([e]);return new ay(t.path,t.collectionGroup,t.on.slice(),n,t.limit,t.an,t.startAt,t.endAt)}(this.mf,o),this.firestore,this.h_)},t.prototype.orderBy=function(e,n){var r;if(void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new od(id.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=mE("Query.orderBy",e),o=function(t,e,n){if(null!==t.startAt)throw new od(id.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new od(id.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Fy(e,n);return function(t,e){if(null===hy(t)){var n=fy(t);null!==n&&ik(0,n,e.field)}}(t,r),r}(this.mf,i,r);return new t(function(t,e){var n=t.on.concat([e]);return new ay(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.an,t.startAt,t.endAt)}(this.mf,o),this.firestore,this.h_)},t.prototype.limit=function(e){return zw("Query.limit",e),new t(gy(this.mf,e,"F"),this.firestore,this.h_)},t.prototype.limitToLast=function(e){return zw("Query.limitToLast",e),new t(gy(this.mf,e,"L"),this.firestore,this.h_)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Af("Query.startAt",e,n,!0);return new t(yy(this.mf,i),this.firestore,this.h_)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Af("Query.startAfter",e,n,!1);return new t(yy(this.mf,i),this.firestore,this.h_)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Af("Query.endBefore",e,n,!0);return new t(my(this.mf,i),this.firestore,this.h_)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Af("Query.endAt",e,n,!1);return new t(my(this.mf,i),this.firestore,this.h_)},t.prototype.isEqual=function(e){return e instanceof t&&this.firestore===e.firestore&&by(this.mf,e.mf)&&this.h_===e.h_},t.prototype.withConverter=function(e){return new t(this.mf,this.firestore,e)},t.prototype.Af=function(t,e,n,r){if(e instanceof tk)return function(t,e,n,r,i){if(!r)throw new od(id.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=dy(t);a<s.length;a++){var u=s[a];if(u.field.W())o.push(Fv(e,r.key));else{var c=r.field(u.field);if(Cv(c))throw new od(id.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.B();throw new od(id.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Ry(o,i)}(this.mf,this.firestore.c_,t,e.Ef,r);var i=[e].concat(n);return function(t,e,n,r,i,o){var a=t.on;if(i.length>a.length)throw new od(id.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.W()){if("string"!=typeof c)throw new od(id.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!py(t)&&-1!==c.indexOf("/"))throw new od(id.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(jd.q(c));if(!Fd.X(l))throw new od(id.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Fd(l);s.push(Fv(e,h))}else{var f=pE(n,r,c);s.push(f)}}return new Ry(s,o)}(this.mf,this.firestore.c_,this.firestore.af,t,i,r)},t.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var a={},s=0;if("object"!=typeof i[s]||FE(i[s])||(a=i[s],s++),FE(i[s])){var u=i[s];i[s]=null===(t=u.next)||void 0===t?void 0:t.bind(u),i[s+1]=null===(e=u.error)||void 0===e?void 0:e.bind(u),i[s+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}var c={next:function(t){i[s]&&i[s](new sk(r.firestore,r.mf,t,r.h_))},error:i[s+1],complete:i[s+2]};return ok(this.mf),jE(QE(this.firestore),this.mf,a,c)},t.prototype.get=function(t){var e=this;ok(this.mf);var n=QE(this.firestore);return(t&&"cache"===t.source?function(t,e){var n=this,r=new Vy;return t.cs.ws((function(){return Object(nl.b)(n,void 0,void 0,(function(){var n;return Object(nl.d)(this,(function(i){switch(i.label){case 0:return n=function(t){function e(e,n,r){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e,n){return Object(nl.b)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return Object(nl.d)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,Wb(t,e,!0)];case 1:return r=c.sent(),i=new q_(e,r.za),o=i.wh(r.documents),a=i.Di(o,!1),n.resolve(a.snapshot),[3,3];case 2:return s=c.sent(),u=nm(s,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))})),[4,NE(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,this.mf):function(t,e,n){var r=this;void 0===n&&(n={});var i=new Vy;return t.cs.ws((function(){return Object(nl.b)(r,void 0,void 0,(function(){var r;return Object(nl.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Uw({next:function(n){e.ws((function(){return am(t,a)})),n.fromCache&&"server"===r.source?i.reject(new od(id.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new lm(n,o,{includeMetadataChanges:!0,Xs:!0});return om(t,a)},[4,RE(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.cs,e,n,i])]}}))}))})),i.promise}(n,this.mf,t)).then((function(t){return new sk(e.firestore,e.mf,t,e.h_)}))},t}(),sk=function(){function t(t,e,n,r){this.hf=t,this.Rf=e,this.Pf=n,this.h_=r,this.gf=null,this.yf=null,this.metadata=new ZE(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.Pf.docs.P()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Pf.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.Pf.docs.forEach((function(r){t.call(e,n.Vf(r,n.metadata.fromCache,n.Pf.Qt.has(r.key)))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new ak(this.Rf,this.hf,this.h_)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=!(!t||!t.includeMetadataChanges);if(e&&this.Pf.jt)throw new od(id.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.gf&&this.yf===e||(this.gf=function(t,e,n){if(t.Kt.P()){var r=0;return t.docChanges.map((function(e){return{type:"added",doc:n(e.doc,t.fromCache,t.Qt.has(e.doc.key)),oldIndex:-1,newIndex:r++}}))}var i=t.Kt;return t.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var r=n(e.doc,t.fromCache,t.Qt.has(e.doc.key)),o=-1,a=-1;return 0!==e.type&&(o=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(a=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:lk(e.type),doc:r,oldIndex:o,newIndex:a}}))}(this.Pf,e,this.Vf.bind(this)),this.yf=e),this.gf},t.prototype.isEqual=function(e){return e instanceof t&&this.hf===e.hf&&by(this.Rf,e.Rf)&&this.Pf.isEqual(e.Pf)&&this.h_===e.h_},t.prototype.Vf=function(t,e,n){return new ek(this.hf,t.key,t,e,n,this.h_)},t}(),uk=function(t){function e(e,n,r){var i=this;if((i=t.call(this,uy(e),n,r)||this).pf=e,e.length%2!=1)throw new od(id.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.B()+" has "+e.length);return i}return Object(nl.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.mf.path.k()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.mf.path.F();return t.P()?null:new $E(new Fd(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.mf.path.B()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){0===arguments.length&&(t=gd.t()),Vw("CollectionReference.doc","path",t);var e=jd.q(t);return $E.uf(this.mf.path.child(e),this.firestore,this.h_)},e.prototype.add=function(t){var e=this.h_?this.h_.toFirestore(t):t,n=this.doc();return new $E(n.u_,this.firestore,null).set(e).then((function(){return n}))},e.prototype.withConverter=function(t){return new e(this.pf,this.firestore,t)},e}(ak);function ck(t,e,n){var r=function(t,e){if(!(t instanceof e)){if(e.name===t.constructor.name)throw new od(id.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Hw(t);throw new od(id.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}(e,$E);if(r.firestore!==n)throw new od(id.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function lk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fd()}}function hk(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var fk,pk=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(nl.c)(e,t),e.serverTimestamp=function(){var t=new Jw("serverTimestamp");return t.Jl="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Yw("deleteField");return t.Jl="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new $w("arrayUnion",t)}).apply(void 0,t);return r.Jl="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Zw("arrayRemove",t)}).apply(void 0,t);return r.Jl="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new tE("increment",t)}(t);return n.Jl="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.a_.isEqual(t.a_)},e}(nE),dk={Firestore:GE,GeoPoint:eE,Timestamp:Pd,Blob:Id,Transaction:XE,WriteBatch:JE,DocumentReference:$E,DocumentSnapshot:tk,Query:ak,QueryDocumentSnapshot:ek,QuerySnapshot:sk,CollectionReference:uk,FieldPath:Kw,FieldValue:pk,setLogLevel:function(t){ad.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new rd.a("firestore",(function(t){return function(t,e){return new GE(t,e,new KE)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},dk)))})(fk=el.a),fk.registerVersion("@firebase/firestore","2.0.1");var vk={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},gk=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return Object(nl.c)(e,t),e}(Error),yk=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}return t.prototype.getAuthToken=function(){return Object(nl.b)(this,void 0,void 0,(function(){var t;return Object(nl.d)(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getInstanceIdToken=function(){return Object(nl.b)(this,void 0,void 0,(function(){return Object(nl.d)(this,(function(t){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(e){return[2,void 0]}return[2]}))}))},t.prototype.getContext=function(){return Object(nl.b)(this,void 0,void 0,(function(){var t,e;return Object(nl.d)(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},t}();function mk(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var bk,_k,wk,Ek=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"==typeof t||"object"==typeof t)return mk(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"==typeof t||"object"==typeof t?mk(t,(function(t){return e.decode(t)})):t},t}(),kk=function(){function t(t,e,n,r,i){var o=this;void 0===r&&(r="us-central1"),this.app_=t,this.fetchImpl=i,this.serializer=new Ek,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(o.deleteService())}},this.contextProvider=new yk(e,n),this.cancelAllRequests=new Promise((function(t){o.deleteService=function(){return t()}}));try{var a=new URL(r);this.customDomain=a.origin,this.region="us-central1"}catch(s){this.customDomain=null,this.region=r}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t:null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return Object(nl.b)(this,void 0,void 0,(function(){var r,i;return Object(nl.d)(this,(function(o){switch(o.label){case 0:n["Content-Type"]="application/json",o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,r.json()];case 6:return i=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:r.status,json:i}]}}))}))},t.prototype.call=function(t,e,n){return Object(nl.b)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f;return Object(nl.d)(this,(function(p){switch(p.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},o={},[4,this.contextProvider.getContext()];case 1:return(a=p.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=function(t){var e,n=new Promise((function(n,r){e=setTimeout((function(){r(new gk("deadline-exceeded","deadline-exceeded"))}),t)}));return{timer:e,promise:n}}(n.timeout||7e4),u=s.timer,c=s.promise,[4,Promise.race([Ik(u,this.postJSON(r,i,o)),c,Ik(u,this.cancelAllRequests)])];case 2:if(!(l=p.sent()))throw new gk("cancelled","Firebase Functions instance was deleted.");if(h=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var a=e&&e.error;if(a){var s=a.status;if("string"==typeof s){if(!vk[s])return new gk("internal","internal");r=vk[s],i=s}var u=a.message;"string"==typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(c){}return"ok"===r?null:new gk(r,i,o)}(l.status,l.json,this.serializer))throw h;if(!l.json)throw new gk("internal","Response is not valid JSON object.");if(void 0===(f=l.json.data)&&(f=l.json.result),void 0===f)throw new gk("internal","Response is missing data field.");return[2,{data:this.serializer.decode(f)}]}}))}))},t}();function Ik(t,e){return Object(nl.b)(this,void 0,void 0,(function(){var n;return Object(nl.d)(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}}))}))}bk=el.a,_k=fetch.bind(self),wk={Functions:kk},bk.INTERNAL.registerComponent(new rd.a("functions",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("messaging");return new kk(n,r,i,e,_k)}),"PUBLIC").setServiceProps(wk).setMultipleInstances(!0)),el.a.registerVersion("@firebase/functions","0.6.1");var Ck,Tk=u("nbvr"),Sk=((Ck={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Ck["not-registered"]="Firebase Installation is not registered.",Ck["installation-not-found"]="Firebase Installation not found.",Ck["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Ck["app-offline"]="Could not process request. Application offline.",Ck["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Ck),Ok=new il.b("installations","Installations",Sk);function Ak(t){return t instanceof il.c&&t.code.includes("request-failed")}function Nk(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function Pk(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function xk(t,e){return Object(nl.b)(this,void 0,void 0,(function(){var n,r;return Object(nl.d)(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),[2,Ok.create("request-failed",{requestName:t,serverCode:(r=n.error).code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function Rk(t){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey})}function jk(t,e){var n=e.refreshToken,r=Rk(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}(n)),r}function Dk(t){return Object(nl.b)(this,void 0,void 0,(function(){var e;return Object(nl.d)(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function Lk(t,e){var n=e.fid;return Object(nl.b)(this,void 0,void 0,(function(){var e,r,i,o,a;return Object(nl.d)(this,(function(s){switch(s.label){case 0:return e=Nk(t),r=Rk(t),i={method:"POST",headers:r,body:JSON.stringify({fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:"w:0.4.19"})},[4,Dk((function(){return fetch(e,i)}))];case 1:return(o=s.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(a=s.sent()).fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:Pk(a.authToken)}];case 3:return[4,xk("Create Installation",o)];case 4:throw s.sent()}}))}))}function Fk(t){return new Promise((function(e){setTimeout(e,t)}))}var Mk=/^[cdef][\w-]{21}$/;function Uk(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,Object(nl.f)(e))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return Mk.test(e)?e:""}catch(n){return""}}function Vk(t){return t.appName+"!"+t.appId}var qk=new Map;function Bk(t,e){var n=Vk(t);Hk(n,e),function(t,e){var n=Wk();n&&n.postMessage({key:t,fid:e}),Kk()}(n,e)}function Hk(t,e){var n,r,i=qk.get(t);if(i)try{for(var o=Object(nl.h)(i),a=o.next();!a.done;a=o.next())(0,a.value)(e)}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var zk=null;function Wk(){return!zk&&"BroadcastChannel"in self&&((zk=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){Hk(t.data.key,t.data.fid)}),zk}function Kk(){0===qk.size&&zk&&(zk.close(),zk=null)}var Gk,Qk="firebase-installations-store",Yk=null;function Xk(){return Yk||(Yk=Object(Tk.openDb)("firebase-installations-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(Qk)}}))),Yk}function Jk(t,e){return Object(nl.b)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(nl.d)(this,(function(s){switch(s.label){case 0:return n=Vk(t),[4,Xk()];case 1:return r=s.sent(),i=r.transaction(Qk,"readwrite"),[4,(o=i.objectStore(Qk)).get(n)];case 2:return a=s.sent(),[4,o.put(e,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===e.fid||Bk(t,e.fid),[2,e]}}))}))}function $k(t){return Object(nl.b)(this,void 0,void 0,(function(){var e,n,r;return Object(nl.d)(this,(function(i){switch(i.label){case 0:return e=Vk(t),[4,Xk()];case 1:return n=i.sent(),[4,(r=n.transaction(Qk,"readwrite")).objectStore(Qk).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function Zk(t,e){return Object(nl.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Object(nl.d)(this,(function(u){switch(u.label){case 0:return n=Vk(t),[4,Xk()];case 1:return r=u.sent(),i=r.transaction(Qk,"readwrite"),[4,(o=i.objectStore(Qk)).get(n)];case 2:return a=u.sent(),void 0!==(s=e(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||Bk(t,s.fid),[2,s]}}))}))}function tI(t){return Object(nl.b)(this,void 0,void 0,(function(){var e,n,r;return Object(nl.d)(this,(function(i){switch(i.label){case 0:return[4,Zk(t,(function(n){var r=function(t){return rI(t||{fid:Uk(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ok.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return Object(nl.b)(this,void 0,void 0,(function(){var n,r;return Object(nl.d)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,Lk(t,e)];case 1:return n=i.sent(),[2,Jk(t,n)];case 2:return Ak(r=i.sent())&&409===r.customData.serverCode?[4,$k(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Jk(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:eI(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function eI(t){return Object(nl.b)(this,void 0,void 0,(function(){var e,n,r,i;return Object(nl.d)(this,(function(o){switch(o.label){case 0:return[4,nI(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,Fk(100)];case 3:return o.sent(),[4,nI(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,tI(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}}))}))}function nI(t){return Zk(t,(function(t){if(!t)throw Ok.create("installation-not-found");return rI(t)}))}function rI(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function iI(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return Object(nl.b)(this,void 0,void 0,(function(){var t,i,o,a,s;return Object(nl.d)(this,(function(u){switch(u.label){case 0:return t=function(t,e){var n=e.fid;return Nk(t)+"/"+n+"/authTokens:generate"}(n,e),i=jk(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:"w:0.4.19"}})},[4,Dk((function(){return fetch(t,a)}))];case 1:return(s=u.sent()).ok?[4,s.json()]:[3,3];case 2:return[2,Pk(u.sent())];case 3:return[4,xk("Generate Auth Token",s)];case 4:throw u.sent()}}))}))}function oI(t,e){return void 0===e&&(e=!1),Object(nl.b)(this,void 0,void 0,(function(){var n,r,i;return Object(nl.d)(this,(function(o){switch(o.label){case 0:return[4,Zk(t.appConfig,(function(r){if(!sI(r))throw Ok.create("not-registered");var i,o=r.authToken;if(!e&&2===(i=o).requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(i))return r;if(1===o.requestStatus)return n=function(t,e){return Object(nl.b)(this,void 0,void 0,(function(){var n,r;return Object(nl.d)(this,(function(i){switch(i.label){case 0:return[4,aI(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,Fk(100)];case 3:return i.sent(),[4,aI(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,oI(t,e)]:[2,r]}}))}))}(t,e),r;if(!navigator.onLine)throw Ok.create("app-offline");var a=function(t){var e={requestStatus:1,requestTime:Date.now()};return Object(nl.a)(Object(nl.a)({},t),{authToken:e})}(r);return n=function(t,e){return Object(nl.b)(this,void 0,void 0,(function(){var n,r,i;return Object(nl.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,iI(t,e)];case 1:return n=o.sent(),i=Object(nl.a)(Object(nl.a)({},e),{authToken:n}),[4,Jk(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!Ak(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,$k(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Object(nl.a)(Object(nl.a)({},e),{authToken:{requestStatus:0}}),[4,Jk(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,a),a}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function aI(t){return Zk(t,(function(t){if(!sI(t))throw Ok.create("not-registered");var e;return 1===(e=t.authToken).requestStatus&&e.requestTime+1e4<Date.now()?Object(nl.a)(Object(nl.a)({},t),{authToken:{requestStatus:0}}):t}))}function sI(t){return void 0!==t&&2===t.registrationStatus}function uI(t){return Object(nl.b)(this,void 0,void 0,(function(){var e;return Object(nl.d)(this,(function(n){switch(n.label){case 0:return[4,tI(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function cI(t,e){return Object(nl.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(nl.d)(this,(function(a){switch(a.label){case 0:return n=function(t,e){var n=e.fid;return Nk(t)+"/"+n}(t,e),r=jk(t,e),i={method:"DELETE",headers:r},[4,Dk((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,xk("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function lI(t){return Ok.create("missing-app-config-values",{valueName:t})}!function(t){t.INTERNAL.registerComponent(new rd.a("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw lI("App Configuration");if(!t.name)throw lI("App Name");try{for(var r=Object(nl.h)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw lI(o)}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return Object(nl.b)(this,void 0,void 0,(function(){var e,n,r;return Object(nl.d)(this,(function(i){switch(i.label){case 0:return[4,tI(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):oI(t).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),Object(nl.b)(this,void 0,void 0,(function(){return Object(nl.d)(this,(function(n){switch(n.label){case 0:return[4,uI(t.appConfig)];case 1:return n.sent(),[4,oI(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return Object(nl.b)(this,void 0,void 0,(function(){var e,n;return Object(nl.d)(this,(function(r){switch(r.label){case 0:return[4,Zk(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw Ok.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw Ok.create("app-offline");case 3:return[4,cI(e,n)];case 4:return r.sent(),[4,$k(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return function(t,e){var n=t.appConfig;return function(t,e){Wk();var n=Vk(t),r=qk.get(n);r||(r=new Set,qk.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=Vk(t),r=qk.get(n);r&&(r.delete(e),0===r.size&&qk.delete(n),Kk())}(n,e)}}(n,t)}}}),"PUBLIC")),t.registerVersion("@firebase/installations","0.4.19")}(el.a);var hI=((Gk={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Gk["only-available-in-window"]="This method is available in a Window context.",Gk["only-available-in-sw"]="This method is available in a service worker context.",Gk["permission-default"]="The notification permission was not granted and dismissed instead.",Gk["permission-blocked"]="The notification permission was not granted and blocked instead.",Gk["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Gk["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Gk["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",Gk["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Gk["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",Gk["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",Gk["token-update-no-token"]="FCM returned no token when updating the user to push.",Gk["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Gk["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Gk["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Gk["invalid-vapid-key"]="The public VAPID key must be a string.",Gk["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Gk),fI=new il.b("messaging","Messaging",hI),pI="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",dI=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}({});function vI(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,Object(nl.f)(e))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function gI(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}function yI(t){return Object(nl.b)(this,void 0,void 0,(function(){var e,n=this;return Object(nl.d)(this,(function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!r.sent().map((function(t){return t.name})).includes("fcm_token_details_db"))return[2,null];r.label=2;case 2:return e=null,[4,Object(Tk.openDb)("fcm_token_details_db",5,(function(r){return Object(nl.b)(n,void 0,void 0,(function(){var n,i,o,a;return Object(nl.d)(this,(function(s){switch(s.label){case 0:return r.oldVersion<2?[2]:r.objectStoreNames.contains("fcm_token_object_Store")?[4,(n=r.transaction.objectStore("fcm_token_object_Store")).index("fcmSenderId").get(t)]:[2];case 1:return i=s.sent(),[4,n.clear()];case 2:if(s.sent(),!i)return[2];if(2===r.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];e={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:vI(o.vapidKey)}}}else(3===r.oldVersion||4===r.oldVersion)&&(e={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:vI(o.auth),p256dh:vI(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:vI(o.vapidKey)}});return[2]}}))}))}))];case 3:return r.sent().close(),[4,Object(Tk.deleteDb)("fcm_token_details_db")];case 4:return r.sent(),[4,Object(Tk.deleteDb)("fcm_vapid_details_db")];case 5:return r.sent(),[4,Object(Tk.deleteDb)("undefined")];case 6:return r.sent(),[2,mI(e)?e:null]}}))}))}function mI(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}var bI=null;function _I(){return bI||(bI=Object(Tk.openDb)("firebase-messaging-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore("firebase-messaging-store")}}))),bI}function wI(t){return Object(nl.b)(this,void 0,void 0,(function(){var e,n,r;return Object(nl.d)(this,(function(i){switch(i.label){case 0:return e=II(t),[4,_I()];case 1:return[4,i.sent().transaction("firebase-messaging-store").objectStore("firebase-messaging-store").get(e)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,yI(t.appConfig.senderId)];case 4:return(r=i.sent())?[4,EI(t,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function EI(t,e){return Object(nl.b)(this,void 0,void 0,(function(){var n,r,i;return Object(nl.d)(this,(function(o){switch(o.label){case 0:return n=II(t),[4,_I()];case 1:return r=o.sent(),[4,(i=r.transaction("firebase-messaging-store","readwrite")).objectStore("firebase-messaging-store").put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}}))}))}function kI(t){return Object(nl.b)(this,void 0,void 0,(function(){var e,n,r;return Object(nl.d)(this,(function(i){switch(i.label){case 0:return e=II(t),[4,_I()];case 1:return n=i.sent(),[4,(r=n.transaction("firebase-messaging-store","readwrite")).objectStore("firebase-messaging-store").delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function II(t){return t.appConfig.appId}function CI(t,e){return Object(nl.b)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(nl.d)(this,(function(s){switch(s.label){case 0:return[4,AI(t)];case 1:n=s.sent(),r=NI(e),i={method:"POST",headers:n,body:JSON.stringify(r)},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(OI(t.appConfig),i)];case 3:return[4,s.sent().json()];case 4:return o=s.sent(),[3,6];case 5:throw a=s.sent(),fI.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw fI.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw fI.create("token-subscribe-no-token");return[2,o.token]}}))}))}function TI(t,e){return Object(nl.b)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(nl.d)(this,(function(s){switch(s.label){case 0:return[4,AI(t)];case 1:n=s.sent(),r=NI(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(OI(t.appConfig)+"/"+e.token,i)];case 3:return[4,s.sent().json()];case 4:return o=s.sent(),[3,6];case 5:throw a=s.sent(),fI.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw fI.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw fI.create("token-update-no-token");return[2,o.token]}}))}))}function SI(t,e){return Object(nl.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(nl.d)(this,(function(a){switch(a.label){case 0:return[4,AI(t)];case 1:n=a.sent(),r={method:"DELETE",headers:n},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(OI(t.appConfig)+"/"+e,r)];case 3:return[4,a.sent().json()];case 4:if((i=a.sent()).error)throw fI.create("token-unsubscribe-failed",{errorInfo:i.error.message});return[3,6];case 5:throw o=a.sent(),fI.create("token-unsubscribe-failed",{errorInfo:o});case 6:return[2]}}))}))}function OI(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function AI(t){var e=t.appConfig,n=t.installations;return Object(nl.b)(this,void 0,void 0,(function(){var t;return Object(nl.d)(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}}))}))}function NI(t){var e=t.vapidKey,n={web:{endpoint:t.endpoint,auth:t.auth,p256dh:t.p256dh}};return e!==pI&&(n.web.applicationPubKey=e),n}function PI(t,e,n){return Object(nl.b)(this,void 0,void 0,(function(){var r,i,o,a;return Object(nl.d)(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw fI.create("permission-blocked");return[4,DI(e,n)];case 1:return r=s.sent(),[4,wI(t)];case 2:return i=s.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:vI(r.getKey("auth")),p256dh:vI(r.getKey("p256dh"))},i?[3,3]:[2,jI(t,o)];case 3:if(l=(c=o).endpoint===(u=i.subscriptionOptions).endpoint,c.vapidKey===u.vapidKey&&l&&c.auth===u.auth&&c.p256dh===u.p256dh)return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,SI(t,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,jI(t,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,RI({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}var u,c,l}))}))}function xI(t,e){return Object(nl.b)(this,void 0,void 0,(function(){var n,r;return Object(nl.d)(this,(function(i){switch(i.label){case 0:return[4,wI(t)];case 1:return(n=i.sent())?[4,SI(t,n.token)]:[3,4];case 2:return i.sent(),[4,kI(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function RI(t,e,n){return Object(nl.b)(this,void 0,void 0,(function(){var r,i,o;return Object(nl.d)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,TI(e,t)];case 1:return r=a.sent(),i=Object(nl.a)(Object(nl.a)({},t),{token:r,createTime:Date.now()}),[4,EI(e,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,xI(e,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}function jI(t,e){return Object(nl.b)(this,void 0,void 0,(function(){var n,r;return Object(nl.d)(this,(function(i){switch(i.label){case 0:return[4,CI(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,EI(t,r)];case 2:return i.sent(),[2,r.token]}}))}))}function DI(t,e){return Object(nl.b)(this,void 0,void 0,(function(){var n;return Object(nl.d)(this,(function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:gI(e)})]}}))}))}function LI(t){return"object"==typeof t&&!!t&&"google.c.a.c_id"in t}function FI(t){return new Promise((function(e){setTimeout(e,t)}))}var MI=function(){function t(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(t){t.waitUntil(e.onPush(t))})),self.addEventListener("pushsubscriptionchange",(function(t){t.waitUntil(e.onSubChange(t))})),self.addEventListener("notificationclick",(function(t){t.waitUntil(e.onNotificationClick(t))}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!=typeof t)throw fI.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},t.prototype.getToken=function(){var t,e;return Object(nl.b)(this,void 0,void 0,(function(){var n;return Object(nl.d)(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,wI(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null==n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:pI,r.label=2;case 2:return[2,PI(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},t.prototype.deleteToken=function(){return xI(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw fI.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw fI.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw fI.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw fI.create("only-available-in-window")},t.prototype.onMessage=function(){throw fI.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw fI.create("only-available-in-window")},t.prototype.onPush=function(t){return Object(nl.b)(this,void 0,void 0,(function(){var e,n,r,i;return Object(nl.d)(this,(function(o){switch(o.label){case 0:return(e=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(n){return null}}(t))?[4,BI()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(t){return t.some((function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,qI(n,e)]:(r=!1,e.notification?[4,HI(UI(e))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(t){var e={from:t.from,collapseKey:t.collapse_key};return function(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}(e,t),e}(e),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,FI(1e3)]);case 4:return o.sent(),[2]}}))}))},t.prototype.onSubChange=function(t){var e,n;return Object(nl.b)(this,void 0,void 0,(function(){var r;return Object(nl.d)(this,(function(i){switch(i.label){case 0:return t.newSubscription?[3,2]:[4,xI(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,wI(this.firebaseDependencies)];case 3:return r=i.sent(),[4,xI(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,PI(this.firebaseDependencies,self.registration,null!==(n=null===(e=null==r?void 0:r.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:pI)];case 5:return i.sent(),[2]}}))}))},t.prototype.onNotificationClick=function(t){var e,n;return Object(nl.b)(this,void 0,void 0,(function(){var r,i,o,a,s;return Object(nl.d)(this,(function(u){switch(u.label){case 0:return(r=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n.FCM_MSG)?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(i=function(t){var e,n,r;return(null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action)||(LI(t.data)?self.location.origin:null)}(r))?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,VI(o)]):[2]):[2];case 1:return(s=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,FI(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=dI.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}}))}))},t}();function UI(t){var e,n=Object(nl.a)({},t.notification);return n.data=((e={}).FCM_MSG=t,e),n}function VI(t){return Object(nl.b)(this,void 0,void 0,(function(){var e,n,r,i,o,a,s;return Object(nl.d)(this,(function(u){switch(u.label){case 0:return[4,BI()];case 1:e=u.sent();try{for(n=Object(nl.h)(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(c){a={error:c}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}function qI(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=dI.PUSH_RECEIVED;try{for(var i=Object(nl.h)(t),o=i.next();!o.done;o=i.next())o.value.postMessage(e)}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function BI(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function HI(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}var zI=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(t){return e.messageEventListener(t)}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(t){return Object(nl.b)(this,void 0,void 0,(function(){var e,n;return Object(nl.d)(this,(function(r){switch(r.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===dI.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(t){return delete t.messageType,delete t.isFirebaseMessaging,t}(Object.assign({},e))):this.onMessageCallback.next(Object.assign({},e))),LI(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(t){return Object(nl.b)(this,void 0,void 0,(function(){return Object(nl.d)(this,(function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw fI.create("permission-blocked");return[4,this.updateVapidKey(null==t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null==t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,PI(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},t.prototype.updateVapidKey=function(t){return Object(nl.b)(this,void 0,void 0,(function(){return Object(nl.d)(this,(function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=pI),[2]}))}))},t.prototype.updateSwReg=function(t){return Object(nl.b)(this,void 0,void 0,(function(){return Object(nl.d)(this,(function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw fI.create("invalid-sw-registration");return this.swRegistration=t,[2]}}))}))},t.prototype.registerDefaultSw=function(){return Object(nl.b)(this,void 0,void 0,(function(){var t,e;return Object(nl.d)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw e=n.sent(),fI.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}}))}))},t.prototype.deleteToken=function(){return Object(nl.b)(this,void 0,void 0,(function(){return Object(nl.d)(this,(function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,xI(this.firebaseDependencies,this.swRegistration)]}}))}))},t.prototype.requestPermission=function(){return Object(nl.b)(this,void 0,void 0,(function(){var t;return Object(nl.d)(this,(function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw fI.create("denied"===t?"permission-blocked":"permission-default")}}))}))},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw fI.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw fI.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw fI.create("invalid-sw-registration");if(this.swRegistration)throw fI.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw fI.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw fI.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(t,e){return Object(nl.b)(this,void 0,void 0,(function(){var n;return Object(nl.d)(this,(function(r){switch(r.label){case 0:return n=function(t){switch(t){case dI.NOTIFICATION_CLICKED:return"notification_open";case dI.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:e["google.c.a.c_id"],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},t}();function WI(t){return fI.create("missing-app-config-values",{valueName:t})}var KI={isSupported:GI};function GI(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}el.a.INTERNAL.registerComponent(new rd.a("messaging",(function(t){var e=t.getProvider("app").getImmediate(),n={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw WI("App Configuration Object");if(!t.name)throw WI("App Name");var r=t.options;try{for(var i=Object(nl.h)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw WI(a)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!GI())throw fI.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new MI(n):new zI(n)}),"PUBLIC").setServiceProps(KI));var QI=function(t){function e(n,r){var i=t.call(this,YI(n),"Firebase Storage: "+r)||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return Object(nl.c)(e,t),e.prototype.codeEquals=function(t){return YI(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(il.c);function YI(t){return"storage/"+t}function XI(){return new QI("unknown","An unknown error occurred, please check the error payload for server response.")}function JI(){return new QI("canceled","User canceled the upload/download.")}function $I(){return new QI("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function ZI(){return new QI("app-deleted","The Firebase app was deleted.")}function tC(t,e){return new QI("invalid-format","String does not match format '"+t+"': "+e)}function eC(t){throw new QI("internal-error","Internal error: "+t)}var nC={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},rC=function(t,e){this.data=t,this.contentType=e||null};function iC(t,e){switch(t){case nC.RAW:return new rC(oC(e));case nC.BASE64:case nC.BASE64URL:return new rC(aC(t,e));case nC.DATA_URL:return new rC((n=new sC(e)).base64?aC(nC.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw tC(nC.DATA_URL,"Malformed data URL.")}return oC(e)}(n.rest),new sC(e).contentType)}var n;throw XI()}function oC(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function aC(t,e){switch(t){case nC.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw tC(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case nC.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw tC(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(e)}catch(c){throw tC(t,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var sC=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw tC(nC.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)},uC={STATE_CHANGED:"state_changed"},cC={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function lC(t){switch(t){case"running":case"pausing":case"canceling":return cC.RUNNING;case"paused":return cC.PAUSED;case"success":return cC.SUCCESS;case"canceled":return cC.CANCELED;case"error":default:return cC.ERROR}}function hC(t){return null!=t}function fC(t){return"string"==typeof t||t instanceof String}function pC(t){return dC()&&t instanceof Blob}function dC(){return"undefined"!=typeof Blob}function vC(t,e,n,r){if(r<e)throw new QI("invalid-argument","Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw new QI("invalid-argument","Invalid value for '"+t+"'. Expected "+n+" or less.")}var gC=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),yC=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=gC.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=gC.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=gC.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw eC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),hC(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return hC(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw eC("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw eC("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw eC("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){hC(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){hC(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),mC=function(){function t(){}return t.prototype.createXhrIo=function(){return new yC},t}();function bC(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function _C(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=bC();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(dC())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}var wC=function(){function t(t,e){var n=0,r="";pC(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(pC(this.data_)){var r=(o=e,a=n,(i=this.data_).webkitSlice?i.webkitSlice(o,a):i.mozSlice?i.mozSlice(o,a):i.slice?i.slice(o,a):null);return null===r?null:new t(r)}var i,o,a;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(dC()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(_C.apply(null,r))}var i=e.map((function(t){return fC(t)?iC(nC.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]})),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}(),EC=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(r){return new t(e,"")}if(""===n.path)return n;throw new QI("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function i(t){t.path_=decodeURIComponent(t.path)}for(var o="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),a=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],s=0;s<a.length;s++){var u=a[s],c=u.regex.exec(e);if(c){var l=c[u.indices.path];l||(l=""),n=new t(c[u.indices.bucket],l),u.postModify(n);break}}if(null==n)throw function(t){return new QI("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function kC(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function IC(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function CC(t){return"https://firebasestorage.googleapis.com/v0"+t}function TC(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function SC(t,e){return e}var OC=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||SC},AC=null;function NC(t,e,n){var r=kC(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new EC(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function PC(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var xC=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function RC(t){if(!t)throw XI()}function jC(t,e){return function(n,r){var i=NC(t,r,e);return RC(null!==i),i}}function DC(t){return function(e,n){var r;return(r=401===e.getStatus()?new QI("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new QI("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new QI("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function LC(t){var e=DC(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new QI("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function FC(t,e,n){var r=CC(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new xC(r,"GET",jC(t,n),i);return o.errorHandler=LC(e),o}function MC(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var UC=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function VC(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){RC(!1)}return RC(!!n&&-1!==(e||["active"]).indexOf(n)),n}var qC=function(t,e,n){if("function"==typeof t||hC(e)||hC(n))this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}},BC=function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o};function HC(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var zC=function(){function t(t,e,n,r,i,o){var a=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.service_=e,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_="running",this.errorHandler_=function(t){a.request_=null,a.chunkMultiplier_=1,t.codeEquals("canceled")?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=t,a.transition_("error"))},this.metadataErrorHandler_=function(t){a.request_=null,t.codeEquals("canceled")?a.completeTransitions_():(a.error_=t,a.transition_("error"))},this.promise_=new Promise((function(t,e){a.resolve_=t,a.reject_=e,a.start_()})),this.promise_.then(null,(function(){}))}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n){return t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){"running"===this.state_&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.service_.getAuthToken().then((function(n){switch(e.state_){case"running":t(n);break;case"canceling":e.transition_("canceled");break;case"pausing":e.transition_("paused")}}))},t.prototype.createResumable_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=MC(e,r,i),s={name:a.fullPath},u=CC(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=PC(a,n),h=new xC(u,"POST",(function(t){var e;VC(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){RC(!1)}return RC(fC(e)),e}),t.maxUploadRetryTime);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=DC(e),h}(t.service_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_((function(n){var r=function(t,e,n,r){var i=new xC(n,"POST",(function(t){var e=VC(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){RC(!1)}n||RC(!1);var i=Number(n);return RC(!isNaN(i)),new UC(i,r.size(),"final"===e)}),t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=DC(e),i}(t.service_,t.location_,e,t.blob_),i=t.service_.makeRequest(r,n);t.request_=i,i.getPromise().then((function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new UC(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(i){var o;try{o=function(t,e,n,r,i,o,a,s){var u=new UC(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new QI("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},p=r.slice(h,h+l);if(null===p)throw $I();var d=new xC(n,"POST",(function(t,n){var i,a=VC(t,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?jC(e,o)(t,n):null,new UC(s,c,"final"===a,i)}),e.maxUploadRetryTime);return d.headers=f,d.body=p.uploadData(),d.progressCallback=s||null,d.errorHandler=DC(t),d}(t.location_,t.service_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(s){return t.error_=s,void t.transition_("error")}var a=t.service_.makeRequest(o,i);t.request_=a,a.getPromise().then((function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_("success")):t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_((function(e){var n=FC(t.service_,t.location_,t.mappings_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.transition_("success")}),t.metadataErrorHandler_)}))},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var u=MC(e,r,i),c=PC(u,n),l=wC.getBlob("--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+s+"--");if(null===l)throw $I();var h={name:u.fullPath},f=CC(o),p=t.maxUploadRetryTime,d=new xC(f,"POST",jC(t,n),p);return d.urlParams=h,d.headers=a,d.body=l.uploadData(),d.errorHandler=DC(e),d}(t.service_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_("success")}),t.errorHandler_)}))},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case"canceling":case"pausing":this.state_=t,null!==this.request_&&this.request_.cancel();break;case"running":var e="paused"===this.state_;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case"paused":this.state_=t,this.notifyObservers_();break;case"canceled":this.error_=JI(),this.state_=t,this.notifyObservers_();break;case"error":case"success":this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case"pausing":this.transition_("paused");break;case"canceling":this.transition_("canceled");break;case"running":this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=lC(this.state_);return new BC(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new qC(e,n,r);return this.addObserver_(o),function(){i.removeObserver_(o)}},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e=this.observers_.indexOf(t);-1!==e&&this.observers_.splice(e,1)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),this.observers_.slice().forEach((function(e){t.notifyObserver_(e)}))},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(lC(this.state_)){case cC.SUCCESS:HC(this.resolve_.bind(null,this.snapshot))();break;case cC.CANCELED:case cC.ERROR:HC(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(lC(this.state_)){case cC.RUNNING:case cC.PAUSED:t.next&&HC(t.next.bind(t,this.snapshot))();break;case cC.SUCCESS:t.complete&&HC(t.complete.bind(t))();break;case cC.CANCELED:case cC.ERROR:t.error&&HC(t.error.bind(t,this.error_))();break;default:t.error&&HC(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){var t="paused"===this.state_||"pausing"===this.state_;return t&&this.transition_("running"),t},t.prototype.pause=function(){var t="running"===this.state_;return t&&this.transition_("pausing"),t},t.prototype.cancel=function(){var t="running"===this.state_||"pausing"===this.state_;return t&&this.transition_("canceling"),t},t}(),WC=function(){function t(t,e){this.service=t,this.location=e instanceof EC?e:EC.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return function(){if(AC)return AC;var t=[];t.push(new OC("bucket")),t.push(new OC("generation")),t.push(new OC("metageneration")),t.push(new OC("name","fullPath",!0));var e=new OC("name");e.xform=function(t,e){return function(t){return!fC(t)||t.length<2?t:IC(t)}(e)},t.push(e);var n=new OC("size");return n.xform=function(t,e){return hC(e)?Number(e):e},t.push(n),t.push(new OC("timeCreated")),t.push(new OC("updated")),t.push(new OC("md5Hash",null,!0)),t.push(new OC("cacheControl",null,!0)),t.push(new OC("contentDisposition",null,!0)),t.push(new OC("contentEncoding",null,!0)),t.push(new OC("contentLanguage",null,!0)),t.push(new OC("contentType",null,!0)),t.push(new OC("metadata","customMetadata",!0)),AC=t}()},t.prototype.child=function(t){var e=function(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}(this.location.path,t),n=new EC(this.location.bucket,e);return this.newRef(this.service,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new EC(this.location.bucket,t);return this.newRef(this.service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new EC(this.location.bucket,"");return this.newRef(this.service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return IC(this.location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.service},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),this.throwIfRoot_("put"),new zC(this,this.service,this.location,this.mappings(),new wC(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=nC.RAW),this.throwIfRoot_("putString");var r=iC(e,t),i=Object.assign({},n);return!hC(i.contentType)&&hC(r.contentType)&&(i.contentType=r.contentType),new zC(this,this.service,this.location,this.mappings(),new wC(r.data,!0),i)},t.prototype.delete=function(){var t=this;return this.throwIfRoot_("delete"),this.service.getAuthToken().then((function(e){var n=function(t,e){var n=CC(e.fullServerUrl()),r=new xC(n,"DELETE",(function(t,e){}),t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=LC(e),r}(t.service,t.location);return t.service.makeRequest(n,e).getPromise()}))},t.prototype.listAll=function(){var t={prefixes:[],items:[]};return this.listAllHelper(t).then((function(){return t}))},t.prototype.listAllHelper=function(t,e){return Object(nl.b)(this,void 0,void 0,(function(){var n,r,i;return Object(nl.d)(this,(function(o){switch(o.label){case 0:return[4,this.list({pageToken:e})];case 1:return n=o.sent(),(r=t.prefixes).push.apply(r,n.prefixes),(i=t.items).push.apply(i,n.items),null==n.nextPageToken?[3,3]:[4,this.listAllHelper(t,n.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))},t.prototype.list=function(t){var e=this,n=t||{};return"number"==typeof n.maxResults&&vC("options.maxResults",1,1e3,n.maxResults),this.service.getAuthToken().then((function(t){var r=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/","/".length>0&&(o.delimiter="/"),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=CC(e.bucketOnlyServerUrl()),s=t.maxOperationRetryTime,u=new xC(a,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=kC(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=t.makeStorageReference(new EC(e,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)s=t.makeStorageReference(new EC(e,c[u].name)),r.items.push(s);return r}(t,e,r)}(t,e,r);return RC(null!==i),i}}(t,e.bucket),s);return u.urlParams=o,u.errorHandler=DC(e),u}(e.service,e.location,0,n.pageToken,n.maxResults);return e.service.makeRequest(r,t).getPromise()}))},t.prototype.getMetadata=function(){var t=this;return this.throwIfRoot_("getMetadata"),this.service.getAuthToken().then((function(e){var n=FC(t.service,t.location,t.mappings());return t.service.makeRequest(n,e).getPromise()}))},t.prototype.updateMetadata=function(t){var e=this;return this.throwIfRoot_("updateMetadata"),this.service.getAuthToken().then((function(n){var r=function(t,e,n,r){var i=CC(e.fullServerUrl()),o=PC(n,r),a=t.maxOperationRetryTime,s=new xC(i,"PATCH",jC(t,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=LC(e),s}(e.service,e.location,t,e.mappings());return e.service.makeRequest(r,n).getPromise()}))},t.prototype.getDownloadURL=function(){var t=this;return this.throwIfRoot_("getDownloadURL"),this.service.getAuthToken().then((function(e){var n=function(t,e,n){var r=CC(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new xC(r,"GET",function(t,e){return function(n,r){var i=NC(t,r,e);return RC(null!==i),function(t,e){var n=kC(e);if(null===n)return null;if(!fC(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.fullPath;return CC("/b/"+i(t.bucket)+"/o/"+i(n))+TC({alt:"media",token:e})}))[0]}(i,r)}}(t,n),i);return o.errorHandler=LC(e),o}(t.service,t.location,t.mappings());return t.service.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw new QI("no-download-url","The given file does not have any download URLs.");return t}))}))},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new QI("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},t}(),KC=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),GC=function(){function t(t,e,n,r,i,o,a,s,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,a=n.xhr;if(n.wasSuccessCode)try{var s=t.callback_(a,a.getResponseText());void 0!==s?i(s):i()}catch(u){o(u)}else null!==a?((r=XI()).serverResponse=a.getResponseText(),o(t.errorCallback_?t.errorCallback_(a,r):r)):o(r=n.canceled?t.appDelete_?ZI():JI():new QI("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new QC(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,a=!1,s=0;function u(){return 2===s}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout((function(){o=null,function(e,n){if(n)e(!1,new QC(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===gC.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var a=-1!==t.successCodes_.indexOf(o);e(!0,new QC(a,n))}else{var s=n.getErrorCode()===gC.ABORT;e(!1,new QC(!1,null,s))}}))}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,u())}),e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(nl.g)([null,t],e));else{var r;u()||a?l.call.apply(l,Object(nl.g)([null,t],e)):(i<64&&(i*=2),1===s?(s=2,r=0):r=1e3*(i+Math.random()),h(r))}}var p=!1;function d(t){p||(p=!0,c||(null!==o?(t||(s=2),clearTimeout(o),h(0)):t||(s=1)))}return h(0),setTimeout((function(){a=!0,d(!0)}),r),d}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),QC=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n},YC=function(){function t(e,n,r,i){var o;this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=e,this.authProvider_=n,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e5,this.requests_=new Set,this.pool_=r,this.bucket_=null!=i?EC.makeFromBucketSpec(i):t.extractBucket_(null===(o=this.app_)||void 0===o?void 0:o.options),this.internals_=new XC(this)}return t.extractBucket_=function(t){var e=null==t?void 0:t.storageBucket;return null==e?null:EC.makeFromBucketSpec(e)},t.prototype.getAuthToken=function(){return Object(nl.b)(this,void 0,void 0,(function(){var t,e;return Object(nl.d)(this,(function(n){switch(n.label){case 0:return(t=this.authProvider_.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requests_.forEach((function(t){return t.cancel()})),this.requests_.clear()},t.prototype.makeStorageReference=function(t){return new WC(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this.deleted_)return new KC(ZI());var r=function(t,e,n,r){var i=TC(t.urlParams),o=t.url+i,a=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(a,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(a,n),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==el.a?el.a.SDK_VERSION:"AppManager")}(a),new GC(o,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this.appId_,e,this.pool_);return this.requests_.add(r),r.getPromise().then((function(){return n.requests_.delete(r)}),(function(){return n.requests_.delete(r)})),r},t.prototype.ref=function(t){if(/^[A-Za-z]+:\/\//.test(t))throw new QI("invalid-argument","Expected child path but got a URL, use refFromURL instead.");if(null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var e=new WC(this,this.bucket_);return null!=t?e.child(t):e},t.prototype.refFromURL=function(t){if(!/^[A-Za-z]+:\/\//.test(t))throw new QI("invalid-argument","Expected full URL but got a child path, use ref instead.");try{EC.makeFromUrl(t)}catch(e){throw new QI("invalid-argument","Expected valid full URL but got an invalid one.")}return new WC(this,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.maxUploadRetryTime_},enumerable:!1,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){vC("time",0,Number.POSITIVE_INFINITY,t),this.maxUploadRetryTime_=t},Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this.maxOperationRetryTime_},enumerable:!1,configurable:!0}),t.prototype.setMaxOperationRetryTime=function(t){vC("time",0,Number.POSITIVE_INFINITY,t),this.maxOperationRetryTime_=t},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!1,configurable:!0}),t}(),XC=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.deleteApp(),Promise.resolve()},t}();function JC(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new YC(n,r,new mC,e)}!function(t){var e={TaskState:cC,TaskEvent:uC,StringFormat:nC,Storage:YC,Reference:WC};t.INTERNAL.registerComponent(new rd.a("storage",JC,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.4.1")}(el.a);var $C,ZC,tT,eT=(($C={})["trace started"]="Trace {$traceName} was started before.",$C["trace stopped"]="Trace {$traceName} is not running.",$C["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",$C["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",$C["no window"]="Window is not available.",$C["no app id"]="App id is not available.",$C["no project id"]="Project id is not available.",$C["no api key"]="Api key is not available.",$C["invalid cc log"]="Attempted to queue invalid cc event",$C["FB not default"]="Performance can only start when Firebase app instance is the default one.",$C["RC response not ok"]="RC response is not ok",$C["invalid attribute name"]="Attribute name {$attributeName} is invalid.",$C["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",$C["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",$C["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",$C),nT=new il.b("performance","Performance",eT),rT=new rl.b("Performance");rT.logLevel=rl.a.INFO;var iT,oT=function(){function t(t){if(this.window=t,!t)throw nT.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Object(il.w)()||(rT.info("IndexedDB is not supported by current browswer"),!1):(rT.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver((function(t){for(var n=0,r=t.getEntries();n<r.length;n++)e(r[n])})).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===ZC&&(ZC=new t(tT)),ZC},t}();function aT(t,e){var n=t.length-e.length;if(n<0||n>1)throw nT.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}var sT,uT=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=aT("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=aT("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw nT.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw nT.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw nT.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===iT&&(iT=new t),iT},t}();function cT(){return sT}var lT=function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN",t}({}),hT=["firebase_","google_","ga_"],fT=new RegExp("^[a-zA-Z]\\w*$");function pT(){var t=oT.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function dT(){switch(oT.getInstance().document.visibilityState){case"visible":return lT.VISIBLE;case"hidden":return lT.HIDDEN;default:return lT.UNKNOWN}}function vT(){var t=oT.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function gT(t){if(!t)return t;var e=uT.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0===n.fpr_enabled||"true"===String(n.fpr_enabled),n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=yT(e.tracesSamplingRate),e.logNetworkAfterSampling=yT(e.networkRequestsSamplingRate),t}function yT(t){return Math.random()<=t}var mT,bT=1;function _T(){return bT=2,mT=mT||function(){var t=oT.getInstance().document;return new Promise((function(e){if(t&&"complete"!==t.readyState){t.addEventListener("readystatechange",(function n(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())}))}else e()}))}().then((function(){return(t=uT.getInstance().installationsService.getId()).then((function(t){sT=t})),t;var t})).then((function(t){return function(t){var e=function(){var t=oT.getInstance().localStorage;if(t){var e=t.getItem("@firebase/performance/configexpire");if(e&&Number(e)>Date.now()){var n=t.getItem("@firebase/performance/config");if(n)try{return JSON.parse(n)}catch(r){return}}}}();return e?(gT(e),Promise.resolve()):function(t){return(e=uT.getInstance().installationsService.getToken(),e.then((function(t){})),e).then((function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+uT.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+uT.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:uT.getInstance().getAppId(),app_version:"0.4.4",sdk_version:"0.0.1"})});return fetch(r).then((function(t){if(t.ok)return t.json();throw nT.create("RC response not ok")}))})).catch((function(){rT.info("Could not fetch config, will use default configs")}));var e}(t).then(gT).then((function(t){return function(t){var e=oT.getInstance().localStorage;t&&e&&(e.setItem("@firebase/performance/config",JSON.stringify(t)),e.setItem("@firebase/performance/configexpire",String(Date.now()+60*uT.getInstance().configTimeToLive*60*1e3)))}(t)}),(function(){}))}(t)})).then((function(){return wT()}),(function(){return wT()}))}function wT(){bT=3}var ET,kT=3,IT=[],CT=!1;function TT(t){if(!t.eventTime||!t.message)throw nT.create("invalid cc log");IT=Object(nl.g)(IT,[t])}function ST(t,e){var n;ET||(n=NT,ET=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];TT({message:n.apply(void 0,t),eventTime:Date.now()})}),ET(t,e)}function OT(t){var e=uT.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&oT.getInstance().requiredApisAvailable()&&(t.isAuto&&dT()!==lT.VISIBLE||(3===bT?AT(t):_T().then((function(){return AT(t)}),(function(){return AT(t)}))))}function AT(t){if(cT()){var e=uT.getInstance();e.loggingEnabled&&e.logTraceAfterSampling&&setTimeout((function(){return ST(t,1)}),0)}}function NT(t,e){return 0===e?(r={url:(n=t).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:PT(),network_request_metric:r},JSON.stringify(i)):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:PT(),trace_metric:e};return JSON.stringify(r)}(t);var n,r,i}function PT(){return{google_app_id:uT.getInstance().getAppId(),app_instance_id:cT(),web_app_info:{sdk_version:"0.4.4",page_url:oT.getInstance().getUrl(),service_worker_status:pT(),visibility_state:dT(),effective_connection_type:vT()},application_process_state:0}}var xT=["_fp","_fcp","_fid"],RT=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=oT.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw nT.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw nT.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),OT(this)},t.prototype.record=function(t,e,n){if(t<=0)throw nT.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw nT.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=Object(nl.a)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}OT(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),this.putMetric(t,void 0===this.counters[t]?e:this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(!function(t,e){return!(0===t.length||t.length>100)&&(e&&e.startsWith("_wt_")&&xT.indexOf(t)>-1||!t.startsWith("_"))}(t,this.name))throw nT.create("invalid custom metric name",{customMetricName:t});var n,r;this.counters[t]=(n=e,(r=Math.floor(n))<n&&rT.info("Metric value should be an Integer, setting the value as : "+r+"."),r)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n=function(t){return!(0===t.length||t.length>40||hT.some((function(e){return t.startsWith(e)}))||!t.match(fT))}(t),r=function(t){return 0!==t.length&&t.length<=100}(e);if(n&&r)this.customAttributes[t]=e;else{if(!n)throw nT.create("invalid attribute name",{attributeName:t});if(!r)throw nT.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return Object(nl.a)({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=oT.getInstance().getUrl();if(i){var o=new t("_wt_"+i,!0),a=Math.floor(1e3*oT.getInstance().getTimeOrigin());if(o.setStartTime(a),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd))),n){var s=n.find((function(t){return"first-paint"===t.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find((function(t){return"first-contentful-paint"===t.name}));u&&u.startTime&&o.putMetric("_fcp",Math.floor(1e3*u.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}OT(o)}},t.createUserTimingTrace=function(e){OT(new t(e,!1,e))},t}();function jT(t){var e=t;if(e&&void 0!==e.responseStart){var n=oT.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=uT.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout((function(){return ST(t,0)}),0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function DT(){cT()&&(setTimeout((function(){return function(){var t=oT.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout((function(){RT.createOobTrace(e,n),r=void 0}),5e3);t.onFirstInputDelay((function(t){r&&(clearTimeout(r),RT.createOobTrace(e,n,t))}))}else RT.createOobTrace(e,n)}()}),0),setTimeout((function(){return function(){for(var t=oT.getInstance(),e=0,n=t.getEntriesByType("resource");e<n.length;e++)jT(n[e]);t.setupObserver("resource",jT)}()}),0),setTimeout((function(){return function(){for(var t=oT.getInstance(),e=0,n=t.getEntriesByType("measure");e<n.length;e++)LT(n[e]);t.setupObserver("measure",LT)}()}),0))}function LT(t){var e=t.name;"FB-PERF-TRACE-MEASURE"!==e.substring(0,"FB-PERF-TRACE-MEASURE".length)&&RT.createUserTimingTrace(e)}var FT=function(){function t(t){this.app=t,oT.getInstance().requiredApisAvailable()&&Object(il.N)().then((function(t){t&&(CT||(function t(e){setTimeout((function(){if(0!==kT)return IT.length?void function(){var e=Object(nl.g)(IT);IT=[];var n=e.map((function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}}));(function(e,n){return function(t){var e=uT.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(e).then((function(t){return t.ok||rT.info("Call to Firebase backend failed."),t.json()})).then((function(e){var r=Number(e.nextRequestWaitMillis),i=1e4;isNaN(r)||(i=Math.max(r,i));var o=e.logResponseDetails;Array.isArray(o)&&o.length>0&&"RETRY_REQUEST_LATER"===o[0].responseAction&&(IT=Object(nl.g)(n,IT),rT.info("Retry transport request later.")),kT=3,t(i)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:uT.getInstance().logSource,log_event:n},e).catch((function(){IT=Object(nl.g)(e,IT),kT--,rT.info("Tries left: "+kT+"."),t(1e4)}))}():t(1e4)}),e)}(5500),CT=!0),_T().then(DT,DT))})).catch((function(t){rT.info("Environment doesn't support IndexedDB: "+t)}))}return t.prototype.trace=function(t){return new RT(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return uT.getInstance().instrumentationEnabled},set:function(t){uT.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return uT.getInstance().dataCollectionEnabled},set:function(t){uT.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}();!function(t){t.INTERNAL.registerComponent(new rd.a("performance",(function(t){return function(t,e){if("[DEFAULT]"!==t.name)throw nT.create("FB not default");if("undefined"==typeof window)throw nT.create("no window");return function(t){tT=t}(window),uT.getInstance().firebaseAppInstance=t,uT.getInstance().installationsService=e,new FT(t)}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC")),t.registerVersion("@firebase/performance","0.4.4")}(el.a);var MT,UT="https://www.googletagmanager.com/gtag/js",VT=function(t){return t.EVENT="event",t.SET="set",t.CONFIG="config",t}({}),qT=function(t){return t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results",t}({}),BT=new rl.b("@firebase/analytics");function HT(t,e,n,r,i,o){return Object(nl.b)(this,void 0,void 0,(function(){var a,s,u,c;return Object(nl.d)(this,(function(l){switch(l.label){case 0:a=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=l.sent(),(u=s.find((function(t){return t.measurementId===i})))?[4,e[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),BT.error(c),[3,8];case 8:return t(VT.CONFIG,i,o),[2]}}))}))}function zT(t,e,n,r,i){return Object(nl.b)(this,void 0,void 0,(function(){var o,a,s,u,c,l,h;return Object(nl.d)(this,(function(f){switch(f.label){case 0:return f.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=f.sent(),u=function(t){var n=s.find((function(e){return e.measurementId===t})),r=n&&e[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=a;c<l.length&&"break"!==u(l[c]);c++);f.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return f.sent(),t(VT.EVENT,r,i||{}),[3,5];case 4:return h=f.sent(),BT.error(h),[3,5];case 5:return[2]}}))}))}var WT=((MT={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",MT["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",MT["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",MT["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",MT["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",MT["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",MT["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",MT["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',MT["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',MT),KT=new il.b("analytics","Analytics",WT),GT=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function QT(t){var e;return Object(nl.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Object(nl.d)(this,(function(u){switch(u.label){case 0:return n=t.appId,r={method:"GET",headers:(c=t.apiKey,new Headers({Accept:"application/json","x-goog-api-key":c}))},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(i,r)];case 1:if(200===(o=u.sent()).status||304===o.status)return[3,6];a="",u.label=2;case 2:return u.trys.push([2,4,,5]),[4,o.json()];case 3:return s=u.sent(),(null===(e=s.error)||void 0===e?void 0:e.message)&&(a=s.error.message),[3,5];case 4:return u.sent(),[3,5];case 5:throw KT.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a});case 6:return[2,o.json()]}var c}))}))}function YT(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return void 0===r&&(r=GT),Object(nl.b)(this,void 0,void 0,(function(){var e,a,s,u,c,l,h;return Object(nl.d)(this,(function(f){switch(f.label){case 0:e=t.appId,a=t.measurementId,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,XT(n,i)];case 2:return f.sent(),[3,4];case 3:if(s=f.sent(),a)return BT.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:e,measurementId:a}];throw s;case 4:return f.trys.push([4,6,,7]),[4,QT(t)];case 5:return u=f.sent(),r.deleteThrottleMetadata(e),[2,u];case 6:if(!function(t){if(!(t instanceof il.c&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c=f.sent())){if(r.deleteThrottleMetadata(e),a)return BT.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:e,measurementId:a}];throw c}return l=503===Number(c.customData.httpStatus)?Object(il.j)(o,r.intervalMillis,30):Object(il.j)(o,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(e,h),BT.debug("Calling attemptFetch again in "+l+" millis"),[2,YT(t,h,n,r)];case 7:return[2]}}))}))}function XT(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(KT.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var JT,$T,ZT=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),tS={},eS=[],nS={},rS="dataLayer",iS="gtag",oS=!1;function aS(t){if(oS)throw KT.create("already-initialized");t.dataLayerName&&(rS=t.dataLayerName),t.gtagName&&(iS=t.gtagName)}function sS(){return Object(nl.b)(this,void 0,void 0,(function(){return Object(nl.d)(this,(function(t){switch(t.label){case 0:if(Object(il.s)())return[2,!1];if(!Object(il.e)())return[2,!1];if(!Object(il.w)())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Object(il.N)()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}!function(t){t.INTERNAL.registerComponent(new rd.a("analytics",(function(t){return function(t,e){!function(){var t=[];if(Object(il.s)()&&t.push("This is a browser extension environment."),Object(il.e)()||t.push("Cookies are not available."),t.length>0){var e=t.map((function(t,e){return"("+(e+1)+") "+t})).join(" "),n=KT.create("invalid-analytics-context",{errorInfo:e});BT.warn(n.message)}}();var n=t.options.appId;if(!n)throw KT.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw KT.create("no-api-key");BT.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=tS[n])throw KT.create("already-exists",{id:n});if(!oS){(function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(UT))return r}return null})()||function(t){var e=document.createElement("script");e.src=UT+"?l="+t,e.async=!0,document.head.appendChild(e)}(rS),function(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(rS);var r=function(t,e,n,r,i){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(t,e,n,r){return function(i,o,a){return Object(nl.b)(this,void 0,void 0,(function(){var s;return Object(nl.d)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==VT.EVENT?[3,2]:[4,zT(t,e,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==VT.CONFIG?[3,4]:[4,HT(t,e,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:t(VT.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),BT.error(s),[3,7];case 7:return[2]}}))}))}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(tS,eS,nS,rS,iS);$T=r.wrappedGtag,JT=r.gtagCore,oS=!0}return tS[n]=function(t,e,n,r,i){return Object(nl.b)(this,void 0,void 0,(function(){var o,a,s,u,c,l,h;return Object(nl.d)(this,(function(f){switch(f.label){case 0:return(o=function(t,e,n){return void 0===e&&(e=GT),Object(nl.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u=this;return Object(nl.d)(this,(function(c){if(i=(n=t.options).apiKey,o=n.measurementId,!(r=n.appId))throw KT.create("no-app-id");if(!i){if(o)return[2,{measurementId:o,appId:r}];throw KT.create("no-api-key")}return a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new ZT,setTimeout((function(){return Object(nl.b)(u,void 0,void 0,(function(){return Object(nl.d)(this,(function(t){return s.abort(),[2]}))}))}),6e4),[2,YT({appId:r,apiKey:i,measurementId:o},a,s,e)]}))}))}(t)).then((function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&BT.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(t){return BT.error(t)})),e.push(o),a=function(){return Object(nl.b)(this,void 0,void 0,(function(){var t;return Object(nl.d)(this,(function(e){switch(e.label){case 0:return Object(il.w)()?[3,1]:(BT.warn(KT.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Object(il.N)()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),BT.warn(KT.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(t){return t?r.getId():void 0})),[4,Promise.all([o,a])];case 1:return s=f.sent(),u=s[0],c=s[1],i("js",new Date),(h={}).origin="firebase",h.update=!0,l=h,null!=c&&(l.firebase_id=c),i(VT.CONFIG,u.measurementId,l),[2,u.measurementId]}}))}))}(t,eS,nS,e,JT),{app:t,logEvent:function(t,e,r){(function(t,e,n,r,i){return Object(nl.b)(this,void 0,void 0,(function(){var o,a;return Object(nl.d)(this,(function(s){switch(s.label){case 0:return i&&i.global?(t(VT.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=s.sent(),a=Object(nl.a)(Object(nl.a)({},r),{send_to:o}),t(VT.EVENT,n,a),s.label=3;case 3:return[2]}}))}))})($T,tS[n],t,e,r).catch((function(t){return BT.error(t)}))},setCurrentScreen:function(t,e){(function(t,e,n,r){return Object(nl.b)(this,void 0,void 0,(function(){var i;return Object(nl.d)(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(VT.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(VT.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})($T,tS[n],t,e).catch((function(t){return BT.error(t)}))},setUserId:function(t,e){(function(t,e,n,r){return Object(nl.b)(this,void 0,void 0,(function(){var i;return Object(nl.d)(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(VT.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(VT.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})($T,tS[n],t,e).catch((function(t){return BT.error(t)}))},setUserProperties:function(t,e){(function(t,e,n,r){return Object(nl.b)(this,void 0,void 0,(function(){var i,o,a,s,u;return Object(nl.d)(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)i["user_properties."+(s=a[o])]=n[s];return t(VT.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=c.sent(),t(VT.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})($T,tS[n],t,e).catch((function(t){return BT.error(t)}))},setAnalyticsCollectionEnabled:function(t){(function(t,e){return Object(nl.b)(this,void 0,void 0,(function(){var n;return Object(nl.d)(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}}))}))})(tS[n],t).catch((function(t){return BT.error(t)}))},INTERNAL:{delete:function(){return delete tS[n],Promise.resolve()}}}}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:aS,EventName:qT,isSupported:sS})),t.INTERNAL.registerComponent(new rd.a("analytics-internal",(function(t){try{return{logEvent:t.getProvider("analytics").getImmediate().logEvent}}catch(e){throw KT.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.2")}(el.a);var uS,cS=function(){function t(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+r+"."),r},t.prototype.fetch=function(t){return Object(nl.b)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(nl.d)(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=a.sent(),n=e[0],(r=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}}))}))},t}(),lS=((uS={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",uS["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",uS["registration-api-key"]="Undefined API key. Check Firebase app initialization.",uS["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",uS["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",uS["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",uS["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",uS["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",uS["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",uS["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',uS["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',uS["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",uS["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",uS),hS=new il.b("remoteconfig","Remote Config",lS),fS=function(){function t(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return t.prototype.fetch=function(t){return Object(nl.b)(this,void 0,void 0,(function(){var e,n,r,i,o,a,s,u,c,l,h,f,p,d,v,g;return Object(nl.d)(this,(function(y){switch(y.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=y.sent(),n=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",r=n+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,i={sdk_version:this.sdkVersion,app_instance_id:e[0],app_instance_id_token:e[1],app_id:this.appId,language_code:(void 0===m&&(m=navigator),m.languages&&m.languages[0]||m.language)},o={method:"POST",headers:{"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},body:JSON.stringify(i)},a=fetch(r,o),s=new Promise((function(e,n){t.signal.addEventListener((function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)}))})),y.label=2;case 2:return y.trys.push([2,5,,6]),[4,Promise.race([a,s])];case 3:return y.sent(),[4,a];case 4:return u=y.sent(),[3,6];case 5:throw c=y.sent(),l="fetch-client-network","AbortError"===c.name&&(l="fetch-timeout"),hS.create(l,{originalErrorMessage:c.message});case 6:if(h=u.status,f=u.headers.get("ETag")||void 0,200!==u.status)return[3,11];v=void 0,y.label=7;case 7:return y.trys.push([7,9,,10]),[4,u.json()];case 8:return v=y.sent(),[3,10];case 9:throw g=y.sent(),hS.create("fetch-client-parse",{originalErrorMessage:g.message});case 10:p=v.entries,d=v.state,y.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===d?h=500:"NO_CHANGE"===d?h=304:"NO_TEMPLATE"!==d&&"EMPTY_CONFIG"!==d||(p={}),304!==h&&200!==h)throw hS.create("fetch-status",{httpStatus:h});return[2,{status:h,eTag:f,config:p}]}var m}))}))},t}(),pS=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),dS=["1","true","t","yes","y","on"],vS=function(){function t(t,e){void 0===e&&(e=""),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&dS.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),gS=function(){function t(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=rl.a.DEBUG;break;case"silent":this._logger.logLevel=rl.a.SILENT;break;default:this._logger.logLevel=rl.a.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return Object(nl.b)(this,void 0,void 0,(function(){var t,e,n;return Object(nl.d)(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),n=t[1],(e=t[0])&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),this._initializePromise},t.prototype.fetch=function(){return Object(nl.b)(this,void 0,void 0,(function(){var t,e,n,r=this;return Object(nl.d)(this,(function(i){switch(i.label){case 0:t=new pS,setTimeout((function(){return Object(nl.b)(r,void 0,void 0,(function(){return Object(nl.d)(this,(function(e){return t.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return e=i.sent(),n=(o=e)instanceof il.c&&-1!==o.code.indexOf("fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),e;case 6:return[2]}var o}))}))},t.prototype.fetchAndActivate=function(){return Object(nl.b)(this,void 0,void 0,(function(){return Object(nl.d)(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}}))}))},t.prototype.getAll=function(){var t,e,n=this;return(t=this._storageCache.getActiveConfig(),e=this.defaultConfig,void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(Object(nl.a)(Object(nl.a)({},t),e))).reduce((function(t,e){return t[e]=n.getValue(e),t}),{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new vS("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new vS("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new vS("static"))},t}();function yS(t,e){var n=t.target.error||void 0;return hS.create(e,{originalErrorMessage:n&&n.message})}var mS=function(){function t(t,e,n,r){void 0===r&&(r=new Promise((function(t,e){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(t){e(yS(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore("app_namespace_store",{keyPath:"compositeKey"})}}}))),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return Object(nl.b)(this,void 0,void 0,(function(){var e,n=this;return Object(nl.d)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction(["app_namespace_store"],"readonly").objectStore("app_namespace_store"),a=n.createCompositeKey(t);try{var s=o.get(a);s.onerror=function(t){i(yS(t,"storage-get"))},s.onsuccess=function(t){var e=t.target.result;r(e?e.value:void 0)}}catch(u){i(hS.create("storage-get",{originalErrorMessage:u&&u.message}))}}))]}}))}))},t.prototype.set=function(t,e){return Object(nl.b)(this,void 0,void 0,(function(){var n,r=this;return Object(nl.d)(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),s=r.createCompositeKey(t);try{var u=a.put({compositeKey:s,value:e});u.onerror=function(t){o(yS(t,"storage-set"))},u.onsuccess=function(){i()}}catch(c){o(hS.create("storage-set",{originalErrorMessage:c&&c.message}))}}))]}}))}))},t.prototype.delete=function(t){return Object(nl.b)(this,void 0,void 0,(function(){var e,n=this;return Object(nl.d)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),a=n.createCompositeKey(t);try{var s=o.delete(a);s.onerror=function(t){i(yS(t,"storage-delete"))},s.onsuccess=function(){r()}}catch(u){i(hS.create("storage-delete",{originalErrorMessage:u&&u.message}))}}))]}}))}))},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),bS=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return Object(nl.b)(this,void 0,void 0,(function(){var t,e,n,r,i,o;return Object(nl.d)(this,(function(a){switch(a.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,e];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}}))}))},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();function _S(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(hS.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var wS,ES=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return Object(nl.b)(this,void 0,void 0,(function(){var e;return Object(nl.d)(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}}))}))},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return Object(nl.b)(this,void 0,void 0,(function(){var e,i,o;return Object(nl.d)(this,(function(a){switch(a.label){case 0:return[4,_S(t.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof il.c&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(i=a.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+Object(il.j)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(t,o)];case 7:return[2]}}))}))},t}();function kS(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return V(r)?(e.pop(),Y(e,r)):it(e)}(wS=el.a).INTERNAL.registerComponent(new rd.a("remoteConfig",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();if("undefined"==typeof window)throw hS.create("registration-window");var i=n.options,o=i.projectId,a=i.apiKey,s=i.appId;if(!o)throw hS.create("registration-project-id");if(!a)throw hS.create("registration-api-key");if(!s)throw hS.create("registration-app-id");var u=new mS(s,n.name,e=e||"firebase"),c=new bS(u),l=new rl.b("@firebase/remote-config");l.logLevel=rl.a.ERROR;var h=new fS(r,wS.SDK_VERSION,e,o,a,s),f=new ES(h,u),p=new cS(f,u,c,l),d=new gS(n,p,c,u,l);return d.ensureInitialized(),d}),"PUBLIC").setMultipleInstances(!0)),wS.registerVersion("@firebase/remote-config","0.1.30"),el.a.registerVersion("firebase","8.0.1","app"),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),el.a.registerVersion("firebase","8.0.1");var IS=function(t){s(n,t);var e=c(n);function n(t){var r;return d(this,n),(r=e.call(this))._value=t,r}return g(n,[{key:"_subscribe",value:function(t){var e=a(p(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new D;return this._value}},{key:"next",value:function(t){a(p(n.prototype),"next",this).call(this,this._value=t)}},{key:"value",get:function(){return this.getValue()}}]),n}(M),CS=function(t){s(n,t);var e=c(n);function n(){return d(this,n),e.apply(this,arguments)}return g(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(S),TS=function(t){s(n,t);var e=c(n);function n(t,r,i){var o;return d(this,n),(o=e.call(this)).parent=t,o.outerValue=r,o.outerIndex=i,o.index=0,o}return g(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(S);function SS(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new TS(t,n,r);if(!i.closed)return e instanceof x?e.subscribe(i):Q(e)(i)}var OS={},AS=function(){function t(e){d(this,t),this.resultSelector=e}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new NS(t,this.resultSelector))}}]),t}(),NS=function(t){s(n,t);var e=c(n);function n(t,r){var i;return d(this,n),(i=e.call(this,t)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return g(n,[{key:"_next",value:function(t){this.values.push(OS),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++)this.add(SS(this,t[n],void 0,n))}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n){var r=this.values,i=this.toRespond?r[n]===OS?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(CS),PS=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),xS=new x((function(t){return t.complete()}));function RS(t){return t?function(t){return new x((function(e){return t.schedule((function(){return e.complete()}))}))}(t):xS}function jS(t){return new x((function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?X(n):RS()).subscribe(e)}))}function DS(){return rt(1)}function LS(t,e){return function(n){return n.lift(new FS(t,e))}}var FS=function(){function t(e,n){d(this,t),this.predicate=e,this.thisArg=n}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new MS(t,this.predicate,this.thisArg))}}]),t}(),MS=function(t){s(n,t);var e=c(n);function n(t,r,i){var o;return d(this,n),(o=e.call(this,t)).predicate=r,o.thisArg=i,o.count=0,o}return g(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(S),US=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function VS(t){return function(e){return 0===t?RS():e.lift(new qS(t))}}var qS=function(){function t(e){if(d(this,t),this.total=e,this.total<0)throw new US}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new BS(t,this.total))}}]),t}(),BS=function(t){s(n,t);var e=c(n);function n(t,r){var i;return d(this,n),(i=e.call(this,t)).total=r,i.ring=new Array,i.count=0,i}return g(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()}}]),n}(S);function HS(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:KS;return function(e){return e.lift(new zS(t))}}var zS=function(){function t(e){d(this,t),this.errorFactory=e}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new WS(t,this.errorFactory))}}]),t}(),WS=function(t){s(n,t);var e=c(n);function n(t,r){var i;return d(this,n),(i=e.call(this,t)).errorFactory=r,i.hasValue=!1,i}return g(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}]),n}(S);function KS(){return new PS}function GS(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new QS(t))}}var QS=function(){function t(e){d(this,t),this.defaultValue=e}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new YS(t,this.defaultValue))}}]),t}(),YS=function(t){s(n,t);var e=c(n);function n(t,r){var i;return d(this,n),(i=e.call(this,t)).defaultValue=r,i.isEmpty=!0,i}return g(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(S);function XS(t,e){return"function"==typeof e?function(n){return n.pipe(XS((function(n,r){return X(t(n,r)).pipe(q((function(t,i){return e(n,t,r,i)})))})))}:function(e){return e.lift(new JS(t))}}var JS=function(){function t(e){d(this,t),this.project=e}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new $S(t,this.project))}}]),t}(),$S=function(t){s(n,t);var e=c(n);function n(t,r){var i;return d(this,n),(i=e.call(this,t)).project=r,i.index=0,i}return g(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=this.innerSubscription;e&&e.unsubscribe();var n=new J(this),r=this.destination;r.add(n),this.innerSubscription=Z(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||a(p(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&a(p(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t){this.destination.next(t)}}]),n}($);function ZS(t){return function(e){return 0===t?RS():e.lift(new tO(t))}}var tO=function(){function t(e){if(d(this,t),this.total=e,this.total<0)throw new US}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new eO(t,this.total))}}]),t}(),eO=function(t){s(n,t);var e=c(n);function n(t,r){var i;return d(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return g(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(S);function nO(){return DS()(kS.apply(void 0,arguments))}var rO=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];d(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new iO(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),iO=function(t){s(n,t);var e=c(n);function n(t,r,i,o){var a;return d(this,n),(a=e.call(this,t)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return g(n,[{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}},{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}}]),n}(S);function oO(t){return function(e){var n=new aO(t),r=e.lift(n);return n.caught=r}}var aO=function(){function t(e){d(this,t),this.selector=e}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new sO(t,this.selector,this.caught))}}]),t}(),sO=function(t){s(n,t);var e=c(n);function n(t,r,i){var o;return d(this,n),(o=e.call(this,t)).selector=r,o.caught=i,o}return g(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(o){return void a(p(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new J(this);this.add(r);var i=Z(e,r);i!==r&&this.add(i)}}}]),n}($);function uO(t,e){return tt(t,e,1)}function cO(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?LS((function(e,n){return t(e,n,r)})):N,ZS(1),n?GS(e):HS((function(){return new PS})))}}function lO(){}function hO(t,e,n){return function(r){return r.lift(new fO(t,e,n))}}var fO=function(){function t(e,n,r){d(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new pO(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),pO=function(t){s(n,t);var e=c(n);function n(t,r,i,o){var a;return d(this,n),(a=e.call(this,t))._tapNext=lO,a._tapError=lO,a._tapComplete=lO,a._tapError=i||lO,a._tapComplete=o||lO,f(r)?(a._context=h(a),a._tapNext=r):r&&(a._context=r,a._tapNext=r.next||lO,a._tapError=r.error||lO,a._tapComplete=r.complete||lO),a}return g(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(S),dO=function(){function t(e){d(this,t),this.callback=e}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new vO(t,this.callback))}}]),t}(),vO=function(t){s(n,t);var e=c(n);function n(t,r){var i;return d(this,n),(i=e.call(this,t)).add(new I(r)),i}return n}(S),gO=function t(e,n){d(this,t),this.id=e,this.url=n},yO=function(t){s(n,t);var e=c(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return d(this,n),(i=e.call(this,t,r)).navigationTrigger=o,i.restoredState=a,i}return g(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(gO),mO=function(t){s(n,t);var e=c(n);function n(t,r,i){var o;return d(this,n),(o=e.call(this,t,r)).urlAfterRedirects=i,o}return g(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(gO),bO=function(t){s(n,t);var e=c(n);function n(t,r,i){var o;return d(this,n),(o=e.call(this,t,r)).reason=i,o}return g(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(gO),_O=function(t){s(n,t);var e=c(n);function n(t,r,i){var o;return d(this,n),(o=e.call(this,t,r)).error=i,o}return g(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(gO),wO=function(t){s(n,t);var e=c(n);function n(t,r,i,o){var a;return d(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return g(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(gO),EO=function(t){s(n,t);var e=c(n);function n(t,r,i,o){var a;return d(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return g(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(gO),kO=function(t){s(n,t);var e=c(n);function n(t,r,i,o,a){var s;return d(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return g(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(gO),IO=function(t){s(n,t);var e=c(n);function n(t,r,i,o){var a;return d(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return g(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(gO),CO=function(t){s(n,t);var e=c(n);function n(t,r,i,o){var a;return d(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return g(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(gO),TO=function(){function t(e){d(this,t),this.route=e}return g(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),SO=function(){function t(e){d(this,t),this.route=e}return g(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),OO=function(){function t(e){d(this,t),this.snapshot=e}return g(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),AO=function(){function t(e){d(this,t),this.snapshot=e}return g(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),NO=function(){function t(e){d(this,t),this.snapshot=e}return g(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),PO=function(){function t(e){d(this,t),this.snapshot=e}return g(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),xO=function(){function t(e,n,r){d(this,t),this.routerEvent=e,this.position=n,this.anchor=r}return g(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),RO=function(){function t(e){d(this,t),this.params=e||{}}return g(t,[{key:"has",value:function(t){return Object.prototype.hasOwnProperty.call(this.params,t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function jO(t){return new RO(t)}function DO(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function LO(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function FO(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!MO(t[n=r[o]],e[n]))return!1;return!0}function MO(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;var r=n(t).sort(),i=n(e).sort();return r.every((function(t,e){return i[e]===t}))}return t===e}function UO(t){return Array.prototype.concat.apply([],t)}function VO(t){return t.length>0?t[t.length-1]:null}function qO(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function BO(t){return Jo(t)?t:Xo(t)?X(Promise.resolve(t)):kS(t)}function HO(t,e,n){return n?function(t,e){return FO(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!GO(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every((function(n){return MO(t[n],e[n])}))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!GO(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!GO(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!t(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!GO(n.segments,a)&&!!n.children.primary&&e(n.children.primary,r,s)}(e,n,n.segments)}(t.root,e.root)}var zO=function(){function t(e,n,r){d(this,t),this.root=e,this.queryParams=n,this.fragment=r}return g(t,[{key:"toString",value:function(){return JO.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=jO(this.queryParams)),this._queryParamMap}}]),t}(),WO=function(){function t(e,n){var r=this;d(this,t),this.segments=e,this.children=n,this.parent=null,qO(n,(function(t,e){return t.parent=r}))}return g(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return $O(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),t}(),KO=function(){function t(e,n){d(this,t),this.path=e,this.parameters=n}return g(t,[{key:"toString",value:function(){return iA(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=jO(this.parameters)),this._parameterMap}}]),t}();function GO(t,e){return t.length===e.length&&t.every((function(t,n){return t.path===e[n].path}))}function QO(t,e){var n=[];return qO(t.children,(function(t,r){"primary"===r&&(n=n.concat(e(t,r)))})),qO(t.children,(function(t,r){"primary"!==r&&(n=n.concat(e(t,r)))})),n}var YO=function t(){d(this,t)},XO=function(){function t(){d(this,t)}return g(t,[{key:"parse",value:function(t){var e=new cA(t);return new zO(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){return"".concat("/"+function t(e,n){if(!e.hasChildren())return $O(e);if(n){var r=e.children.primary?t(e.children.primary,!1):"",i=[];return qO(e.children,(function(e,n){"primary"!==n&&i.push("".concat(n,":").concat(t(e,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=QO(e,(function(n,r){return"primary"===r?[t(e.children.primary,!1)]:["".concat(r,":").concat(t(n,!1))]}));return 1===Object.keys(e.children).length&&null!=e.children.primary?"".concat($O(e),"/").concat(o[0]):"".concat($O(e),"/(").concat(o.join("//"),")")}(t.root,!0)).concat((e=t.queryParams,n=Object.keys(e).map((function(t){var n=e[t];return Array.isArray(n)?n.map((function(e){return"".concat(tA(t),"=").concat(tA(e))})).join("&"):"".concat(tA(t),"=").concat(tA(n))})),n.length?"?"+n.join("&"):"")).concat("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"");var e,n}}]),t}(),JO=new XO;function $O(t){return t.segments.map((function(t){return iA(t)})).join("/")}function ZO(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function tA(t){return ZO(t).replace(/%3B/gi,";")}function eA(t){return ZO(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nA(t){return decodeURIComponent(t)}function rA(t){return nA(t.replace(/\+/g,"%20"))}function iA(t){return"".concat(eA(t.path)).concat((e=t.parameters,Object.keys(e).map((function(t){return";".concat(eA(t),"=").concat(eA(e[t]))})).join("")));var e}var oA=/^[^\/()?;=#]+/;function aA(t){var e=t.match(oA);return e?e[0]:""}var sA=/^[^=?&#]+/,uA=/^[^?&#]+/,cA=function(){function t(e){d(this,t),this.url=e,this.remaining=e}return g(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new WO([],{}):new WO([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new WO(t,e)),n}},{key:"parseSegment",value:function(){var t=aA(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new KO(nA(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=aA(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=aA(this.remaining);r&&(n=r,this.capture(n))}t[nA(e)]=nA(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(sA);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(uA);return e?e[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=rA(e),o=rA(n);if(t.hasOwnProperty(i)){var a=t[i];Array.isArray(a)||(a=[a],t[i]=a),a.push(o)}else t[i]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=aA(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");var o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new WO([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),lA=function(){function t(e){d(this,t),this._root=e}return g(t,[{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=hA(t,this._root);return e?e.children.map((function(t){return t.value})):[]}},{key:"firstChild",value:function(t){var e=hA(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=fA(t,this._root);return e.length<2?[]:e[e.length-2].children.map((function(t){return t.value})).filter((function(e){return e!==t}))}},{key:"pathFromRoot",value:function(t){return fA(t,this._root).map((function(t){return t.value}))}},{key:"root",get:function(){return this._root.value}}]),t}();function hA(t,n){if(t===n.value)return n;var r,i=e(n.children);try{for(i.s();!(r=i.n()).done;){var o=hA(t,r.value);if(o)return o}}catch(a){i.e(a)}finally{i.f()}return null}function fA(t,n){if(t===n.value)return[n];var r,i=e(n.children);try{for(i.s();!(r=i.n()).done;){var o=fA(t,r.value);if(o.length)return o.unshift(n),o}}catch(a){i.e(a)}finally{i.f()}return[]}var pA=function(){function t(e,n){d(this,t),this.value=e,this.children=n}return g(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function dA(t){var e={};return t&&t.children.forEach((function(t){return e[t.value.outlet]=t})),e}var vA=function(t){s(n,t);var e=c(n);function n(t,r){var i;return d(this,n),(i=e.call(this,t)).snapshot=r,wA(h(i),t),i}return g(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(lA);function gA(t,e){var n=function(t,e){var n=new bA([],{},{},"",{},"primary",e,null,t.root,-1,{});return new _A("",new pA(n,[]))}(t,e),r=new IS([new KO("",{})]),i=new IS({}),o=new IS({}),a=new IS({}),s=new IS(""),u=new yA(r,i,a,s,o,"primary",e,n.root);return u.snapshot=n.root,new vA(new pA(u,[]),n)}var yA=function(){function t(e,n,r,i,o,a,s,u){d(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return g(t,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(q((function(t){return jO(t)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(q((function(t){return jO(t)})))),this._queryParamMap}}]),t}();function mA(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce((function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var bA=function(){function t(e,n,r,i,o,a,s,u,c,l,h){d(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return g(t,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(t){return t.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=jO(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=jO(this.queryParams)),this._queryParamMap}}]),t}(),_A=function(t){s(n,t);var e=c(n);function n(t,r){var i;return d(this,n),(i=e.call(this,r)).url=t,wA(h(i),r),i}return g(n,[{key:"toString",value:function(){return EA(this._root)}}]),n}(lA);function wA(t,e){e.value._routerState=t,e.children.forEach((function(e){return wA(t,e)}))}function EA(t){var e=t.children.length>0?" { ".concat(t.children.map(EA).join(", ")," } "):"";return"".concat(t.value).concat(e)}function kA(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,FO(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),FO(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!FO(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),FO(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function IA(t,e){return FO(t.params,e.params)&&function(t,e){return GO(t,e)&&t.every((function(t,n){return FO(t.parameters,e[n].parameters)}))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||IA(t.parent,e.parent))}function CA(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function TA(t,e,n,r,i){var o={};return r&&qO(r,(function(t,e){o[e]=Array.isArray(t)?t.map((function(t){return""+t})):""+t})),new zO(n.root===t?e:function t(e,n,r){var i={};return qO(e.children,(function(e,o){i[o]=e===n?r:t(e,n,r)})),new WO(e.segments,i)}(n.root,t,e),o,i)}var SA=function(){function t(e,n,r){if(d(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&CA(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(t){return"object"==typeof t&&null!=t&&t.outlets}));if(i&&i!==VO(r))throw new Error("{outlets:{}} has to be the last command")}return g(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),OA=function t(e,n,r){d(this,t),this.segmentGroup=e,this.processChildren=n,this.index=r};function AA(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function NA(t,e,n){if(t||(t=new WO([],{})),0===t.segments.length&&t.hasChildren())return PA(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=AA(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!DA(s,u,a))return o;r+=2}else{if(!DA(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new WO(t.segments.slice(0,r.pathIndex),{});return o.children.primary=new WO(t.segments.slice(r.pathIndex),t.children),PA(o,0,i)}return r.match&&0===i.length?new WO(t.segments,{}):r.match&&!t.hasChildren()?xA(t,e,n):r.match?PA(t,0,i):xA(t,e,n)}function PA(t,e,n){if(0===n.length)return new WO(t.segments,{});var r=function(t){return"object"==typeof t[0]&&null!==t[0]&&t[0].outlets?t[0].outlets:{primary:t}}(n),i={};return qO(r,(function(n,r){null!==n&&(i[r]=NA(t.children[r],e,n))})),qO(t.children,(function(t,e){void 0===r[e]&&(i[e]=t)})),new WO(t.segments,i)}function xA(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&null!==n[i]&&void 0!==n[i].outlets){var o=RA(n[i].outlets);return new WO(r,o)}if(0===i&&CA(n[0]))r.push(new KO(t.segments[e].path,n[0])),i++;else{var a=AA(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&CA(s)?(r.push(new KO(a,jA(s))),i+=2):(r.push(new KO(a,{})),i++)}}return new WO(r,{})}function RA(t){var e={};return qO(t,(function(t,n){null!==t&&(e[n]=xA(new WO([],{}),0,t))})),e}function jA(t){var e={};return qO(t,(function(t,n){return e[n]=""+t})),e}function DA(t,e,n){return t==n.path&&FO(e,n.parameters)}var LA=function(){function t(e,n,r,i){d(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}return g(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),kA(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var r=this,i=dA(e);t.children.forEach((function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]})),qO(i,(function(t,e){r.deactivateRouteAndItsChildren(t,n)}))}},{key:"deactivateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=dA(t),o=t.value.component?r.children:e;qO(i,(function(t,e){return n.deactivateRouteAndItsChildren(t,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(t,e,n){var r=this,i=dA(e);t.children.forEach((function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new PO(t.value.snapshot))})),t.children.length&&this.forwardEvent(new AO(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(kA(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),FA(s.route)}else{var u=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=c,a.outlet&&a.outlet.activateWith(r,c),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function FA(t){kA(t.value),t.children.forEach(FA)}var MA=function t(e,n){d(this,t),this.routes=e,this.module=n};function UA(t){return"function"==typeof t}function VA(t){return t instanceof zO}var qA=Symbol("INITIAL_VALUE");function BA(){return XS((function(t){return(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=void 0,i=void 0;return V(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&_(e[0])&&(e=e[0]),it(e,i).lift(new AS(r))}).apply(void 0,n(t.map((function(t){return t.pipe(ZS(1),function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return V(r)?(e.pop(),function(t){return nO(e,t,r)}):function(t){return nO(e,t)}}(qA))})))).pipe(function(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new rO(t,e,n))}}((function(t,e){var n=!1;return e.reduce((function(t,r,i){if(t!==qA)return t;if(r===qA&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||VA(r))return r}return t}),t)}),qA),LS((function(t){return t!==qA})),q((function(t){return VA(t)?t:!0===t})),ZS(1))}))}var HA=function t(e){d(this,t),this.segmentGroup=e||null},zA=function t(e){d(this,t),this.urlTree=e};function WA(t){return new x((function(e){return e.error(new HA(t))}))}function KA(t){return new x((function(e){return e.error(new zA(t))}))}function GA(t){return new x((function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))}))}var QA=function(){function t(e,n,r,i,o){d(this,t),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(ce)}return g(t,[{key:"apply",value:function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(q((function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)}))).pipe(oO((function(e){if(e instanceof zA)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof HA)throw t.noMatchError(e);throw e})))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(q((function(n){return e.createUrlTree(n,t.queryParams,t.fragment)}))).pipe(oO((function(t){if(t instanceof HA)throw e.noMatchError(t);throw t})))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var r=t.segments.length>0?new WO([],{primary:t}):t;return new zO(r,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(q((function(t){return new WO([],t)}))):this.expandSegment(t,n,e,n.segments,r,!0)}},{key:"expandChildren",value:function(t,e,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return kS({});var o=[],a=[],s={};return qO(n,(function(n,i){var u,c,l=(u=i,c=n,r.expandSegmentGroup(t,e,c,u)).pipe(q((function(t){return s[i]=t})));"primary"===i?o.push(l):a.push(l)})),kS.apply(null,o.concat(a)).pipe(DS(),function(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?LS((function(e,n){return t(e,n,r)})):N,VS(1),n?GS(e):HS((function(){return new PS})))}}(),q((function(){return s})))}(n.children)}},{key:"expandSegment",value:function(t,e,r,i,o,a){var s=this;return kS.apply(void 0,n(r)).pipe(uO((function(n){return s.expandSegmentAgainstRoute(t,e,r,n,i,o,a).pipe(oO((function(t){if(t instanceof HA)return kS(null);throw t})))})),cO((function(t){return!!t})),oO((function(t,n){if(t instanceof PS||"EmptyError"===t.name){if(s.noLeftoversInUrl(e,i,o))return kS(new WO([],{}));throw new HA(e)}throw t})))}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,r,i,o,a){return $A(r)!==o?WA(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):WA(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?KA(o):this.lineralizeSegments(n,o).pipe(tt((function(n){var o=new WO(n,{});return i.expandSegment(t,o,e,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){var a=this,s=YA(e,r,i),u=s.matched,c=s.consumedSegments,l=s.lastChild,h=s.positionalParamSegments;if(!u)return WA(e);var f=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?KA(f):this.lineralizeSegments(r,f).pipe(tt((function(r){return a.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(t,n,r,i){var o=this;if("**"===r.path)return r.loadChildren?this.configLoader.load(t.injector,r).pipe(q((function(t){return r._loadedConfig=t,new WO(i,{})}))):kS(new WO(i,{}));var a=YA(n,r,i),s=a.matched,u=a.consumedSegments,c=a.lastChild;if(!s)return WA(n);var l=i.slice(c);return this.getChildConfig(t,r,i).pipe(tt((function(t){var r=t.module,i=t.routes,a=function(t,n,r,i){return r.length>0&&function(t,e,n){return n.some((function(n){return JA(t,e,n)&&"primary"!==$A(n)}))}(t,r,i)?{segmentGroup:XA(new WO(n,function(t,n){var r={};r.primary=n;var i,o=e(t);try{for(o.s();!(i=o.n()).done;){var a=i.value;""===a.path&&"primary"!==$A(a)&&(r[$A(a)]=new WO([],{}))}}catch(s){o.e(s)}finally{o.f()}return r}(i,new WO(r,t.children)))),slicedSegments:[]}:0===r.length&&function(t,e,n){return n.some((function(n){return JA(t,e,n)}))}(t,r,i)?{segmentGroup:XA(new WO(t.segments,function(t,n,r,i){var o,a={},s=e(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;JA(t,n,u)&&!i[$A(u)]&&(a[$A(u)]=new WO([],{}))}}catch(c){s.e(c)}finally{s.f()}return Object.assign(Object.assign({},i),a)}(t,r,i,t.children))),slicedSegments:r}:{segmentGroup:t,slicedSegments:r}}(n,u,l,i),s=a.segmentGroup,c=a.slicedSegments;return 0===c.length&&s.hasChildren()?o.expandChildren(r,i,s).pipe(q((function(t){return new WO(u,t)}))):0===i.length&&0===c.length?kS(new WO(u,{})):o.expandSegment(r,s,i,c,"primary",!0).pipe(q((function(t){return new WO(u.concat(t.segments),t.children)})))})))}},{key:"getChildConfig",value:function(t,e,n){var r=this;return e.children?kS(new MA(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?kS(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(tt((function(n){return n?r.configLoader.load(t.injector,e).pipe(q((function(t){return e._loadedConfig=t,t}))):function(t){return new x((function(e){return e.error(DO("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))}))}(e)}))):kS(new MA([],t))}},{key:"runCanLoadGuards",value:function(t,e,n){var r=this,i=e.canLoad;return i&&0!==i.length?kS(i.map((function(r){var i,o=t.get(r);if(function(t){return t&&UA(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!UA(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return BO(i)}))).pipe(BA(),hO((function(t){if(VA(t)){var e=DO('Redirecting to "'.concat(r.urlSerializer.serialize(t),'"'));throw e.url=t,e}})),q((function(t){return!0===t}))):kS(!0)}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return kS(n);if(r.numberOfChildren>1||!r.children.primary)return GA(t.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new zO(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return qO(t,(function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t})),n}},{key:"createSegmentGroup",value:function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return qO(e.children,(function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)})),new WO(o,a)}},{key:"createSegments",value:function(t,e,n,r){var i=this;return e.map((function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)}))}},{key:"findPosParam",value:function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return r}},{key:"findOrReturn",value:function(t,n){var r,i=0,o=e(n);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(a.path===t.path)return n.splice(i),a;i++}}catch(s){o.e(s)}finally{o.f()}return t}}]),t}();function YA(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||LO)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function XA(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new WO(t.segments.concat(e.segments),e.children)}return t}function JA(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function $A(t){return t.outlet||"primary"}var ZA=function t(e){d(this,t),this.path=e,this.route=this.path[this.path.length-1]},tN=function t(e,n){d(this,t),this.component=e,this.route=n};function eN(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function nN(t,e,n){var r=dA(t),i=t.value;qO(r,(function(t,r){nN(t,i.component?e?e.children.getContext(r):null:e,n)})),n.canDeactivateChecks.push(new tN(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function rN(t,e){return null!==t&&e&&e(new NO(t)),kS(!0)}function iN(t,e){return null!==t&&e&&e(new OO(t)),kS(!0)}function oN(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?kS(r.map((function(r){return jS((function(){var i,o=eN(r,e,n);if(function(t){return t&&UA(t.canActivate)}(o))i=BO(o.canActivate(e,t));else{if(!UA(o))throw new Error("Invalid CanActivate guard");i=BO(o(e,t))}return i.pipe(cO())}))}))).pipe(BA()):kS(!0)}function aN(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map((function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)})).filter((function(t){return null!==t})).map((function(e){return jS((function(){return kS(e.guards.map((function(i){var o,a=eN(i,e.node,n);if(function(t){return t&&UA(t.canActivateChild)}(a))o=BO(a.canActivateChild(r,t));else{if(!UA(a))throw new Error("Invalid CanActivateChild guard");o=BO(a(r,t))}return o.pipe(cO())}))).pipe(BA())}))}));return kS(i).pipe(BA())}var sN=function t(){d(this,t)},uN=function(){function t(e,n,r,i,o,a){d(this,t),this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return g(t,[{key:"recognize",value:function(){try{var t=hN(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new bA([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new pA(n,e),i=new _A(this.url,r);return this.inheritParamsAndData(i._root),kS(i)}catch(o){return new x((function(t){return t.error(o)}))}}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,r=mA(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach((function(t){return e.inheritParamsAndData(t)}))}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){var n,r=this,i=QO(e,(function(e,n){return r.processSegmentGroup(t,e,n)}));return n={},i.forEach((function(t){var e=n[t.value.outlet];if(e){var r=e.url.map((function(t){return t.toString()})).join("/"),i=t.value.url.map((function(t){return t.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[t.value.outlet]=t.value})),i.sort((function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)})),i}},{key:"processSegment",value:function(t,n,r,i){var o,a=e(t);try{for(a.s();!(o=a.n()).done;){var s=o.value;try{return this.processSegmentAgainstRoute(s,n,r,i)}catch(u){if(!(u instanceof sN))throw u}}}catch(c){a.e(c)}finally{a.f()}if(this.noLeftoversInUrl(n,r,i))return[];throw new sN}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"processSegmentAgainstRoute",value:function(t,e,n,r){if(t.redirectTo)throw new sN;if((t.outlet||"primary")!==r)throw new sN;var i,o=[],a=[];if("**"===t.path){var s=n.length>0?VO(n).parameters:{};i=new bA(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,dN(t),r,t.component,t,cN(e),lN(e)+n.length,vN(t))}else{var u=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new sN;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||LO)(n,t,e);if(!r)throw new sN;var i={};qO(r.posParams,(function(t,e){i[e]=t.path}));var o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=u.consumedSegments,a=n.slice(u.lastChild),i=new bA(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,dN(t),r,t.component,t,cN(e),lN(e)+o.length,vN(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),l=hN(e,o,a,c,this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var p=this.processChildren(c,h);return[new pA(i,p)]}if(0===c.length&&0===f.length)return[new pA(i,[])];var d=this.processSegment(c,h,f,"primary");return[new pA(i,d)]}}]),t}();function cN(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function lN(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function hN(t,n,r,i,o){if(r.length>0&&function(t,e,n){return n.some((function(n){return fN(t,e,n)&&"primary"!==pN(n)}))}(t,r,i)){var a=new WO(n,function(t,n,r,i){var o={};o.primary=i,i._sourceSegment=t,i._segmentIndexShift=n.length;var a,s=e(r);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(""===u.path&&"primary"!==pN(u)){var c=new WO([],{});c._sourceSegment=t,c._segmentIndexShift=n.length,o[pN(u)]=c}}}catch(l){s.e(l)}finally{s.f()}return o}(t,n,i,new WO(r,t.children)));return a._sourceSegment=t,a._segmentIndexShift=n.length,{segmentGroup:a,slicedSegments:[]}}if(0===r.length&&function(t,e,n){return n.some((function(n){return fN(t,e,n)}))}(t,r,i)){var s=new WO(t.segments,function(t,n,r,i,o,a){var s,u={},c=e(i);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(fN(t,r,l)&&!o[pN(l)]){var h=new WO([],{});h._sourceSegment=t,h._segmentIndexShift="legacy"===a?t.segments.length:n.length,u[pN(l)]=h}}}catch(f){c.e(f)}finally{c.f()}return Object.assign(Object.assign({},o),u)}(t,n,r,i,t.children,o));return s._sourceSegment=t,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:r}}var u=new WO(t.segments,t.children);return u._sourceSegment=t,u._segmentIndexShift=n.length,{segmentGroup:u,slicedSegments:r}}function fN(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function pN(t){return t.outlet||"primary"}function dN(t){return t.data||{}}function vN(t){return t.resolve||{}}function gN(t){return function(e){return e.pipe(XS((function(e){var n=t(e);return n?X(n).pipe(q((function(){return e}))):X([e])})))}}var yN,mN=function(t){s(n,t);var e=c(n);function n(){return d(this,n),e.apply(this,arguments)}return n}(function(){function t(){d(this,t)}return g(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}()),bN=((yN=function t(){d(this,t)}).\u0275fac=function(t){return new(t||yN)},yN.\u0275cmp=Ee({type:yN,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Qo(0,"router-outlet")},directives:function(){return[zN]},encapsulation:2}),yN);function _N(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var r=t[n];wN(r,EN(e,r))}}function wN(t,e){if(!t)throw new Error("\n      Invalid configuration of route '".concat(e,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(t))throw new Error("Invalid configuration of route '".concat(e,"': Array cannot be specified"));if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error("Invalid configuration of route '".concat(e,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and children cannot be used together"));if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and loadChildren cannot be used together"));if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': children and loadChildren cannot be used together"));if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and component cannot be used together"));if(t.path&&t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': path and matcher cannot be used together"));if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': routes must have either a path or a matcher specified"));if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '".concat(e,"': path cannot start with a slash"));if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(e,'", redirectTo: "').concat(t.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '".concat(e,"': pathMatch can only be set to 'prefix' or 'full'"));t.children&&_N(t.children,e)}function EN(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function kN(t){var e=t.children&&t.children.map(kN),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=bN),n}var IN=new Xt("ROUTES"),CN=function(){function t(e,n,r,i){d(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return g(t,[{key:"load",value:function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(q((function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new MA(UO(i.injector.get(IN)).map(kN),i)})))}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?X(this.loader.load(t)):BO(t()).pipe(tt((function(t){return t instanceof le?kS(t):X(e.compiler.compileModuleAsync(t))})))}}]),t}(),TN=function t(){d(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new SN,this.attachRef=null},SN=function(){function t(){d(this,t),this.contexts=new Map}return g(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new TN,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),ON=function(){function t(){d(this,t)}return g(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function AN(t){throw t}function NN(t,e,n){return e.parse("/")}function PN(t,e){return kS(null)}var xN,RN,jN,DN=((jN=function(){function t(e,n,r,i,o,a,s,u){var c=this;d(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new M,this.errorHandler=AN,this.malformedUriErrorHandler=NN,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:PN,afterPreactivation:PN},this.urlHandlingStrategy=new ON,this.routeReuseStrategy=new mN,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(ce),this.console=o.get(Ms);var l=o.get(Js);this.isNgZoneEnabled=l instanceof Js,this.resetConfig(u),this.currentUrlTree=new zO(new WO([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new CN(a,s,(function(t){return c.triggerEvent(new TO(t))}),(function(t){return c.triggerEvent(new SO(t))})),this.routerState=gA(this.currentUrlTree,this.rootComponentType),this.transitions=new IS({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return g(t,[{key:"setupNavigations",value:function(t){var n=this,r=this.events;return t.pipe(LS((function(t){return 0!==t.id})),q((function(t){return Object.assign(Object.assign({},t),{extractedUrl:n.urlHandlingStrategy.extract(t.rawUrl)})})),XS((function(t){var i,o,a,s,u=!1,c=!1;return kS(t).pipe(hO((function(t){n.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:n.lastSuccessfulNavigation?Object.assign(Object.assign({},n.lastSuccessfulNavigation),{previousNavigation:null}):null}})),XS((function(t){var e,i,o,a,s=!n.navigated||t.extractedUrl.toString()!==n.browserUrlTree.toString();if(("reload"===n.onSameUrlNavigation||s)&&n.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return kS(t).pipe(XS((function(t){var e=n.transitions.getValue();return r.next(new yO(t.id,n.serializeUrl(t.extractedUrl),t.source,t.restoredState)),e!==n.transitions.getValue()?xS:[t]})),XS((function(t){return Promise.resolve(t)})),(e=n.ngModule.injector,i=n.configLoader,o=n.urlSerializer,a=n.config,function(t){return t.pipe(XS((function(t){return function(t,e,n,r,i){return new QA(t,e,n,r,i).apply()}(e,i,o,t.extractedUrl,a).pipe(q((function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})})))})))}),hO((function(t){n.currentNavigation=Object.assign(Object.assign({},n.currentNavigation),{finalUrl:t.urlAfterRedirects})})),function(t,e,r,i,o){return function(r){return r.pipe(tt((function(r){return function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new uN(t,e,n,r,i,o).recognize()}(t,e,r.urlAfterRedirects,(a=r.urlAfterRedirects,n.serializeUrl(a)),i,o).pipe(q((function(t){return Object.assign(Object.assign({},r),{targetSnapshot:t})})));var a})))}}(n.rootComponentType,n.config,0,n.paramsInheritanceStrategy,n.relativeLinkResolution),hO((function(t){"eager"===n.urlUpdateStrategy&&(t.extras.skipLocationChange||n.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),n.browserUrlTree=t.urlAfterRedirects)})),hO((function(t){var e=new wO(t.id,n.serializeUrl(t.extractedUrl),n.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);r.next(e)})));if(s&&n.rawUrlTree&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){var u=t.id,c=t.extractedUrl,l=t.source,h=t.restoredState,f=t.extras,p=new yO(u,n.serializeUrl(c),l,h);r.next(p);var d=gA(c,n.rootComponentType).snapshot;return kS(Object.assign(Object.assign({},t),{targetSnapshot:d,urlAfterRedirects:c,extras:Object.assign(Object.assign({},f),{skipLocationChange:!1,replaceUrl:!1})}))}return n.rawUrlTree=t.rawUrl,n.browserUrlTree=t.urlAfterRedirects,t.resolve(null),xS})),gN((function(t){var e=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return n.hooks.beforePreactivation(e,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),hO((function(t){var e=new EO(t.id,n.serializeUrl(t.extractedUrl),n.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.triggerEvent(e)})),q((function(t){return Object.assign(Object.assign({},t),{guards:(e=t.targetSnapshot,r=t.currentSnapshot,i=n.rootContexts,o=e._root,function t(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=dA(n);return e.children.forEach((function(e){!function(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=e.value,s=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){var c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!GO(t.url,e.url);case"pathParamsOrQueryParamsChange":return!GO(t.url,e.url)||!FO(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!IA(t,e)||!FO(t.queryParams,e.queryParams);case"paramsChange":default:return!IA(t,e)}}(s,a,a.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new ZA(i)):(a.data=s.data,a._resolvedData=s._resolvedData),t(e,n,a.component?u?u.children:null:r,i,o),c&&u&&u.outlet&&u.outlet.isActivated&&o.canDeactivateChecks.push(new tN(u.outlet.component,s))}else s&&nN(n,u,o),o.canActivateChecks.push(new ZA(i)),t(e,null,a.component?u?u.children:null:r,i,o)}(e,a[e.value.outlet],r,i.concat([e.value]),o),delete a[e.value.outlet]})),qO(a,(function(t,e){return nN(t,r.getContext(e),o)})),o}(o,r?r._root:null,i,[o.value]))});var e,r,i,o})),function(t,e){return function(n){return n.pipe(tt((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?kS(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return X(t).pipe(tt((function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?kS(o.map((function(o){var a,s=eN(o,e,i);if(function(t){return t&&UA(t.canDeactivate)}(s))a=BO(s.canDeactivate(t,e,n,r));else{if(!UA(s))throw new Error("Invalid CanDeactivate guard");a=BO(s(t,e,n,r))}return a.pipe(cO())}))).pipe(BA()):kS(!0)}(t.component,t.route,n,e,r)})),cO((function(t){return!0!==t}),!0))}(s,r,i,t).pipe(tt((function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return X(e).pipe(uO((function(e){return X([iN(e.route.parent,r),rN(e.route,r),aN(t,e.path,n),oN(t,e.route,n)]).pipe(DS(),cO((function(t){return!0!==t}),!0))})),cO((function(t){return!0!==t}),!0))}(r,a,t,e):kS(n)})),q((function(t){return Object.assign(Object.assign({},n),{guardsResult:t})})))})))}}(n.ngModule.injector,(function(t){return n.triggerEvent(t)})),hO((function(t){if(VA(t.guardsResult)){var e=DO('Redirecting to "'.concat(n.serializeUrl(t.guardsResult),'"'));throw e.url=t.guardsResult,e}})),hO((function(t){var e=new kO(t.id,n.serializeUrl(t.extractedUrl),n.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);n.triggerEvent(e)})),LS((function(t){if(!t.guardsResult){n.resetUrlToCurrentUrlTree();var e=new bO(t.id,n.serializeUrl(t.extractedUrl),"");return r.next(e),t.resolve(!1),!1}return!0})),gN((function(t){if(t.guards.canActivateChecks.length)return kS(t).pipe(hO((function(t){var e=new IO(t.id,n.serializeUrl(t.extractedUrl),n.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.triggerEvent(e)})),XS((function(t){var e,i,o=!1;return kS(t).pipe((e=n.paramsInheritanceStrategy,i=n.ngModule.injector,function(t){return t.pipe(tt((function(t){var n=t.targetSnapshot,r=t.guards.canActivateChecks;if(!r.length)return kS(t);var o=0;return X(r).pipe(uO((function(t){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return kS({});var o={};return X(i).pipe(tt((function(i){return function(t,e,n,r){var i=eN(t,e,r);return BO(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(hO((function(t){o[i]=t})))})),VS(1),tt((function(){return Object.keys(o).length===i.length?kS(o):xS})))}(t._resolve,t,e,r).pipe(q((function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),mA(t,n).resolve),null})))}(t.route,n,e,i)})),hO((function(){return o++})),VS(1),tt((function(e){return o===r.length?kS(t):xS})))})))}),hO({next:function(){return o=!0},complete:function(){if(!o){var e=new bO(t.id,n.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");r.next(e),t.resolve(!1)}}}))})),hO((function(t){var e=new CO(t.id,n.serializeUrl(t.extractedUrl),n.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.triggerEvent(e)})))})),gN((function(t){var e=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return n.hooks.afterPreactivation(e,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),q((function(t){var r=function(t,n,r){var i=function t(n,r,i){if(i&&n.shouldReuseRoute(r.value,i.value.snapshot)){var o=i.value;o._futureSnapshot=r.value;var a=function(n,r,i){return r.children.map((function(r){var o,a=e(i.children);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(n.shouldReuseRoute(s.value.snapshot,r.value))return t(n,r,s)}}catch(u){a.e(u)}finally{a.f()}return t(n,r)}))}(n,r,i);return new pA(o,a)}var s=n.retrieve(r.value);if(s){var u=s.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(r,u),u}var c,l=new yA(new IS((c=r.value).url),new IS(c.params),new IS(c.queryParams),new IS(c.fragment),new IS(c.data),c.outlet,c.component,c),h=r.children.map((function(e){return t(n,e)}));return new pA(l,h)}(t,n._root,r?r._root:void 0);return new vA(i,n)}(n.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:r})})),hO((function(t){n.currentUrlTree=t.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(n.currentUrlTree,t.rawUrl),n.routerState=t.targetRouterState,"deferred"===n.urlUpdateStrategy&&(t.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),n.browserUrlTree=t.urlAfterRedirects)})),(o=n.rootContexts,a=n.routeReuseStrategy,s=function(t){return n.triggerEvent(t)},q((function(t){return new LA(a,t.targetRouterState,t.currentRouterState,s).activate(o),t}))),hO({next:function(){u=!0},complete:function(){u=!0}}),(i=function(){if(!u&&!c){n.resetUrlToCurrentUrlTree();var e=new bO(t.id,n.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(n.navigationId));r.next(e),t.resolve(!1)}n.currentNavigation=null},function(t){return t.lift(new dO(i))}),oO((function(e){if(c=!0,(s=e)&&s.ngNavigationCancelingError){var i=VA(e.url);i||(n.navigated=!0,n.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new bO(t.id,n.serializeUrl(t.extractedUrl),e.message);r.next(o),i?setTimeout((function(){var r=n.urlHandlingStrategy.merge(e.url,n.rawUrlTree);return n.scheduleNavigation(r,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})}),0):t.resolve(!1)}else{n.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new _O(t.id,n.serializeUrl(t.extractedUrl),e);r.next(a);try{t.resolve(n.errorHandler(e))}catch(u){t.reject(u)}}var s;return xS})))})))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(e){var n=t.extractLocationChangeInfoFromEvent(e);t.shouldScheduleNavigation(t.lastLocationChangeInfo,n)&&setTimeout((function(){var e=n.source,r=n.state,i=n.urlTree,o={replaceUrl:!0};if(r){var a=Object.assign({},r);delete a.navigationId,0!==Object.keys(a).length&&(o.state=a)}t.scheduleNavigation(i,e,r,o)}),0),t.lastLocationChangeInfo=n})))}},{key:"extractLocationChangeInfoFromEvent",value:function(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(t,e){if(!t)return!0;var n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){_N(t),this.config=t.map(kN),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.relativeTo,i=e.queryParams,o=e.fragment,a=e.preserveQueryParams,s=e.queryParamsHandling,u=e.preserveFragment;Er()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var c=r||this.routerState.root,l=u?this.currentUrlTree.fragment:o,h=null;if(s)switch(s){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=a?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,r,i,o){if(0===r.length)return TA(e.root,e.root,e,i,o);var a=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new SA(!0,0,t);var e=0,r=!1,i=t.reduce((function(t,i,o){if("object"==typeof i&&null!=i){if(i.outlets){var a={};return qO(i.outlets,(function(t,e){a[e]="string"==typeof t?t.split("/"):t})),[].concat(n(t),[{outlets:a}])}if(i.segmentPath)return[].concat(n(t),[i.segmentPath])}return"string"!=typeof i?[].concat(n(t),[i]):0===o?(i.split("/").forEach((function(n,i){0==i&&"."===n||(0==i&&""===n?r=!0:".."===n?e++:""!=n&&t.push(n))})),t):[].concat(n(t),[i])}),[]);return new SA(r,e,i)}(r);if(a.toRoot())return TA(e.root,new WO([],{}),e,i,o);var s=function(t,e,n){if(t.isAbsolute)return new OA(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){var r=n.snapshot._urlSegment;return new OA(r,r===e.root,0)}var i=CA(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new OA(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(a,e,t),u=s.processChildren?PA(s.segmentGroup,s.index,a.commands):NA(s.segmentGroup,s.index,a.commands);return TA(s.segmentGroup,u,e,i,o)}(c,this.currentUrlTree,t,h,l)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Er()&&this.isNgZoneEnabled&&!Js.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=VA(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(VA(t))return HO(this.currentUrlTree,t,e);var n=this.parseUrl(t);return HO(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce((function(e,n){var r=t[n];return null!=r&&(e[n]=r),e}),{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe((function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new mO(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)}),(function(e){t.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(t,e,n,r,i){var o,a,s,u=this.getTransition(),c="imperative"!==e&&"imperative"===(null==u?void 0:u.source),l=(this.lastSuccessfulId===u.id||this.currentNavigation?u.rawUrl:u.urlAfterRedirects).toString()===t.toString();if(c&&l)return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise((function(t,e){o=t,a=e}));var h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(t){return Promise.reject(t)}))}},{key:"setBrowserUrl",value:function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),t}()).\u0275fac=function(t){return new(t||jN)(oe(so),oe(YO),oe(SN),oe(Yu),oe(ko),oe(mu),oe(Qs),oe(void 0))},jN.\u0275prov=wt({token:jN,factory:jN.\u0275fac}),jN),LN=((RN=function(){function t(e,n,r,i,o){d(this,t),this.router=e,this.route=n,this.commands=[],this.onChanges=new M,null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return g(t,[{key:"ngOnChanges",value:function(t){this.onChanges.next(this)}},{key:"onClick",value:function(){var t={skipLocationChange:MN(this.skipLocationChange),replaceUrl:MN(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"preserveQueryParams",set:function(t){Er()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:MN(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:MN(this.preserveFragment)})}}]),t}()).\u0275fac=function(t){return new(t||RN)(Bo(DN),Bo(yA),Ho("tabindex"),Bo(Na),Bo(Ta))},RN.\u0275dir=Oe({type:RN,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&$o("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[Ve]}),RN),FN=((xN=function(){function t(e,n,r){var i=this;d(this,t),this.router=e,this.route=n,this.locationStrategy=r,this.commands=[],this.onChanges=new M,this.subscription=e.events.subscribe((function(t){t instanceof mO&&i.updateTargetUrlAndHref()}))}return g(t,[{key:"ngOnChanges",value:function(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var o={skipLocationChange:MN(this.skipLocationChange),replaceUrl:MN(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"preserveQueryParams",set:function(t){Er()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:MN(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:MN(this.preserveFragment)})}}]),t}()).\u0275fac=function(t){return new(t||xN)(Bo(DN),Bo(yA),Bo(qu))},xN.\u0275dir=Oe({type:xN,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&$o("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)})),2&t&&(da("href",e.href,Tr),Uo("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[Ve]}),xN);function MN(t){return""===t||!!t}var UN,VN,qN,BN,HN=((VN=function(){function t(e,n,r,i,o,a){var s=this;d(this,t),this.router=e,this.element=n,this.renderer=r,this.cdr=i,this.link=o,this.linkWithHref=a,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=e.events.subscribe((function(t){t instanceof mO&&s.update()}))}return g(t,[{key:"ngAfterContentInit",value:function(){var t=this;X([this.links.changes,this.linksWithHrefs.changes,kS(null)]).pipe(rt()).subscribe((function(e){t.update(),t.subscribeToEachLinkOnChanges()}))}},{key:"subscribeToEachLinkOnChanges",value:function(){var t,e=this;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();var r=[].concat(n(this.links.toArray()),n(this.linksWithHrefs.toArray()),[this.link,this.linkWithHref]).filter((function(t){return!!t})).map((function(t){return t.onChanges}));this.linkInputChangesSubscription=X(r).pipe(rt()).subscribe((function(t){e.isActive!==e.isLinkActive(e.router)(t)&&e.update()}))}},{key:"ngOnChanges",value:function(t){this.update()}},{key:"ngOnDestroy",value:function(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}},{key:"update",value:function(){var t=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then((function(){var e=t.hasActiveLinks();t.isActive!==e&&(t.isActive=e,t.cdr.markForCheck(),t.classes.forEach((function(n){e?t.renderer.addClass(t.element.nativeElement,n):t.renderer.removeClass(t.element.nativeElement,n)})))}))}},{key:"isLinkActive",value:function(t){var e=this;return function(n){return t.isActive(n.urlTree,e.routerLinkActiveOptions.exact)}}},{key:"hasActiveLinks",value:function(){var t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}},{key:"routerLinkActive",set:function(t){var e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter((function(t){return!!t}))}}]),t}()).\u0275fac=function(t){return new(t||VN)(Bo(DN),Bo(Ta),Bo(Na),Bo(oo),Bo(LN,8),Bo(FN,8))},VN.\u0275dir=Oe({type:VN,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var r;1&t&&(Ss(n,LN,!0),Ss(n,FN,!0)),2&t&&(Ts(r=Os())&&(e.links=r),Ts(r=Os())&&(e.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[Ve]}),VN),zN=((UN=function(){function t(e,n,r,i,o){d(this,t),this.parentContexts=e,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new vs,this.deactivateEvents=new vs,this.name=i||"primary",e.onChildOutletCreated(this.name,this)}return g(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new WN(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),t}()).\u0275fac=function(t){return new(t||UN)(Bo(SN),Bo(Ja),Bo(Ca),Ho("name"),Bo(oo))},UN.\u0275dir=Oe({type:UN,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),UN),WN=function(){function t(e,n,r){d(this,t),this.route=e,this.childContexts=n,this.parent=r}return g(t,[{key:"get",value:function(t,e){return t===yA?this.route:t===SN?this.childContexts:this.parent.get(t,e)}}]),t}(),KN=function t(){d(this,t)},GN=function(){function t(){d(this,t)}return g(t,[{key:"preload",value:function(t,e){return kS(null)}}]),t}(),QN=((BN=function(){function t(e,n,r,i,o){d(this,t),this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new CN(n,r,(function(t){return e.triggerEvent(new TO(t))}),(function(t){return e.triggerEvent(new SO(t))}))}return g(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(LS((function(t){return t instanceof mO})),uO((function(){return t.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var t=this.injector.get(ce);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,n){var r,i=[],o=e(n);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(a.loadChildren&&!a.canLoad&&a._loadedConfig){var s=a._loadedConfig;i.push(this.processRoutes(s.module,s.routes))}else a.loadChildren&&!a.canLoad?i.push(this.preloadConfig(t,a)):a.children&&i.push(this.processRoutes(t,a.children))}}catch(u){o.e(u)}finally{o.f()}return X(i).pipe(rt(),q((function(t){})))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,(function(){return n.loader.load(t.injector,e).pipe(tt((function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})))}))}}]),t}()).\u0275fac=function(t){return new(t||BN)(oe(DN),oe(mu),oe(Qs),oe(ko),oe(KN))},BN.\u0275prov=wt({token:BN,factory:BN.\u0275fac}),BN),YN=((qN=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};d(this,t),this.router=e,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return g(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof yO?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof mO&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof xO&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new xO(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||qN)(oe(DN),oe(yc),oe(void 0))},qN.\u0275prov=wt({token:qN,factory:qN.\u0275fac}),qN),XN=new Xt("ROUTER_CONFIGURATION"),JN=new Xt("ROUTER_FORROOT_GUARD"),$N=[Yu,{provide:YO,useClass:XO},{provide:DN,useFactory:function(t,e,n,r,i,o,a){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,l=new DN(null,t,e,n,r,i,o,UO(a));if(u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),s.errorHandler&&(l.errorHandler=s.errorHandler),s.malformedUriErrorHandler&&(l.malformedUriErrorHandler=s.malformedUriErrorHandler),s.enableTracing){var h=Su();l.events.subscribe((function(t){h.logGroup("Router Event: "+t.constructor.name),h.log(t.toString()),h.log(t),h.logGroupEnd()}))}return s.onSameUrlNavigation&&(l.onSameUrlNavigation=s.onSameUrlNavigation),s.paramsInheritanceStrategy&&(l.paramsInheritanceStrategy=s.paramsInheritanceStrategy),s.urlUpdateStrategy&&(l.urlUpdateStrategy=s.urlUpdateStrategy),s.relativeLinkResolution&&(l.relativeLinkResolution=s.relativeLinkResolution),l},deps:[YO,SN,Yu,ko,mu,Qs,IN,XN,[function(){return function t(){d(this,t)}}(),new vt],[function(){return function t(){d(this,t)}}(),new vt]]},SN,{provide:yA,useFactory:function(t){return t.routerState.root},deps:[DN]},{provide:mu,useClass:wu},QN,GN,function(){function t(){d(this,t)}return g(t,[{key:"preload",value:function(t,e){return e().pipe(oO((function(){return kS(null)})))}}]),t}(),{provide:XN,useValue:{enableTracing:!1}}];function ZN(){return new lu("Router",DN)}var tP,eP=((tP=function(){function t(e,n){d(this,t)}return g(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[$N,oP(e),{provide:JN,useFactory:iP,deps:[[DN,new vt,new yt]]},{provide:XN,useValue:n||{}},{provide:qu,useFactory:rP,deps:[Nu,[new dt(Ku),new vt],XN]},{provide:YN,useFactory:nP,deps:[DN,yc,XN]},{provide:KN,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:GN},{provide:lu,multi:!0,useFactory:ZN},[sP,{provide:Ns,multi:!0,useFactory:uP,deps:[sP]},{provide:hP,useFactory:cP,deps:[sP]},{provide:Fs,multi:!0,useExisting:hP}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[oP(e)]}}}]),t}()).\u0275mod=Te({type:tP}),tP.\u0275inj=Et({factory:function(t){return new(t||tP)(oe(JN,8),oe(DN,8))}}),tP);function nP(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new YN(t,e,n)}function rP(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new Qu(t,e):new Gu(t,e)}function iP(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function oP(t){return[{provide:Io,multi:!0,useValue:t},{provide:IN,multi:!0,useValue:t}]}var aP,sP=((aP=function(){function t(e){d(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new M}return g(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(Ru,Promise.resolve(null)).then((function(){var e=null,n=new Promise((function(t){return e=t})),r=t.injector.get(DN),i=t.injector.get(XN);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return t.initNavigation?kS(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(XN),n=this.injector.get(QN),r=this.injector.get(YN),i=this.injector.get(DN),o=this.injector.get(gu);t===o.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}},{key:"isLegacyDisabled",value:function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}]),t}()).\u0275fac=function(t){return new(t||aP)(oe(ko))},aP.\u0275prov=wt({token:aP,factory:aP.\u0275fac}),aP);function uP(t){return t.appInitializer.bind(t)}function cP(t){return t.bootstrapListener.bind(t)}var lP,hP=new Xt("Router Initializer"),fP=((lP=function(){function t(e,n){d(this,t),this.router=e,this.activatedRouter=n}return g(t,[{key:"registroUsuario",value:function(t){el.a.auth().createUserWithEmailAndPassword(t.email,t.password).catch((function(t){console.log(t)}))}},{key:"inicioSesion",value:function(t){var e=this;el.a.auth().signInWithEmailAndPassword(t.email,t.password).then((function(t){console.log(t),e.router.navigate(["/inicio"])})).catch((function(t){console.log(t)}))}},{key:"isAuthenticated",value:function(){return!!el.a.auth().currentUser}},{key:"logout",value:function(){el.a.auth().signOut()}}]),t}()).\u0275fac=function(t){return new(t||lP)(oe(DN),oe(yA))},lP.\u0275prov=wt({token:lP,factory:lP.\u0275fac,providedIn:"root"}),lP),pP=function(){return{exact:!0}};function dP(t,e){var n,r,i;1&t&&(Ko(0,"li",9),Ko(1,"a",10),ha(2,"Inicio "),Go(),Go()),2&t&&zo("routerLinkActiveOptions",(n=pP,r=gn()+1,(i=un())[r]===Mr?Fo(i,r,n()):function(t,e){return t[e]}(i,r)))}function vP(t,e){1&t&&(Ko(0,"li",11),Ko(1,"a",12),ha(2,"Proveedores "),Go(),Go())}function gP(t,e){1&t&&(Ko(0,"li",11),Ko(1,"a",13),ha(2,"Presupuestos "),Go(),Go())}function yP(t,e){1&t&&(Ko(0,"li",14),Ko(1,"button",15),ha(2,"Inicie sesi\xf3n"),Go(),Go())}function mP(t,e){if(1&t){var n=Yo();Ko(0,"li",14),Ko(1,"button",16),$o("click",(function(){return ln(n),ea().onLogout()})),ha(2,"Cerrar sesi\xf3n"),Go(),Go()}}var bP,_P,wP=((_P=function(){function t(e,n,r){d(this,t),this.autService=e,this.router=n,this.activatedRouter=r}return g(t,[{key:"ngOnInit",value:function(){}},{key:"isAuth",value:function(){return this.autService.isAuthenticated()}},{key:"onLogout",value:function(){this.autService.logout(),this.router.navigate(["/iniciosesion"])}}]),t}()).\u0275fac=function(t){return new(t||_P)(Bo(fP),Bo(DN),Bo(yA))},_P.\u0275cmp=Ee({type:_P,selectors:[["app-header"]],decls:12,vars:5,consts:[[1,"navbar","navbar-dark","bg-dark","navbar-expand-lg"],["type","button","data-toggle","collapse","data-target","#containerNavbar","aria-controls","containerNavbar","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","navbar-toggler-right"],[1,"navbar-toggler-icon"],["href","#",1,"navbar-brand"],["id","containerNavbar",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto","w-100","justify-content-end"],["class","nav-item","routerLinkActive","active",3,"routerLinkActiveOptions",4,"ngIf"],["class","nav-item","routerLinkActive","active",4,"ngIf"],["class","nav-item",4,"ngIf"],["routerLinkActive","active",1,"nav-item",3,"routerLinkActiveOptions"],["routerLink","/",1,"nav-link"],["routerLinkActive","active",1,"nav-item"],["routerLink","/proveedores",1,"nav-link"],["routerLink","/presupuestos",1,"nav-link"],[1,"nav-item"],["routerLink","/iniciosesion",1,"btn","btn-primary","float-md-right"],[1,"btn","btn-primary","float-md-right",3,"click"]],template:function(t,e){1&t&&(Ko(0,"nav",0),Ko(1,"button",1),Qo(2,"span",2),Go(),Ko(3,"a",3),ha(4,"Compras App"),Go(),Ko(5,"div",4),Ko(6,"ul",5),qo(7,dP,3,2,"li",6),qo(8,vP,3,0,"li",7),qo(9,gP,3,0,"li",7),qo(10,yP,3,0,"li",8),qo(11,mP,3,0,"li",8),Go(),Go(),Go()),2&t&&(Hr(7),zo("ngIf",e.isAuth()),Hr(1),zo("ngIf",e.isAuth()),Hr(1),zo("ngIf",e.isAuth()),Hr(1),zo("ngIf",!e.isAuth()),Hr(1),zo("ngIf",e.isAuth()))},directives:[uc,HN,FN,LN],styles:["nav[_ngcontent-%COMP%]{margin-bottom:40px}.nav-item[_ngcontent-%COMP%]{padding:15px}"]}),_P),EP=((bP=function(){function t(){d(this,t),this.title="appCompras"}return g(t,[{key:"ngOnInit",value:function(){el.a.initializeApp({apiKey:"AIzaSyD_AjK7nH5xWAEc_DDtS-RSw4BGyyWIdHw",authDomain:"comprasapp-9fc31.firebaseapp.com",databaseURL:"https://comprasapp-9fc31.firebaseio.com",projectId:"comprasapp-9fc31",storageBucket:"comprasapp-9fc31.appspot.com",messagingSenderId:"1096056903066",appId:"1:1096056903066:web:8ef89ea7054079c74c1623",measurementId:"G-DTSE6DFCZC"})}}]),t}()).\u0275fac=function(t){return new(t||bP)},bP.\u0275cmp=Ee({type:bP,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container"]],template:function(t,e){1&t&&(Qo(0,"app-header"),Ko(1,"div",0),Qo(2,"router-outlet"),Go())},directives:[wP,zN],styles:[""]}),bP),kP=function t(){d(this,t)},IP=function t(){d(this,t)},CP=function(){function t(e){var n=this;d(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){n.headers=new Map,e.split("\n").forEach((function(t){var e=t.indexOf(":");if(e>0){var r=t.slice(0,e),i=r.toLowerCase(),o=t.slice(e+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}}))}:function(){n.headers=new Map,Object.keys(e).forEach((function(t){var r=e[t],i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(t,i))}))}:this.headers=new Map}return g(t,[{key:"has",value:function(t){return this.init(),this.headers.has(t.toLowerCase())}},{key:"get",value:function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(t){return this.init(),this.headers.get(t.toLowerCase())||null}},{key:"append",value:function(t,e){return this.clone({name:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({name:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({name:t,value:e,op:"d"})}},{key:"maybeSetNormalizedName",value:function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(t){return e.applyUpdate(t)})),this.lazyUpdate=null))}},{key:"copyFrom",value:function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach((function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))}))}},{key:"clone",value:function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);var i=("a"===t.op?this.headers.get(e):void 0)||[];i.push.apply(i,n(r)),this.headers.set(e,i);break;case"d":var o=t.value;if(o){var a=this.headers.get(e);if(!a)return;0===(a=a.filter((function(t){return-1===o.indexOf(t)}))).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}},{key:"forEach",value:function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(n){return t(e.normalizedNames.get(n),e.headers.get(n))}))}}]),t}(),TP=function(){function t(){d(this,t)}return g(t,[{key:"encodeKey",value:function(t){return SP(t)}},{key:"encodeValue",value:function(t){return SP(t)}},{key:"decodeKey",value:function(t){return decodeURIComponent(t)}},{key:"decodeValue",value:function(t){return decodeURIComponent(t)}}]),t}();function SP(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var OP=function(){function e(){var n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(d(this,e),this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new TP,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,n){var r=new Map;return e.length>0&&e.split("&").forEach((function(e){var i=e.indexOf("="),o=t(-1==i?[n.decodeKey(e),""]:[n.decodeKey(e.slice(0,i)),n.decodeValue(e.slice(i+1))],2),a=o[0],s=o[1],u=r.get(a)||[];u.push(s),r.set(a,u)})),r}(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach((function(t){var e=r.fromObject[t];n.map.set(t,Array.isArray(e)?e:[e])}))):this.map=null}return g(e,[{key:"has",value:function(t){return this.init(),this.map.has(t)}},{key:"get",value:function(t){this.init();var e=this.map.get(t);return e?e[0]:null}},{key:"getAll",value:function(t){return this.init(),this.map.get(t)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(t,e){return this.clone({param:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({param:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({param:t,value:e,op:"d"})}},{key:"toString",value:function(){var t=this;return this.init(),this.keys().map((function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map((function(e){return n+"="+t.encoder.encodeValue(e)})).join("&")})).filter((function(t){return""!==t})).join("&")}},{key:"clone",value:function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([t]),n}},{key:"init",value:function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(e){return t.map.set(e,t.cloneFrom.map.get(e))})),this.updates.forEach((function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var r=t.map.get(e.param)||[],i=r.indexOf(e.value);-1!==i&&r.splice(i,1),r.length>0?t.map.set(e.param,r):t.map.delete(e.param)}})),this.cloneFrom=this.updates=null)}}]),e}();function AP(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function NP(t){return"undefined"!=typeof Blob&&t instanceof Blob}function PP(t){return"undefined"!=typeof FormData&&t instanceof FormData}var xP=function(){function t(e,n,r,i){var o;if(d(this,t),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new CP),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+a}}else this.params=new OP,this.urlWithParams=n}return g(t,[{key:"serializeBody",value:function(){return null===this.body?null:AP(this.body)||NP(this.body)||PP(this.body)||"string"==typeof this.body?this.body:this.body instanceof OP?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||PP(this.body)?null:NP(this.body)?this.body.type||null:AP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof OP?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,u=e.headers||this.headers,c=e.params||this.params;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((function(t,n){return t.set(n,e.setHeaders[n])}),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((function(t,n){return t.set(n,e.setParams[n])}),c)),new t(n,r,o,{params:c,headers:u,reportProgress:s,responseType:i,withCredentials:a})}}]),t}(),RP=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({}),jP=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";d(this,t),this.headers=e.headers||new CP,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300},DP=function(t){s(n,t);var e=c(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d(this,n),(t=e.call(this,r)).type=RP.ResponseHeader,t}return g(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(jP),LP=function(t){s(n,t);var e=c(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d(this,n),(t=e.call(this,r)).type=RP.Response,t.body=void 0!==r.body?r.body:null,t}return g(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(jP),FP=function(t){s(n,t);var e=c(n);function n(t){var r;return d(this,n),(r=e.call(this,t,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):"Http failure response for ".concat(t.url||"(unknown url)",": ").concat(t.status," ").concat(t.statusText),r.error=t.error||null,r}return n}(jP);function MP(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var UP,VP,qP,BP,HP,zP,WP,KP,GP,QP,YP=((UP=function(){function t(e){d(this,t),this.handler=e}return g(t,[{key:"request",value:function(t,e){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t instanceof xP)n=t;else{var o=void 0;o=i.headers instanceof CP?i.headers:new CP(i.headers);var a=void 0;i.params&&(a=i.params instanceof OP?i.params:new OP({fromObject:i.params})),n=new xP(t,e,void 0!==i.body?i.body:null,{headers:o,params:a,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}var s=kS(n).pipe(uO((function(t){return r.handler.handle(t)})));if(t instanceof xP||"events"===i.observe)return s;var u=s.pipe(LS((function(t){return t instanceof LP})));switch(i.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe(q((function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body})));case"blob":return u.pipe(q((function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body})));case"text":return u.pipe(q((function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body})));case"json":default:return u.pipe(q((function(t){return t.body})))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(i.observe,"}"))}}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",t,e)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",t,e)}},{key:"head",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",t,e)}},{key:"jsonp",value:function(t,e){return this.request("JSONP",t,{params:(new OP).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",t,e)}},{key:"patch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",t,MP(n,e))}},{key:"post",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",t,MP(n,e))}},{key:"put",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",t,MP(n,e))}}]),t}()).\u0275fac=function(t){return new(t||UP)(oe(kP))},UP.\u0275prov=wt({token:UP,factory:UP.\u0275fac}),UP),XP=function(){function t(e,n){d(this,t),this.next=e,this.interceptor=n}return g(t,[{key:"handle",value:function(t){return this.interceptor.intercept(t,this.next)}}]),t}(),JP=new Xt("HTTP_INTERCEPTORS"),$P=((VP=function(){function t(){d(this,t)}return g(t,[{key:"intercept",value:function(t,e){return e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||VP)},VP.\u0275prov=wt({token:VP,factory:VP.\u0275fac}),VP),ZP=/^\)\]\}',?\n/,tx=function t(){d(this,t)},ex=((BP=function(){function t(){d(this,t)}return g(t,[{key:"build",value:function(){return new XMLHttpRequest}}]),t}()).\u0275fac=function(t){return new(t||BP)},BP.\u0275prov=wt({token:BP,factory:BP.\u0275fac}),BP),nx=((qP=function(){function t(e){d(this,t),this.xhrFactory=e}return g(t,[{key:"handle",value:function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new x((function(n){var r=e.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((function(t,e){return r.setRequestHeader(t,e.join(","))})),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var i=t.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(t.responseType){var o=t.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=t.serializeBody(),s=null,u=function(){if(null!==s)return s;var e=1223===r.status?204:r.status,n=r.statusText||"OK",i=new CP(r.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||t.url;return s=new DP({headers:i,status:e,statusText:n,url:o})},c=function(){var e=u(),i=e.headers,o=e.status,a=e.statusText,s=e.url,c=null;204!==o&&(c=void 0===r.response?r.responseText:r.response),0===o&&(o=c?200:0);var l=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof c){var h=c;c=c.replace(ZP,"");try{c=""!==c?JSON.parse(c):null}catch(f){c=h,l&&(l=!1,c={error:f,text:c})}}l?(n.next(new LP({body:c,headers:i,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new FP({error:c,headers:i,status:o,statusText:a,url:s||void 0}))},l=function(t){var e=u().url,i=new FP({error:t,status:r.status||0,statusText:r.statusText||"Unknown Error",url:e||void 0});n.error(i)},h=!1,f=function(e){h||(n.next(u()),h=!0);var i={type:RP.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),"text"===t.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},p=function(t){var e={type:RP.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return r.addEventListener("load",c),r.addEventListener("error",l),t.reportProgress&&(r.addEventListener("progress",f),null!==a&&r.upload&&r.upload.addEventListener("progress",p)),r.send(a),n.next({type:RP.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("load",c),t.reportProgress&&(r.removeEventListener("progress",f),null!==a&&r.upload&&r.upload.removeEventListener("progress",p)),r.readyState!==r.DONE&&r.abort()}}))}}]),t}()).\u0275fac=function(t){return new(t||qP)(oe(tx))},qP.\u0275prov=wt({token:qP,factory:qP.\u0275fac}),qP),rx=new Xt("XSRF_COOKIE_NAME"),ix=new Xt("XSRF_HEADER_NAME"),ox=function t(){d(this,t)},ax=((QP=function(){function t(e,n,r){d(this,t),this.doc=e,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return g(t,[{key:"getToken",value:function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=nc(t,this.cookieName),this.lastCookieString=t),this.lastToken}}]),t}()).\u0275fac=function(t){return new(t||QP)(oe(Au),oe(Ls),oe(rx))},QP.\u0275prov=wt({token:QP,factory:QP.\u0275fac}),QP),sx=((GP=function(){function t(e,n){d(this,t),this.tokenService=e,this.headerName=n}return g(t,[{key:"intercept",value:function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||GP)(oe(ox),oe(ix))},GP.\u0275prov=wt({token:GP,factory:GP.\u0275fac}),GP),ux=((KP=function(){function t(e,n){d(this,t),this.backend=e,this.injector=n,this.chain=null}return g(t,[{key:"handle",value:function(t){if(null===this.chain){var e=this.injector.get(JP,[]);this.chain=e.reduceRight((function(t,e){return new XP(t,e)}),this.backend)}return this.chain.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||KP)(oe(IP),oe(ko))},KP.\u0275prov=wt({token:KP,factory:KP.\u0275fac}),KP),cx=((WP=function(){function t(){d(this,t)}return g(t,null,[{key:"disable",value:function(){return{ngModule:t,providers:[{provide:sx,useClass:$P}]}}},{key:"withOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.cookieName?{provide:rx,useValue:e.cookieName}:[],e.headerName?{provide:ix,useValue:e.headerName}:[]]}}}]),t}()).\u0275mod=Te({type:WP}),WP.\u0275inj=Et({factory:function(t){return new(t||WP)},providers:[sx,{provide:JP,useExisting:sx,multi:!0},{provide:ox,useClass:ax},{provide:rx,useValue:"XSRF-TOKEN"},{provide:ix,useValue:"X-XSRF-TOKEN"}]}),WP),lx=((zP=function t(){d(this,t)}).\u0275mod=Te({type:zP}),zP.\u0275inj=Et({factory:function(t){return new(t||zP)},providers:[YP,{provide:kP,useClass:ux},nx,{provide:IP,useExisting:nx},ex,{provide:tx,useExisting:ex}],imports:[[cx.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),zP),hx=((HP=function(){function t(e){d(this,t),this.http=e,this.presURL="https://comprasapp-9fc31.firebaseio.com/proveedores.json",this.preURL="https://comprasapp-9fc31.firebaseio.com/proveedores"}return g(t,[{key:"postProveedores",value:function(t){var e=JSON.stringify(t),n=new CP({"Content-Type":"application/json"});return this.http.post(this.presURL,e,{headers:n}).pipe(q((function(t){return console.log(t),t})))}},{key:"getProveedores",value:function(){return this.http.get(this.presURL).pipe(q((function(t){return t})))}},{key:"getProveedor",value:function(t){return this.http.get("".concat(this.preURL,"/").concat(t,".json")).pipe(q((function(t){return t})))}},{key:"putProveedor",value:function(t,e){var n=JSON.stringify(t),r=new CP({"Content-Type":"application/json"});return this.http.put("".concat(this.preURL,"/").concat(e,".json"),n,{headers:r}).pipe(q((function(t){return console.log(t),t})))}},{key:"delProveedor",value:function(t){return this.http.delete("".concat(this.preURL,"/").concat(t,".json")).pipe(q((function(t){return t})))}}]),t}()).\u0275fac=function(t){return new(t||HP)(oe(YP))},HP.\u0275prov=wt({token:HP,factory:HP.\u0275fac,providedIn:"root"}),HP);function fx(t,e){return new x((function(n){var r=t.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var u=X(t[s]),c=!1;n.add(u.subscribe({next:function(t){c||(c=!0,a++),i[s]=t},error:function(t){return n.error(t)},complete:function(){++o!==r&&c||(a===r&&n.next(e?e.reduce((function(t,e,n){return t[e]=i[n],t}),{}):i),n.complete())}}))},u=0;u<r;u++)s(u);else n.complete()}))}var px,dx,vx,gx,yx,mx,bx,_x=new Xt("NgValueAccessor"),wx={provide:_x,useExisting:jt((function(){return Ex})),multi:!0},Ex=((px=function(){function t(e,n){d(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return g(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||px)(Bo(Na),Bo(Ta))},px.\u0275dir=Oe({type:px,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&$o("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[Ea([wx])]}),px),kx={provide:_x,useExisting:jt((function(){return Cx})),multi:!0},Ix=new Xt("CompositionEventMode"),Cx=((gx=function(){function t(e,n,r){var i;d(this,t),this._renderer=e,this._elementRef=n,this._compositionMode=r,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=Su()?Su().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return g(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),t}()).\u0275fac=function(t){return new(t||gx)(Bo(Na),Bo(Ta),Bo(Ix,8))},gx.\u0275dir=Oe({type:gx,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&$o("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[Ea([kx])]}),gx),Tx=((vx=function(){function t(){d(this,t)}return g(t,[{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),t}()).\u0275fac=function(t){return new(t||vx)},vx.\u0275dir=Oe({type:vx}),vx),Sx=((dx=function(t){s(n,t);var e=c(n);function n(){return d(this,n),e.apply(this,arguments)}return g(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(Tx)).\u0275fac=function(t){return Ox(t||dx)},dx.\u0275dir=Oe({type:dx,features:[So]}),dx),Ox=(yx=Sx,ft((function(){for(var t=yx.prototype.constructor,e=t[Qt]||pr(t),n=Object.prototype,r=Object.getPrototypeOf(yx.prototype).constructor;r&&r!==n;){var i=r[Qt]||pr(r);if(i&&i!==e)return i;r=Object.getPrototypeOf(r)}return function(t){return new t}}))),Ax=function(t){s(n,t);var e=c(n);function n(){var t;return d(this,n),(t=e.apply(this,arguments))._parent=null,t.name=null,t.valueAccessor=null,t._rawValidators=[],t._rawAsyncValidators=[],t}return g(n,[{key:"validator",get:function(){}},{key:"asyncValidator",get:function(){}}]),n}(Tx),Nx=function(){function t(e){d(this,t),this._cd=e}return g(t,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),t}(),Px=((bx=function(t){s(n,t);var e=c(n);function n(t){return d(this,n),e.call(this,t)}return n}(Nx)).\u0275fac=function(t){return new(t||bx)(Bo(Ax,2))},bx.\u0275dir=Oe({type:bx,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&aa("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[So]}),bx),xx=((mx=function(t){s(n,t);var e=c(n);function n(t){return d(this,n),e.call(this,t)}return n}(Nx)).\u0275fac=function(t){return new(t||mx)(Bo(Sx,2))},mx.\u0275dir=Oe({type:mx,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&aa("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[So]}),mx);function Rx(t){return null==t||0===t.length}function jx(t){return null!=t&&"number"==typeof t.length}var Dx=new Xt("NgValidators"),Lx=new Xt("NgAsyncValidators"),Fx=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Mx=function(){function t(){d(this,t)}return g(t,null,[{key:"min",value:function(t){return function(e){if(Rx(e.value)||Rx(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}},{key:"max",value:function(t){return function(e){if(Rx(e.value)||Rx(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}},{key:"required",value:function(t){return Rx(t.value)?{required:!0}:null}},{key:"requiredTrue",value:function(t){return!0===t.value?null:{required:!0}}},{key:"email",value:function(t){return Rx(t.value)||Fx.test(t.value)?null:{email:!0}}},{key:"minLength",value:function(t){return function(e){return Rx(e.value)||!jx(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}}},{key:"maxLength",value:function(t){return function(e){return jx(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}}},{key:"pattern",value:function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(Rx(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){if(!t)return null;var e=t.filter(Ux);return 0==e.length?null:function(t){return qx(Bx(t,e))}}},{key:"composeAsync",value:function(t){if(!t)return null;var e=t.filter(Ux);return 0==e.length?null:function(t){return function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(1===e.length){var i=e[0];if(_(i))return fx(i,null);if(w(i)&&Object.getPrototypeOf(i)===Object.prototype){var o=Object.keys(i);return fx(o.map((function(t){return i[t]})),o)}}if("function"==typeof e[e.length-1]){var a=e.pop();return fx(e=1===e.length&&_(e[0])?e[0]:e,null).pipe(q((function(t){return a.apply(void 0,n(t))})))}return fx(e,null)}(Bx(t,e).map(Vx)).pipe(q(qx))}}}]),t}();function Ux(t){return null!=t}function Vx(t){var e=Xo(t)?X(t):t;return Jo(e),e}function qx(t){var e={};return t.forEach((function(t){e=null!=t?Object.assign(Object.assign({},e),t):e})),0===Object.keys(e).length?null:e}function Bx(t,e){return e.map((function(e){return e(t)}))}function Hx(t){return t.map((function(t){return function(t){return!t.validate}(t)?t:function(e){return t.validate(e)}}))}var zx,Wx,Kx,Gx,Qx={provide:_x,useExisting:jt((function(){return Yx})),multi:!0},Yx=((zx=function(){function t(e,n){d(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return g(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||zx)(Bo(Na),Bo(Ta))},zx.\u0275dir=Oe({type:zx,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&$o("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[Ea([Qx])]}),zx),Xx={provide:_x,useExisting:jt((function(){return $x})),multi:!0},Jx=((Kx=function(){function t(){d(this,t),this._accessors=[]}return g(t,[{key:"add",value:function(t,e){this._accessors.push([t,e])}},{key:"remove",value:function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}},{key:"select",value:function(t){var e=this;this._accessors.forEach((function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)}))}},{key:"_isSameGroup",value:function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}]),t}()).\u0275fac=function(t){return new(t||Kx)},Kx.\u0275prov=wt({token:Kx,factory:Kx.\u0275fac}),Kx),$x=((Wx=function(){function t(e,n,r,i){d(this,t),this._renderer=e,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return g(t,[{key:"ngOnInit",value:function(){this._control=this._injector.get(Ax),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}}},{key:"fireUncheck",value:function(t){this.writeValue(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_checkName",value:function(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}]),t}()).\u0275fac=function(t){return new(t||Wx)(Bo(Na),Bo(Ta),Bo(Jx),Bo(ko))},Wx.\u0275dir=Oe({type:Wx,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&$o("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Ea([Xx])]}),Wx),Zx={provide:_x,useExisting:jt((function(){return tR})),multi:!0},tR=((Gx=function(){function t(e,n){d(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return g(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||Gx)(Bo(Na),Bo(Ta))},Gx.\u0275dir=Oe({type:Gx,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&$o("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[Ea([Zx])]}),Gx),eR={provide:_x,useExisting:jt((function(){return oR})),multi:!0};function nR(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}var rR,iR,oR=((iR=function(){function t(e,n){d(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=Object.is}return g(t,[{key:"writeValue",value:function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=nR(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r),t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}},{key:"compareWith",set:function(t){this._compareWith=t}}]),t}()).\u0275fac=function(t){return new(t||iR)(Bo(Na),Bo(Ta))},iR.\u0275dir=Oe({type:iR,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&$o("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[Ea([eR])]}),iR),aR=((rR=function(){function t(e,n,r){d(this,t),this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}return g(t,[{key:"_setElementValue",value:function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(nR(this.id,t)),this._select.writeValue(this._select.value))}},{key:"value",set:function(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}}]),t}()).\u0275fac=function(t){return new(t||rR)(Bo(Ta),Bo(Na),Bo(oR,9))},rR.\u0275dir=Oe({type:rR,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),rR),sR={provide:_x,useExisting:jt((function(){return hR})),multi:!0};function uR(t,e){return null==t?""+e:("string"==typeof e&&(e="'".concat(e,"'")),e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}var cR,lR,hR=((lR=function(){function t(e,n){d(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=Object.is}return g(t,[{key:"writeValue",value:function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map((function(t){return n._getOptionId(t)}));e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){var r=[];if(void 0!==n.selectedOptions)for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=e._getOptionValue(a.value);r.push(s)}else for(var u=n.options,c=0;c<u.length;c++){var l=u.item(c);if(l.selected){var h=e._getOptionValue(l.value);r.push(h)}}e.value=r,t(r)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r)._value,t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},{key:"compareWith",set:function(t){this._compareWith=t}}]),t}()).\u0275fac=function(t){return new(t||lR)(Bo(Na),Bo(Ta))},lR.\u0275dir=Oe({type:lR,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&$o("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[Ea([sR])]}),lR),fR=((cR=function(){function t(e,n,r){d(this,t),this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}return g(t,[{key:"_setElementValue",value:function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}},{key:"_setSelected",value:function(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(t){null!=this._select&&(this._value=t,this._setElementValue(uR(this.id,t)),this._select.writeValue(this._select.value))}},{key:"value",set:function(t){this._select?(this._value=t,this._setElementValue(uR(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}}]),t}()).\u0275fac=function(t){return new(t||cR)(Bo(Ta),Bo(Na),Bo(hR,9))},cR.\u0275dir=Oe({type:cR,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),cR);function pR(t,e){t.validator=Mx.compose([t.validator,e.validator]),t.asyncValidator=Mx.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange((function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&dR(t,e)}))}(t,e),function(t,e){t.registerOnChange((function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)}))}(t,e),function(t,e){e.valueAccessor.registerOnTouched((function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&dR(t,e),"submit"!==t.updateOn&&t.markAsTouched()}))}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange((function(t){e.valueAccessor.setDisabledState(t)})),e._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))})),e._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))}))}function dR(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function vR(t,e){t.validator=Mx.compose([t.validator,e.validator]),t.asyncValidator=Mx.composeAsync([t.asyncValidator,e.asyncValidator])}function gR(t){return null!=t?Mx.compose(Hx(t)):null}function yR(t){return null!=t?Mx.composeAsync(Hx(t)):null}var mR=[Ex,tR,Yx,oR,hR,$x];function bR(t){return(kR(t)?t.validators:t)||null}function _R(t){return Array.isArray(t)?gR(t):t||null}function wR(t,e){return(kR(e)?e.asyncValidators:t)||null}function ER(t){return Array.isArray(t)?yR(t):t||null}function kR(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var IR,CR,TR,SR,OR,AR,NR,PR,xR=function(){function t(e,n){d(this,t),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=_R(this._rawValidators),this._composedAsyncValidatorFn=ER(this._rawAsyncValidators)}return g(t,[{key:"setValidators",value:function(t){this._rawValidators=t,this._composedValidatorFn=_R(t)}},{key:"setAsyncValidators",value:function(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=ER(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(t){return t.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(t){t.markAsUntouched({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(t){t.markAsPristine({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(e){e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!0)}))}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild((function(e){e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!1)}))}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(e){return e._updateTreeValidity(t)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;var n=Vx(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){e._hasOwnPendingAsyncValidator=!1,e.setErrors(n,{emitEvent:t})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;var r=t;return e.forEach((function(t){r=r instanceof jR?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof DR&&r.at(t)||null})),r}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new vs,this.statusChanges=new vs}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls((function(e){return e.status===t}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(t){return t.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(t){return t.touched}))}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){kR(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"validator",get:function(){return this._composedValidatorFn},set:function(t){this._rawValidators=this._composedValidatorFn=t}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}}]),t}(),RR=function(t){s(n,t);var e=c(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return d(this,n),(t=e.call(this,bR(i),wR(o,i)))._onChange=[],t._applyFormState(r),t._setUpdateStrategy(i),t.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),t._initObservables(),t}return g(n,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(t){return t(e.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),n}(xR),jR=function(t){s(n,t);var e=c(n);function n(t,r,i){var o;return d(this,n),(o=e.call(this,bR(r),wR(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return g(n,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach((function(r){e._throwIfControlMissing(r),e.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(r){e.controls[r]&&e.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(t,e,n){return t[n]=e instanceof RR?e.value:e.getRawValue(),t}))}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,(function(t,e){return!!e._syncPendingControls()||t}));return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach((function(n){return t(e.controls[n],n)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){for(var e=0,n=Object.keys(this.controls);e<n.length;e++){var r=n[e],i=this.controls[r];if(this.contains(r)&&t(i))return!0}return!1}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},(function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e}))}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild((function(t,r){n=e(n,t,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(xR),DR=function(t){s(r,t);var n=c(r);function r(t,e,i){var o;return d(this,r),(o=n.call(this,bR(e),wR(i,e))).controls=t,o._initObservables(),o._setUpdateStrategy(e),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return g(r,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}},{key:"removeAt",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),this.updateValueAndValidity()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach((function(t,r){e._throwIfControlMissing(r),e.at(r).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.forEach((function(t,r){e.at(r)&&e.at(r).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map((function(t){return t instanceof RR?t.value:t.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(t){return t._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce((function(t,e){return!!e._syncPendingControls()||t}),!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}},{key:"_forEachChild",value:function(t){this.controls.forEach((function(e,n){t(e,n)}))}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter((function(e){return e.enabled||t.disabled})).map((function(t){return t.value}))}},{key:"_anyControls",value:function(t){return this.controls.some((function(e){return e.enabled&&t(e)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){return t._registerControl(e)}))}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var t,n=e(this.controls);try{for(n.s();!(t=n.n()).done;){if(t.value.enabled)return!1}}catch(r){n.e(r)}finally{n.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),r}(xR),LR=((IR=function t(){d(this,t)}).\u0275fac=function(t){return new(t||IR)},IR.\u0275dir=Oe({type:IR,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),IR),FR=new Xt("NgModelWithFormControlWarning"),MR={provide:Sx,useExisting:jt((function(){return UR}))},UR=((CR=function(t){s(n,t);var e=c(n);function n(t,r){var i;return d(this,n),(i=e.call(this))._validators=t,i._asyncValidators=r,i.submitted=!1,i.directives=[],i.form=null,i.ngSubmit=new vs,i}return g(n,[{key:"ngOnChanges",value:function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"addControl",value:function(t){var e=this.form.get(t.path);return pR(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e,n,r;e=this.directives,n=t,(r=e.indexOf(n))>-1&&e.splice(r,1)}},{key:"addFormGroup",value:function(t){var e=this.form.get(t.path);vR(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(t){}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"addFormArray",value:function(t){var e=this.form.get(t.path);vR(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(t){}},{key:"getFormArray",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){this.form.get(t.path).setValue(e)}},{key:"onSubmit",value:function(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach((function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})),this.ngSubmit.emit(t),!1;var e}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_updateDomValue",value:function(){var t=this;this.directives.forEach((function(e){var n=t.form.get(e.path);e.control!==n&&(function(t,e){var n=function(){};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),e._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),e._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),t&&t._clearChangeFns()}(e.control,e),n&&pR(n,e),e.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var t=this;this.form._registerOnCollectionChange((function(){return t._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var t=gR(this._validators);this.form.validator=Mx.compose([this.form.validator,t]);var e=yR(this._asyncValidators);this.form.asyncValidator=Mx.composeAsync([this.form.asyncValidator,e])}},{key:"_checkFormPresent",value:function(){}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}}]),n}(Sx)).\u0275fac=function(t){return new(t||CR)(Bo(Dx,10),Bo(Lx,10))},CR.\u0275dir=Oe({type:CR,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&$o("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ea([MR]),So,Ve]}),CR),VR={provide:Ax,useExisting:jt((function(){return qR}))},qR=((TR=function(t){s(r,t);var e=c(r);function r(t,n,i,o,a){var s;return d(this,r),(s=e.call(this))._ngModelWarningConfig=a,s._added=!1,s.update=new vs,s._ngModelWarningSent=!1,s._parent=t,s._rawValidators=n||[],s._rawAsyncValidators=i||[],s.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);var n=void 0,r=void 0,i=void 0;return e.forEach((function(t){var e;t.constructor===Cx?n=t:(e=t,mR.some((function(t){return e.constructor===t}))?r=t:i=t)})),i||r||n||null}(0,o),s}return g(r,[{key:"ngOnChanges",value:function(t){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(function(t,e,n,r){Er()&&"never"!==r&&((null!==r&&"once"!==r||e._ngModelWarningSentOnce)&&("always"!==r||n._ngModelWarningSent)||(e._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}(0,r,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_checkParentType",value:function(){}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}},{key:"isDisabled",set:function(t){}},{key:"path",get:function(){return function(t,e){return[].concat(n(e.path),[t])}(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return gR(this._rawValidators)}},{key:"asyncValidator",get:function(){return yR(this._rawAsyncValidators)}}]),r}(Ax)).\u0275fac=function(t){return new(t||TR)(Bo(Sx,13),Bo(Dx,10),Bo(Lx,10),Bo(_x,10),Bo(FR,8))},TR.\u0275dir=Oe({type:TR,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ea([VR]),So,Ve]}),TR._ngModelWarningSentOnce=!1,TR),BR={provide:Dx,useExisting:jt((function(){return HR})),multi:!0},HR=((PR=function(){function t(){d(this,t),this._required=!1}return g(t,[{key:"validate",value:function(t){return this.required?Mx.required(t):null}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}},{key:"required",get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}}]),t}()).\u0275fac=function(t){return new(t||PR)},PR.\u0275dir=Oe({type:PR,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&Uo("required",e.required?"":null)},inputs:{required:"required"},features:[Ea([BR])]}),PR),zR=((NR=function t(){d(this,t)}).\u0275mod=Te({type:NR}),NR.\u0275inj=Et({factory:function(t){return new(t||NR)}}),NR),WR=((AR=function(){function t(){d(this,t)}return g(t,[{key:"group",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(t),r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new jR(n,{asyncValidators:i,updateOn:o,validators:r})}},{key:"control",value:function(t,e,n){return new RR(t,e,n)}},{key:"array",value:function(t,e,n){var r=this,i=t.map((function(t){return r._createControl(t)}));return new DR(i,e,n)}},{key:"_reduceControls",value:function(t){var e=this,n={};return Object.keys(t).forEach((function(r){n[r]=e._createControl(t[r])})),n}},{key:"_createControl",value:function(t){return t instanceof RR||t instanceof jR||t instanceof DR?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}]),t}()).\u0275fac=function(t){return new(t||AR)},AR.\u0275prov=wt({token:AR,factory:AR.\u0275fac}),AR),KR=((OR=function t(){d(this,t)}).\u0275mod=Te({type:OR}),OR.\u0275inj=Et({factory:function(t){return new(t||OR)},providers:[Jx],imports:[zR]}),OR),GR=((SR=function(){function t(){d(this,t)}return g(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:FR,useValue:e.warnOnNgModelWithFormControl}]}}}]),t}()).\u0275mod=Te({type:SR}),SR.\u0275inj=Et({factory:function(t){return new(t||SR)},providers:[WR,Jx],imports:[zR]}),SR);function QR(t,e){1&t&&(Ko(0,"div"),Qo(1,"span",9),Go())}function YR(t,e){1&t&&(Ko(0,"p",10),ha(1,"El usuario o contrase\xf1a no es correcto"),Go())}var XR,JR=((XR=function(){function t(e,n,r,i){d(this,t),this.formBuilder=e,this.autService=n,this.router=r,this.activatedRouter=i,this.mensaje=!1,this.loading=!1,this.clicked=!1}return g(t,[{key:"ngOnInit",value:function(){this.loginForm=this.formBuilder.group({email:["",[Mx.required,Mx.email]],password:["",[Mx.required,Mx.pattern("^(?=.*[0-9])(?=.*[a-zA-Z])([a-zA-Z0-9]+)$"),Mx.minLength(6)]]})}},{key:"onSubmit",value:function(){var t=this;this.clicked=!0,this.userdata=this.saveUserdata(),this.loading=!0,this.mensaje=!1,setTimeout((function(){t.autService.inicioSesion(t.userdata),t.loading=!1}),3e3),setTimeout((function(){!1===t.isAuth()&&(t.mensaje=!0,t.loading=!1,t.clicked=!1)}),4e3)}},{key:"saveUserdata",value:function(){return{email:this.loginForm.get("email").value,password:this.loginForm.get("password").value}}},{key:"isAuth",value:function(){return this.autService.isAuthenticated()}}]),t}()).\u0275fac=function(t){return new(t||XR)(Bo(WR),Bo(fP),Bo(DN),Bo(yA))},XR.\u0275cmp=Ee({type:XR,selectors:[["app-inises"]],decls:20,vars:4,consts:[[1,"row"],[1,"col-md-6","offset-md-3"],[3,"formGroup","ngSubmit"],["type","email","id","inputEmail","formControlName","email","required","","autofocus","",1,"form-control"],["type","password","id","inputPassword","formControlName","password","required","",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","alert alert-danger cartel",4,"ngIf"],["routerLink","/registro"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","justify-content-left"],[1,"alert","alert-danger","cartel"]],template:function(t,e){1&t&&(Ko(0,"div",0),Ko(1,"div",1),Ko(2,"form",2),$o("ngSubmit",(function(){return e.onSubmit()})),Ko(3,"h4"),ha(4,"Introduzca los siguientes datos:"),Go(),Ko(5,"label"),ha(6,"Correo Electr\xf3nico"),Go(),Qo(7,"input",3),Ko(8,"label"),ha(9,"Contrase\xf1a"),Go(),Qo(10,"input",4),Qo(11,"hr"),Ko(12,"button",5),ha(13," Iniciar sesi\xf3n "),qo(14,QR,2,0,"div",6),Go(),Go(),qo(15,YR,2,0,"p",7),Ko(16,"p"),ha(17,"Si no dispone de cuenta pulse "),Ko(18,"a",8),ha(19,"aqu\xed"),Go(),Go(),Go(),Go()),2&t&&(Hr(2),zo("formGroup",e.loginForm),Hr(10),zo("disabled",!e.loginForm.valid||e.clicked),Hr(2),zo("ngIf",e.clicked),Hr(1),zo("ngIf",e.mensaje))},directives:[LR,xx,UR,Cx,Px,qR,HR,uc,FN],styles:[".cargando[_ngcontent-%COMP%], .cartel[_ngcontent-%COMP%]{margin:25px}"]}),XR);function $R(t,e){if(1&t&&(Ko(0,"p",8),ha(1),Go()),2&t){var n=ea();Hr(1),pa("",n.erroresForm.email," ")}}function ZR(t,e){if(1&t&&(Ko(0,"p",8),ha(1),Go()),2&t){var n=ea();Hr(1),fa(n.erroresForm.password)}}var tj,ej,nj,rj=((nj=function(){function t(e,n,r,i){d(this,t),this.formBuilder=e,this.autService=n,this.router=r,this.activatedRouter=i,this.clicked=!1,this.erroresForm={email:"",password:""},this.mensajesValidacion={email:{required:"Email obligatorio",email:"Introduzca una direcci\xf3n email correcta"},password:{required:"Contrase\xf1a obligatoria",pattern:"La contrase\xf1a debe tener al menos una letra un n\xfamero ",minlength:"y m\xe1s de 6 caracteres"}}}return g(t,[{key:"onValueChanged",value:function(t){if(this.registroForm){var e=this.registroForm;for(var n in this.erroresForm){this.erroresForm[n]="";var r=e.get(n);if(r&&r.dirty&&!r.valid){var i=this.mensajesValidacion[n];for(var o in r.errors)this.erroresForm[n]+=i[o]+" "}}}}},{key:"ngOnInit",value:function(){var t=this;this.registroForm=this.formBuilder.group({email:["",[Mx.required,Mx.email]],password:["",[Mx.required,Mx.pattern("^(?=.*[0-9])(?=.*[a-zA-Z])([a-zA-Z0-9]+)$"),Mx.minLength(6)]]}),this.registroForm.valueChanges.subscribe((function(e){return t.onValueChanged(e)})),this.onValueChanged()}},{key:"onSubmit",value:function(){this.clicked=!0,this.userdata=this.saveUserdata(),this.autService.registroUsuario(this.userdata),this.router.navigate(["/inicio"])}},{key:"saveUserdata",value:function(){return{email:this.registroForm.get("email").value,password:this.registroForm.get("password").value}}}]),t}()).\u0275fac=function(t){return new(t||nj)(Bo(WR),Bo(fP),Bo(DN),Bo(yA))},nj.\u0275cmp=Ee({type:nj,selectors:[["app-registro"]],decls:20,vars:4,consts:[[1,"row"],[1,"col-md-6","offset-md-3"],[3,"formGroup","ngSubmit"],["type","email","id","inputEmail","formControlName","email","required","","autofocus","",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["type","password","id","inputPassword","formControlName","password","required","",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["routerLink","/iniciosesion"],[1,"alert","alert-danger"]],template:function(t,e){1&t&&(Ko(0,"div",0),Ko(1,"div",1),Ko(2,"form",2),$o("ngSubmit",(function(){return e.onSubmit()})),Ko(3,"h4"),ha(4,"Introduzca sus datos de registro"),Go(),Ko(5,"label"),ha(6,"Correo Electr\xf3nico"),Go(),Qo(7,"input",3),qo(8,$R,2,1,"p",4),Ko(9,"label"),ha(10,"Contrase\xf1a"),Go(),Qo(11,"input",5),qo(12,ZR,2,1,"p",4),Qo(13,"hr"),Ko(14,"button",6),ha(15,"Registrar"),Go(),Go(),Ko(16,"p"),ha(17,"Si ya dispone de cuenta pulse "),Ko(18,"a",7),ha(19,"aqu\xed"),Go(),Go(),Go(),Go()),2&t&&(Hr(2),zo("formGroup",e.registroForm),Hr(6),zo("ngIf",e.erroresForm.email),Hr(4),zo("ngIf",e.erroresForm.password),Hr(2),zo("disabled",!e.registroForm.valid||e.clicked))},directives:[LR,xx,UR,Cx,Px,qR,HR,uc,FN],styles:[""]}),nj),ij=((ej=function(){function t(){d(this,t)}return g(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||ej)},ej.\u0275cmp=Ee({type:ej,selectors:[["app-inicio"]],decls:2,vars:0,template:function(t,e){1&t&&(Ko(0,"h2"),ha(1,"Bienvenido a nuestra aplicaci\xf3n ComprasApp"),Go())},styles:["h2[_ngcontent-%COMP%]{margin:0 auto}"]}),ej),oj=((tj=function(){function t(e){d(this,t),this.http=e,this.presURL="https://comprasapp-9fc31.firebaseio.com/presupuestos.json",this.preURL="https://comprasapp-9fc31.firebaseio.com/presupuestos"}return g(t,[{key:"postPresupuesto",value:function(t){var e=JSON.stringify(t),n=new CP({"Content-Type":"application/json"});return this.http.post(this.presURL,e,{headers:n}).pipe(q((function(t){return console.log(t),t})))}},{key:"getPresupuestos",value:function(){return this.http.get(this.presURL).pipe(q((function(t){return t})))}},{key:"getPresupuesto",value:function(t){return this.http.get("".concat(this.preURL,"/").concat(t,".json")).pipe(q((function(t){return t})))}},{key:"putPresupuesto",value:function(t,e){var n=JSON.stringify(t),r=new CP({"Content-Type":"application/json"});return this.http.put("".concat(this.preURL,"/").concat(e,".json"),n,{headers:r}).pipe(q((function(t){return console.log(t),t})))}},{key:"delPresupuesto",value:function(t){return this.http.delete("".concat(this.preURL,"/").concat(t,".json")).pipe(q((function(t){return t})))}}]),t}()).\u0275fac=function(t){return new(t||tj)(oe(YP))},tj.\u0275prov=wt({token:tj,factory:tj.\u0275fac,providedIn:"root"}),tj);function aj(t,e){1&t&&Qo(0,"i",27)}function sj(t,e){1&t&&Qo(0,"i",28)}function uj(t,e){1&t&&(Ko(0,"p",29),ha(1," El campo Proveedor es obligatorio. "),Go())}function cj(t,e){1&t&&Qo(0,"i",27)}function lj(t,e){1&t&&Qo(0,"i",28)}function hj(t,e){1&t&&(Ko(0,"p",29),ha(1,"El campo es obligatorio"),Go())}function fj(t,e){1&t&&Qo(0,"i",27)}function pj(t,e){1&t&&Qo(0,"i",28)}function dj(t,e){1&t&&(Ko(0,"p",29),ha(1,"El campo es obligatorio"),Go())}function vj(t,e){1&t&&Qo(0,"i",27)}function gj(t,e){1&t&&Qo(0,"i",28)}function yj(t,e){1&t&&(Ko(0,"p",29),ha(1,"El campo es obligatorio"),Go())}function mj(t,e){1&t&&Qo(0,"i",27)}function bj(t,e){1&t&&Qo(0,"i",28)}function _j(t,e){1&t&&(Ko(0,"p",29),ha(1,"El campo es obligatorio"),Go())}function wj(t,e){1&t&&(Ko(0,"p",29),ha(1,"Por favor complete todos los campos"),Go())}var Ej,kj=((Ej=function(){function t(e,n){d(this,t),this.pf=e,this.presupuestoService=n,this.iva=0,this.total=0}return g(t,[{key:"ngOnInit",value:function(){this.presupuestoForm=this.pf.group({proveedor:["",Mx.required],fecha:["",Mx.required],concepto:["",[Mx.required,Mx.minLength(10)]],base:["",Mx.required],tipo:["",Mx.required],iva:this.iva,total:this.total}),this.onChanges()}},{key:"onChanges",value:function(){var t=this;this.presupuestoForm.valueChanges.subscribe((function(e){t.base=e.base,t.tipo=e.tipo,t.presupuestoForm.value.iva=t.base*t.tipo,t.presupuestoForm.value.total=t.base+t.base*t.tipo}))}},{key:"onSubmit",value:function(){this.presupuesto=this.savePresupuesto(),this.presupuestoService.postPresupuesto(this.presupuesto).subscribe((function(t){})),this.presupuestoForm.reset()}},{key:"savePresupuesto",value:function(){return{proveedor:this.presupuestoForm.get("proveedor").value,fecha:this.presupuestoForm.get("fecha").value,concepto:this.presupuestoForm.get("concepto").value,base:this.presupuestoForm.get("base").value,tipo:this.presupuestoForm.get("tipo").value,iva:this.presupuestoForm.get("iva").value,total:this.presupuestoForm.get("total").value}}}]),t}()).\u0275fac=function(t){return new(t||Ej)(Bo(WR),Bo(oj))},Ej.\u0275cmp=Ee({type:Ej,selectors:[["app-addpres"]],decls:72,vars:29,consts:[[1,"row"],[1,"col-xs-12","col-sm-10","col-md-8","col-sm-offset-1","col-md-offset","2"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","proveedor"],["class","fa fa-check-circle check",4,"ngIf"],["class","fa fa-exclamation-circle uncheck",4,"ngIf"],["type","text","id","proveedor","formControlName","proveedor",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["for","fecha"],["type","date","id","fecha","formControlName","fecha",1,"form-control"],["for","concepto"],["type","text","id","concepto","formControlName","concepto",1,"form-control"],["for","base"],["type","number","id","base","formControlName","base",1,"form-control"],["for","tipo"],["id","tipo","formControlName","tipo",1,"form-control"],["value",""],["value","0"],["value","0.04"],["value","0.10"],["value","0.21"],["for","iva"],["type","number","id","iva","formControlName","iva","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["for","total"],["type","number","id","total","formControlName","total","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"fa","fa-check-circle","check"],[1,"fa","fa-exclamation-circle","uncheck"],[1,"alert","alert-danger"]],template:function(t,e){1&t&&(Ko(0,"div",0),Ko(1,"div",1),Ko(2,"h2"),ha(3,"A\xf1adir nuevo presupuesto"),Go(),Ko(4,"form",2),$o("ngSubmit",(function(){return e.onSubmit()})),Ko(5,"div",3),Ko(6,"label",4),ha(7,"Proveedor"),Go(),qo(8,aj,1,0,"i",5),qo(9,sj,1,0,"i",6),Qo(10,"input",7),qo(11,uj,2,0,"p",8),Go(),Ko(12,"div",3),Ko(13,"label",9),ha(14,"Fecha Presupuesto"),Go(),qo(15,cj,1,0,"i",5),qo(16,lj,1,0,"i",6),Qo(17,"input",10),qo(18,hj,2,0,"p",8),Go(),Ko(19,"div",3),Ko(20,"label",11),ha(21,"Concepto"),Go(),qo(22,fj,1,0,"i",5),qo(23,pj,1,0,"i",6),Qo(24,"input",12),qo(25,dj,2,0,"p",8),Go(),Ko(26,"div",3),Ko(27,"label",13),ha(28,"Base Imponible"),Go(),qo(29,vj,1,0,"i",5),qo(30,gj,1,0,"i",6),Qo(31,"input",14),qo(32,yj,2,0,"p",8),Go(),Ko(33,"div",3),Ko(34,"label",15),ha(35,"Tipo de IVA"),Go(),qo(36,mj,1,0,"i",5),qo(37,bj,1,0,"i",6),Ko(38,"select",16),Ko(39,"option",17),ha(40,"Seleccione..."),Go(),Ko(41,"option",18),ha(42," 0 %"),Go(),Ko(43,"option",19),ha(44," 4 %"),Go(),Ko(45,"option",20),ha(46,"10 %"),Go(),Ko(47,"option",21),ha(48,"21 %"),Go(),Go(),qo(49,_j,2,0,"p",8),Go(),Ko(50,"div",3),Ko(51,"label",22),ha(52,"Importe IVA"),Go(),Ko(53,"input",23),$o("ngModelChange",(function(t){return e.presupuestoForm.value.iva=t})),Go(),Go(),Ko(54,"div",3),Ko(55,"label",24),ha(56,"Total Factura IVA Incluido"),Go(),Ko(57,"input",25),$o("ngModelChange",(function(t){return e.presupuestoForm.value.total=t})),Go(),Go(),Ko(58,"button",26),ha(59," A\xf1adir Presupuesto "),Go(),qo(60,wj,2,0,"p",8),Go(),Qo(61,"hr"),Ko(62,"pre"),ha(63),ps(64,"json"),Go(),Ko(65,"pre"),ha(66),ps(67,"json"),Go(),Qo(68,"hr"),Ko(69,"pre"),ha(70),ps(71,"json"),Go(),Go(),Go()),2&t&&(Hr(4),zo("formGroup",e.presupuestoForm),Hr(4),zo("ngIf",e.presupuestoForm.controls.proveedor.valid),Hr(1),zo("ngIf",e.presupuestoForm.controls.proveedor.invalid&&e.presupuestoForm.controls.proveedor.touched),Hr(2),zo("ngIf",e.presupuestoForm.controls.proveedor.invalid&&e.presupuestoForm.controls.proveedor.touched),Hr(4),zo("ngIf",e.presupuestoForm.controls.fecha.valid),Hr(1),zo("ngIf",e.presupuestoForm.controls.fecha.invalid&&e.presupuestoForm.controls.fecha.touched),Hr(2),zo("ngIf",e.presupuestoForm.controls.fecha.invalid&&e.presupuestoForm.controls.fecha.touched),Hr(4),zo("ngIf",e.presupuestoForm.controls.concepto.valid),Hr(1),zo("ngIf",e.presupuestoForm.controls.concepto.invalid&&e.presupuestoForm.controls.concepto.touched),Hr(2),zo("ngIf",e.presupuestoForm.controls.concepto.invalid&&e.presupuestoForm.controls.concepto.touched),Hr(4),zo("ngIf",e.presupuestoForm.controls.base.valid),Hr(1),zo("ngIf",e.presupuestoForm.controls.base.invalid&&e.presupuestoForm.controls.base.touched),Hr(2),zo("ngIf",e.presupuestoForm.controls.base.invalid&&e.presupuestoForm.controls.base.touched),Hr(4),zo("ngIf",e.presupuestoForm.controls.tipo.valid),Hr(1),zo("ngIf",e.presupuestoForm.controls.tipo.invalid&&e.presupuestoForm.controls.tipo.touched),Hr(12),zo("ngIf",e.presupuestoForm.controls.tipo.invalid&&e.presupuestoForm.controls.tipo.touched),Hr(4),zo("ngModel",e.presupuestoForm.value.iva),Hr(4),zo("ngModel",e.presupuestoForm.value.total),Hr(1),zo("disabled",!e.presupuestoForm.valid),Hr(2),zo("ngIf",!e.presupuestoForm.valid),Hr(3),pa("Valor del formulario: ",ds(64,23,e.presupuestoForm.value),""),Hr(3),pa("Status del formulario: ",ds(67,25,e.presupuestoForm.status),""),Hr(4),fa(ds(71,27,e.presupuesto)))},directives:[LR,xx,UR,uc,Cx,Px,qR,Yx,oR,aR,fR],pipes:[vc],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-left:5px solid #a94442}input.ng-valid.ng-dirty[_ngcontent-%COMP%]{border-left:5px solid #42a948}.check[_ngcontent-%COMP%]{color:#42a948}.uncheck[_ngcontent-%COMP%]{color:#a94442}"]}),Ej);function Ij(t,e){1&t&&Qo(0,"i",29)}function Cj(t,e){1&t&&Qo(0,"i",30)}function Tj(t,e){1&t&&(Ko(0,"p",31),ha(1," El campo Proveedor es obligatorio. "),Go())}function Sj(t,e){1&t&&Qo(0,"i",29)}function Oj(t,e){1&t&&Qo(0,"i",30)}function Aj(t,e){1&t&&(Ko(0,"p",31),ha(1," El campo Fecha es obligatorio. "),Go())}function Nj(t,e){1&t&&Qo(0,"i",29)}function Pj(t,e){1&t&&Qo(0,"i",30)}function xj(t,e){1&t&&(Ko(0,"p",31),ha(1," El campo Concepto es obligatorio y debe tener m\xe1s de 10 caracteres. "),Go())}function Rj(t,e){1&t&&Qo(0,"i",29)}function jj(t,e){1&t&&Qo(0,"i",30)}function Dj(t,e){1&t&&(Ko(0,"p",31),ha(1," El campo Base Imponible es obligatorio. "),Go())}function Lj(t,e){1&t&&Qo(0,"i",29)}function Fj(t,e){1&t&&Qo(0,"i",30)}function Mj(t,e){1&t&&(Ko(0,"p",31),ha(1," El campo Tipo de IVA es obligatorio. "),Go())}function Uj(t,e){1&t&&(Ko(0,"p",31),ha(1," Por favor complete todos los campos "),Go())}var Vj,qj=((Vj=function(){function t(e,n,r,i){var o=this;d(this,t),this.pf=e,this.presupuestoService=n,this.router=r,this.activatedRouter=i,this.iva=0,this.total=0,this.activatedRouter.params.subscribe((function(t){o.id=t.id,o.presupuestoService.getPresupuesto(o.id).subscribe((function(t){return o.presupuesto=t}))}))}return g(t,[{key:"ngOnInit",value:function(){this.presupuestoForm=this.pf.group({proveedor:["",Mx.required],fecha:["",Mx.required],concepto:["",[Mx.required,Mx.minLength(10)]],base:["",Mx.required],tipo:["",Mx.required],iva:this.iva,total:this.total}),this.onChanges()}},{key:"onChanges",value:function(){var t=this;this.presupuestoForm.valueChanges.subscribe((function(e){t.base=e.base,t.tipo=e.tipo,t.presupuestoForm.value.iva=t.base*t.tipo,t.presupuestoForm.value.total=t.base+t.base*t.tipo}))}},{key:"onSubmit",value:function(){var t=this;this.presupuesto=this.savePresupuesto(),this.presupuestoService.putPresupuesto(this.presupuesto,this.id).subscribe((function(e){t.router.navigate(["/presupuestos"])}))}},{key:"savePresupuesto",value:function(){return{proveedor:this.presupuestoForm.get("proveedor").value,fecha:this.presupuestoForm.get("fecha").value,concepto:this.presupuestoForm.get("concepto").value,base:this.presupuestoForm.get("base").value,tipo:this.presupuestoForm.get("tipo").value,iva:this.presupuestoForm.get("iva").value,total:this.presupuestoForm.get("total").value}}}]),t}()).\u0275fac=function(t){return new(t||Vj)(Bo(WR),Bo(oj),Bo(DN),Bo(yA))},Vj.\u0275cmp=Ee({type:Vj,selectors:[["app-editpres"]],decls:67,vars:25,consts:[[1,"row"],[1,"col-xs-12","col-sm-10","col-md-8","col-sm-offset-1","col-md-offset","2"],["routerLink","/presupuestos",1,"btn","btn-primary","float-md-right"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","proveedor"],["class","fa fa-check-circle check",4,"ngIf"],["class","fa fa-exclamation-circle uncheck",4,"ngIf"],["type","text","id","proveedor","formControlName","proveedor",1,"form-control",3,"ngModel","ngModelChange"],["class","alert alert-danger",4,"ngIf"],["for","fecha"],["type","date","id","fecha","formControlName","fecha",1,"form-control",3,"ngModel","ngModelChange"],["for","concepto"],["type","text","id","concepto","formControlName","concepto",1,"form-control",3,"ngModel","ngModelChange"],["for","base"],["type","number","id","base","formControlName","base",1,"form-control",3,"ngModel","ngModelChange"],["for","tipo"],["id","tipo","formControlName","tipo",1,"form-control",3,"ngModel","ngModelChange"],["value",""],["value","0"],["value","0.04"],["value","0.10"],["value","0.21"],["for","iva"],["type","number","id","iva","formControlName","iva","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["for","total"],["type","number","id","total","formControlName","total","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary",3,"disabled"],["routerLink","/presupuestos",1,"btn","btn-danger"],[1,"fa","fa-check-circle","check"],[1,"fa","fa-exclamation-circle","uncheck"],[1,"alert","alert-danger"]],template:function(t,e){1&t&&(Ko(0,"div",0),Ko(1,"div",1),Ko(2,"h2"),ha(3,"Editar Presupuesto"),Go(),Ko(4,"a",2),ha(5,"Regresar al listado"),Go(),Qo(6,"br"),Ko(7,"form",3),$o("ngSubmit",(function(){return e.onSubmit()})),Ko(8,"div",4),Ko(9,"label",5),ha(10,"Proveedor"),Go(),qo(11,Ij,1,0,"i",6),qo(12,Cj,1,0,"i",7),Ko(13,"input",8),$o("ngModelChange",(function(t){return e.presupuesto.proveedor=t})),Go(),qo(14,Tj,2,0,"p",9),Go(),Ko(15,"div",4),Ko(16,"label",10),ha(17,"Fecha Presupuesto"),Go(),qo(18,Sj,1,0,"i",6),qo(19,Oj,1,0,"i",7),Ko(20,"input",11),$o("ngModelChange",(function(t){return e.presupuesto.fecha=t})),Go(),qo(21,Aj,2,0,"p",9),Go(),Ko(22,"div",4),Ko(23,"label",12),ha(24,"Concepto"),Go(),qo(25,Nj,1,0,"i",6),qo(26,Pj,1,0,"i",7),Ko(27,"input",13),$o("ngModelChange",(function(t){return e.presupuesto.concepto=t})),Go(),qo(28,xj,2,0,"p",9),Go(),Ko(29,"div",4),Ko(30,"label",14),ha(31,"Base Imponible"),Go(),qo(32,Rj,1,0,"i",6),qo(33,jj,1,0,"i",7),Ko(34,"input",15),$o("ngModelChange",(function(t){return e.presupuesto.base=t})),Go(),qo(35,Dj,2,0,"p",9),Go(),Ko(36,"div",4),Ko(37,"label",16),ha(38,"Tipo de IVA"),Go(),qo(39,Lj,1,0,"i",6),qo(40,Fj,1,0,"i",7),Ko(41,"select",17),$o("ngModelChange",(function(t){return e.presupuesto.tipo=t})),Ko(42,"option",18),ha(43,"Seleccione..."),Go(),Ko(44,"option",19),ha(45," 0 %"),Go(),Ko(46,"option",20),ha(47," 4 %"),Go(),Ko(48,"option",21),ha(49,"10 %"),Go(),Ko(50,"option",22),ha(51,"21 %"),Go(),Go(),qo(52,Mj,2,0,"p",9),Go(),Ko(53,"div",4),Ko(54,"label",23),ha(55,"Importe IVA"),Go(),Ko(56,"input",24),$o("ngModelChange",(function(t){return e.presupuestoForm.value.iva=t})),Go(),Go(),Ko(57,"div",4),Ko(58,"label",25),ha(59,"Total Factura IVA Incluido"),Go(),Ko(60,"input",26),$o("ngModelChange",(function(t){return e.presupuestoForm.value.total=t})),Go(),Go(),Ko(61,"button",27),ha(62,"Guardar Cambios"),Go(),Ko(63,"a",28),ha(64,"Cancelar"),Go(),qo(65,Uj,2,0,"p",9),Go(),Qo(66,"hr"),Go(),Go()),2&t&&(Hr(7),zo("formGroup",e.presupuestoForm),Hr(4),zo("ngIf",e.presupuestoForm.controls.proveedor.valid),Hr(1),zo("ngIf",e.presupuestoForm.controls.proveedor.invalid&&e.presupuestoForm.controls.proveedor.touched),Hr(1),zo("ngModel",e.presupuesto.proveedor),Hr(1),zo("ngIf",e.presupuestoForm.controls.proveedor.invalid&&e.presupuestoForm.controls.proveedor.touched),Hr(4),zo("ngIf",e.presupuestoForm.controls.fecha.valid),Hr(1),zo("ngIf",e.presupuestoForm.controls.fecha.invalid&&e.presupuestoForm.controls.fecha.touched),Hr(1),zo("ngModel",e.presupuesto.fecha),Hr(1),zo("ngIf",e.presupuestoForm.controls.fecha.invalid&&e.presupuestoForm.controls.fecha.touched),Hr(4),zo("ngIf",e.presupuestoForm.controls.concepto.valid),Hr(1),zo("ngIf",e.presupuestoForm.controls.concepto.invalid&&e.presupuestoForm.controls.concepto.touched),Hr(1),zo("ngModel",e.presupuesto.concepto),Hr(1),zo("ngIf",e.presupuestoForm.controls.concepto.invalid&&e.presupuestoForm.controls.concepto.touched),Hr(4),zo("ngIf",e.presupuestoForm.controls.base.valid),Hr(1),zo("ngIf",e.presupuestoForm.controls.base.invalid&&e.presupuestoForm.controls.base.touched),Hr(1),zo("ngModel",e.presupuesto.base),Hr(1),zo("ngIf",e.presupuestoForm.controls.base.invalid&&e.presupuestoForm.controls.base.touched),Hr(4),zo("ngIf",e.presupuestoForm.controls.tipo.valid),Hr(1),zo("ngIf",e.presupuestoForm.controls.tipo.invalid&&e.presupuestoForm.controls.tipo.touched),Hr(1),zo("ngModel",e.presupuesto.tipo),Hr(11),zo("ngIf",e.presupuestoForm.controls.tipo.invalid&&e.presupuestoForm.controls.tipo.touched),Hr(4),zo("ngModel",e.presupuestoForm.value.iva),Hr(4),zo("ngModel",e.presupuestoForm.value.total),Hr(1),zo("disabled",!e.presupuestoForm.valid),Hr(4),zo("ngIf",!e.presupuestoForm.valid))},directives:[FN,LR,xx,UR,uc,Cx,Px,qR,Yx,oR,aR,fR],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-left:5px solid #a94442}input.ng-valid.ng-dirty[_ngcontent-%COMP%]{border-left:5px solid #42a948}select.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-left:5px solid #a94442}select.ng-valid.ng-dirty[_ngcontent-%COMP%]{border-left:5px solid #42a948}.check[_ngcontent-%COMP%]{color:#42a948}.uncheck[_ngcontent-%COMP%]{color:#a94442}.btn[_ngcontent-%COMP%]{margin-top:5px;margin-right:20px}"]}),Vj);function Bj(t,e){1&t&&(Ko(0,"div",2),Ko(1,"span",3),ha(2,"Cargando...."),Go(),Go())}function Hj(t,e){if(1&t){var n=Yo();Ko(0,"tr"),Ko(1,"td"),ha(2),Go(),Ko(3,"td"),ha(4),Go(),Ko(5,"td"),ha(6),Go(),Ko(7,"td"),ha(8),Go(),Ko(9,"td"),ha(10),Go(),Ko(11,"td"),ha(12),Go(),Ko(13,"td"),Ko(14,"button",9),ha(15,"Editar"),Go(),Go(),Ko(16,"td"),Ko(17,"button",10),$o("click",(function(){ln(n);var t=e.$implicit;return ea(2).eliminarPresupuesto(t.id$)})),ha(18,"Eliminar"),Go(),Go(),Go()}if(2&t){var r=e.$implicit;Hr(2),fa(r.proveedor),Hr(2),fa(r.fecha),Hr(2),fa(r.concepto),Hr(2),fa(r.base),Hr(2),fa(r.iva),Hr(2),fa(r.total),Hr(2),na("routerLink","/editpres/",r.id$,"")}}function zj(t,e){if(1&t&&(Ko(0,"div"),Ko(1,"a",4),ha(2,"A\xf1adir nuevo presupuesto"),Go(),Qo(3,"br"),Ko(4,"table",5),Ko(5,"thead"),Ko(6,"tr",6),Ko(7,"th"),ha(8,"Proveedor"),Go(),Ko(9,"th"),ha(10,"Fecha"),Go(),Ko(11,"th"),ha(12,"Concepto"),Go(),Ko(13,"th"),ha(14,"Base"),Go(),Ko(15,"th"),ha(16,"IVA"),Go(),Ko(17,"th",7),ha(18,"Total"),Go(),Ko(19,"th"),ha(20,"Editar"),Go(),Ko(21,"th"),ha(22,"Eliminar"),Go(),Go(),Go(),Ko(23,"tbody"),qo(24,Hj,19,7,"tr",8),Go(),Go(),Go()),2&t){var n=ea();Hr(24),zo("ngForOf",n.presupuestos)}}var Wj,Kj=((Wj=function(){function t(e){var n=this;d(this,t),this.presupuestosService=e,this.presupuestos=[],this.charged=!1,this.presupuestosService.getPresupuestos().subscribe((function(t){for(var e in t)t[e].id$=e,n.presupuestos.push(t[e]);setTimeout((function(){n.charged=!0}),1500)}))}return g(t,[{key:"ngOnInit",value:function(){}},{key:"eliminarPresupuesto",value:function(t){var e=this;this.presupuestosService.delPresupuesto(t).subscribe((function(t){e.presupuestos=[],e.presupuestosService.getPresupuestos().subscribe((function(t){for(var n in t)t[n].id$=n,e.presupuestos.push(t[n])}))}))}}]),t}()).\u0275fac=function(t){return new(t||Wj)(Bo(oj))},Wj.\u0275cmp=Ee({type:Wj,selectors:[["app-presupuestos"]],decls:4,vars:2,consts:[["class","spinner-grow text-primary text-center","role","status",4,"ngIf"],[4,"ngIf"],["role","status",1,"spinner-grow","text-primary","text-center"],[1,"sr-only"],["routerLink","/addpres",1,"btn","btn-primary","float-md-right"],[1,"table","table-bordered","table-striped","tabla",2,"margin-top","40px"],[1,"filters"],[1,"text-right"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-success",3,"routerLink"],[1,"btn","btn-danger",3,"click"]],template:function(t,e){1&t&&(Ko(0,"h3"),ha(1,"Listado de Presupuestos"),Go(),qo(2,Bj,3,0,"div",0),qo(3,zj,25,1,"div",1)),2&t&&(Hr(2),zo("ngIf",!e.charged),Hr(1),zo("ngIf",e.charged))},directives:[uc,FN,ac,LN],styles:[""]}),Wj);function Gj(t,e){1&t&&Qo(0,"i",27)}function Qj(t,e){1&t&&Qo(0,"i",28)}function Yj(t,e){1&t&&(Ko(0,"p",29),ha(1," El campo Nombre es obligatorio. "),Go())}function Xj(t,e){1&t&&Qo(0,"i",27)}function Jj(t,e){1&t&&Qo(0,"i",28)}function $j(t,e){1&t&&(Ko(0,"p",29),ha(1,"El campo es cif obligatorio"),Go())}function Zj(t,e){1&t&&Qo(0,"i",27)}function tD(t,e){1&t&&Qo(0,"i",28)}function eD(t,e){1&t&&(Ko(0,"p",29),ha(1,"El campo es obligatorio"),Go())}function nD(t,e){1&t&&Qo(0,"i",27)}function rD(t,e){1&t&&Qo(0,"i",28)}function iD(t,e){1&t&&(Ko(0,"p",29),ha(1,"El campo es obligatorio"),Go())}function oD(t,e){1&t&&Qo(0,"i",27)}function aD(t,e){1&t&&Qo(0,"i",28)}function sD(t,e){1&t&&(Ko(0,"p",29),ha(1,"El campo es obligatorio"),Go())}function uD(t,e){if(1&t&&(Ko(0,"option",30),ha(1),Go()),2&t){var n=e.$implicit;zo("value",n),Hr(1),pa("",n," ")}}function cD(t,e){1&t&&Qo(0,"i",27)}function lD(t,e){1&t&&Qo(0,"i",28)}function hD(t,e){1&t&&(Ko(0,"p",29),ha(1,"El campo es obligatorio"),Go())}function fD(t,e){1&t&&Qo(0,"i",27)}function pD(t,e){1&t&&Qo(0,"i",28)}function dD(t,e){1&t&&(Ko(0,"p",29),ha(1,"El campo es obligatorio"),Go())}function vD(t,e){1&t&&Qo(0,"i",27)}function gD(t,e){1&t&&Qo(0,"i",28)}function yD(t,e){1&t&&(Ko(0,"p",29),ha(1,"El campo es obligatorio"),Go())}function mD(t,e){1&t&&(Ko(0,"p",29),ha(1,"Por favor complete todos los campos"),Go())}var bD,_D=((bD=function(){function t(e,n){d(this,t),this.pf=e,this.presupuestoService=n,this.provincias=["\xc1lava","Albacete","Alicante","Almer\xeda","Asturias","\xc1vila","Badajoz","Barcelona","Burgos","C\xe1ceres","C\xe1diz","Cantabria","Castell\xf3n","Ciudad Real","C\xf3rdoba","La Coru\xf1a","Cuenca","Gerona","Granada","Guadalajara","Guip\xfazcoa","Huelva","Huesca","IslasBaleares","Ja\xe9n","Le\xf3n","L\xe9rida","Lugo","Madrid","M\xe1laga","Murcia","Navarra","Orense","Palencia","Las Palmas","Pontevedra","La Rioja","Salamanca","Segovia","Sevilla","Soria","Tarragona","Santa Cruz de Tenerife","Teruel","Toledo","Valencia","Valladolid","Vizcaya","Zamora","Zaragoza"]}return g(t,[{key:"ngOnInit",value:function(){this.proveedorForm=this.pf.group({nombre:["",Mx.required],cif:["",Mx.required],direccion:["",Mx.required],cp:["",Mx.required],localidad:["",Mx.required],provincia:["",Mx.required],telefono:["",Mx.required],email:["",Mx.required],contacto:["",Mx.required]})}},{key:"onSubmit",value:function(){this.proveedor=this.saveProveedor(),this.presupuestoService.postProveedores(this.proveedor).subscribe((function(t){})),this.proveedorForm.reset()}},{key:"saveProveedor",value:function(){return{nombre:this.proveedorForm.get("nombre").value,cif:this.proveedorForm.get("cif").value,direccion:this.proveedorForm.get("direccion").value,cp:this.proveedorForm.get("cp").value,localidad:this.proveedorForm.get("localidad").value,provincia:this.proveedorForm.get("provincia").value,telefono:this.proveedorForm.get("telefono").value,email:this.proveedorForm.get("email").value,contacto:this.proveedorForm.get("contacto").value}}}]),t}()).\u0275fac=function(t){return new(t||bD)(Bo(WR),Bo(hx))},bD.\u0275cmp=Ee({type:bD,selectors:[["app-addprovee"]],decls:82,vars:37,consts:[[1,"row"],[1,"col-xs-12","col-sm-10","col-md-8","col-sm-offset-1","col-md-offset","2"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","nombre"],["class","fa fa-check-circle check",4,"ngIf"],["class","fa fa-exclamation-circle uncheck",4,"ngIf"],["type","text","id","nombre","formControlName","nombre",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["for","cif"],["type","text","id","cif","formControlName","cif",1,"form-control"],["for","direccion"],["type","text","id","direccion","formControlName","direccion",1,"form-control"],["for","cp"],["type","number","id","cp","formControlName","cp",1,"form-control"],["type","text","id","localidad","formControlName","localidad",1,"form-control"],["for","provincia"],["id","provincia","ngModelname","provincia","formControlName","provincia",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","telefono"],["type","number","id","telefono","formControlName","telefono",1,"form-control"],["for","email"],["type","email","id","email","formControlName","email",1,"form-control"],["for","contacto"],["type","text","id","contacto","formControlName","contacto",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"fa","fa-check-circle","check"],[1,"fa","fa-exclamation-circle","uncheck"],[1,"alert","alert-danger"],[3,"value"]],template:function(t,e){1&t&&(Ko(0,"div",0),Ko(1,"div",1),Ko(2,"h2"),ha(3,"A\xf1adir nuevo proveedor"),Go(),Ko(4,"form",2),$o("ngSubmit",(function(){return e.onSubmit()})),Ko(5,"div",3),Ko(6,"label",4),ha(7,"Nombre"),Go(),qo(8,Gj,1,0,"i",5),qo(9,Qj,1,0,"i",6),Qo(10,"input",7),qo(11,Yj,2,0,"p",8),Go(),Ko(12,"div",3),Ko(13,"label",9),ha(14,"C.I.F."),Go(),qo(15,Xj,1,0,"i",5),qo(16,Jj,1,0,"i",6),Qo(17,"input",10),qo(18,$j,2,0,"p",8),Go(),Ko(19,"div",3),Ko(20,"label",11),ha(21,"Direcci\xf3n"),Go(),qo(22,Zj,1,0,"i",5),qo(23,tD,1,0,"i",6),Qo(24,"input",12),qo(25,eD,2,0,"p",8),Go(),Ko(26,"div",3),Ko(27,"label",13),ha(28,"C\xf3digo Postal"),Go(),qo(29,nD,1,0,"i",5),qo(30,rD,1,0,"i",6),Qo(31,"input",14),qo(32,iD,2,0,"p",8),Go(),Ko(33,"div",3),Ko(34,"label",13),ha(35,"Localidad"),Go(),qo(36,oD,1,0,"i",5),qo(37,aD,1,0,"i",6),Qo(38,"input",15),qo(39,sD,2,0,"p",8),Go(),Ko(40,"div",3),Ko(41,"label",16),ha(42,"Provincia"),Go(),Ko(43,"select",17),Ko(44,"option",18),ha(45,"Seleccione la provincia"),Go(),qo(46,uD,2,2,"option",19),Go(),Go(),Ko(47,"div",3),Ko(48,"label",20),ha(49,"Tel\xe9fono"),Go(),qo(50,cD,1,0,"i",5),qo(51,lD,1,0,"i",6),Qo(52,"input",21),qo(53,hD,2,0,"p",8),Go(),Ko(54,"div",3),Ko(55,"label",22),ha(56,"Correo Electr\xf3nico"),Go(),qo(57,fD,1,0,"i",5),qo(58,pD,1,0,"i",6),Qo(59,"input",23),qo(60,dD,2,0,"p",8),Go(),Ko(61,"div",3),Ko(62,"label",24),ha(63,"Persona de Contacto"),Go(),qo(64,vD,1,0,"i",5),qo(65,gD,1,0,"i",6),Qo(66,"input",25),qo(67,yD,2,0,"p",8),Go(),Ko(68,"button",26),ha(69," A\xf1adir Proveedor "),Go(),qo(70,mD,2,0,"p",8),Go(),Qo(71,"hr"),Ko(72,"pre"),ha(73),ps(74,"json"),Go(),Ko(75,"pre"),ha(76),ps(77,"json"),Go(),Qo(78,"hr"),Ko(79,"pre"),ha(80),ps(81,"json"),Go(),Go(),Go()),2&t&&(Hr(4),zo("formGroup",e.proveedorForm),Hr(4),zo("ngIf",e.proveedorForm.controls.nombre.valid),Hr(1),zo("ngIf",e.proveedorForm.controls.nombre.invalid&&e.proveedorForm.controls.nombre.touched),Hr(2),zo("ngIf",e.proveedorForm.controls.nombre.invalid&&e.proveedorForm.controls.nombre.touched),Hr(4),zo("ngIf",e.proveedorForm.controls.cif.valid),Hr(1),zo("ngIf",e.proveedorForm.controls.cif.invalid&&e.proveedorForm.controls.cif.touched),Hr(2),zo("ngIf",e.proveedorForm.controls.cif.invalid&&e.proveedorForm.controls.cif.touched),Hr(4),zo("ngIf",e.proveedorForm.controls.direccion.valid),Hr(1),zo("ngIf",e.proveedorForm.controls.direccion.invalid&&e.proveedorForm.controls.direccion.touched),Hr(2),zo("ngIf",e.proveedorForm.controls.direccion.invalid&&e.proveedorForm.controls.direccion.touched),Hr(4),zo("ngIf",e.proveedorForm.controls.cp.valid),Hr(1),zo("ngIf",e.proveedorForm.controls.cp.invalid&&e.proveedorForm.controls.cp.touched),Hr(2),zo("ngIf",e.proveedorForm.controls.cp.invalid&&e.proveedorForm.controls.cp.touched),Hr(4),zo("ngIf",e.proveedorForm.controls.localidad.valid),Hr(1),zo("ngIf",e.proveedorForm.controls.localidad.invalid&&e.proveedorForm.controls.localidad.touched),Hr(2),zo("ngIf",e.proveedorForm.controls.localidad.invalid&&e.proveedorForm.controls.localidad.touched),Hr(7),zo("ngForOf",e.provincias),Hr(4),zo("ngIf",e.proveedorForm.controls.telefono.valid),Hr(1),zo("ngIf",e.proveedorForm.controls.telefono.invalid&&e.proveedorForm.controls.telefono.touched),Hr(2),zo("ngIf",e.proveedorForm.controls.telefono.invalid&&e.proveedorForm.controls.telefono.touched),Hr(4),zo("ngIf",e.proveedorForm.controls.email.valid),Hr(1),zo("ngIf",e.proveedorForm.controls.email.invalid&&e.proveedorForm.controls.email.touched),Hr(2),zo("ngIf",e.proveedorForm.controls.email.invalid&&e.proveedorForm.controls.email.touched),Hr(4),zo("ngIf",e.proveedorForm.controls.contacto.valid),Hr(1),zo("ngIf",e.proveedorForm.controls.contacto.invalid&&e.proveedorForm.controls.contacto.touched),Hr(2),zo("ngIf",e.proveedorForm.controls.contacto.invalid&&e.proveedorForm.controls.contacto.touched),Hr(1),zo("disabled",!e.proveedorForm.valid),Hr(2),zo("ngIf",!e.proveedorForm.valid),Hr(3),pa("Valor del formulario: ",ds(74,31,e.proveedorForm.value),""),Hr(3),pa("Status del formulario: ",ds(77,33,e.proveedorForm.status),""),Hr(4),fa(ds(81,35,e.proveedor)))},directives:[LR,xx,UR,uc,Cx,Px,qR,Yx,oR,aR,fR,ac],pipes:[vc],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-left:5px solid #a94442}input.ng-valid.ng-dirty[_ngcontent-%COMP%]{border-left:5px solid #42a948}.check[_ngcontent-%COMP%]{color:#42a948}.uncheck[_ngcontent-%COMP%]{color:#a94442}"]}),bD);function wD(t,e){1&t&&Qo(0,"i",29)}function ED(t,e){1&t&&Qo(0,"i",30)}function kD(t,e){1&t&&(Ko(0,"p",31),ha(1," El campo Nombre es obligatorio. "),Go())}function ID(t,e){1&t&&Qo(0,"i",29)}function CD(t,e){1&t&&Qo(0,"i",30)}function TD(t,e){1&t&&(Ko(0,"p",31),ha(1,"El campo es cif obligatorio"),Go())}function SD(t,e){1&t&&Qo(0,"i",29)}function OD(t,e){1&t&&Qo(0,"i",30)}function AD(t,e){1&t&&(Ko(0,"p",31),ha(1,"El campo es obligatorio"),Go())}function ND(t,e){1&t&&Qo(0,"i",29)}function PD(t,e){1&t&&Qo(0,"i",30)}function xD(t,e){1&t&&(Ko(0,"p",31),ha(1,"El campo es obligatorio"),Go())}function RD(t,e){1&t&&Qo(0,"i",29)}function jD(t,e){1&t&&Qo(0,"i",30)}function DD(t,e){1&t&&(Ko(0,"p",31),ha(1,"El campo es obligatorio"),Go())}function LD(t,e){if(1&t&&(Ko(0,"option",32),ha(1),Go()),2&t){var n=e.$implicit;zo("value",n),Hr(1),pa("",n," ")}}function FD(t,e){1&t&&Qo(0,"i",29)}function MD(t,e){1&t&&Qo(0,"i",30)}function UD(t,e){1&t&&(Ko(0,"p",31),ha(1,"El campo es obligatorio"),Go())}function VD(t,e){1&t&&Qo(0,"i",29)}function qD(t,e){1&t&&Qo(0,"i",30)}function BD(t,e){1&t&&(Ko(0,"p",31),ha(1,"El campo es obligatorio"),Go())}function HD(t,e){1&t&&Qo(0,"i",29)}function zD(t,e){1&t&&Qo(0,"i",30)}function WD(t,e){1&t&&(Ko(0,"p",31),ha(1,"El campo es obligatorio"),Go())}function KD(t,e){1&t&&(Ko(0,"p",31),ha(1," Por favor complete todos los campos "),Go())}var GD,QD=((GD=function(){function t(e,n,r,i){var o=this;d(this,t),this.pf=e,this.proveedorService=n,this.router=r,this.activatedRouter=i,this.provincias=["\xc1lava","Albacete","Alicante","Almer\xeda","Asturias","\xc1vila","Badajoz","Barcelona","Burgos","C\xe1ceres","C\xe1diz","Cantabria","Castell\xf3n","Ciudad Real","C\xf3rdoba","La Coru\xf1a","Cuenca","Gerona","Granada","Guadalajara","Guip\xfazcoa","Huelva","Huesca","IslasBaleares","Ja\xe9n","Le\xf3n","L\xe9rida","Lugo","Madrid","M\xe1laga","Murcia","Navarra","Orense","Palencia","Las Palmas","Pontevedra","La Rioja","Salamanca","Segovia","Sevilla","Soria","Tarragona","Santa Cruz de Tenerife","Teruel","Toledo","Valencia","Valladolid","Vizcaya","Zamora","Zaragoza"],this.activatedRouter.params.subscribe((function(t){o.id=t.id,o.proveedorService.getProveedor(o.id).subscribe((function(t){return o.proveedor=t}))}))}return g(t,[{key:"ngOnInit",value:function(){this.proveedorForm=this.pf.group({nombre:["",Mx.required],cif:["",Mx.required],direccion:["",Mx.required],cp:["",Mx.required],localidad:["",Mx.required],provincia:["",Mx.required],telefono:["",Mx.required],email:["",Mx.required],contacto:["",Mx.required]})}},{key:"onSubmit",value:function(){var t=this;this.proveedor=this.saveProveedor(),this.proveedorService.putProveedor(this.proveedor,this.id).subscribe((function(e){t.router.navigate(["/proveedores"])}))}},{key:"saveProveedor",value:function(){return{nombre:this.proveedorForm.get("nombre").value,cif:this.proveedorForm.get("cif").value,direccion:this.proveedorForm.get("direccion").value,cp:this.proveedorForm.get("cp").value,localidad:this.proveedorForm.get("localidad").value,provincia:this.proveedorForm.get("provincia").value,telefono:this.proveedorForm.get("telefono").value,email:this.proveedorForm.get("email").value,contacto:this.proveedorForm.get("contacto").value}}}]),t}()).\u0275fac=function(t){return new(t||GD)(Bo(WR),Bo(hx),Bo(DN),Bo(yA))},GD.\u0275cmp=Ee({type:GD,selectors:[["app-editprovee"]],decls:76,vars:37,consts:[[1,"row"],[1,"col-xs-12","col-sm-10","col-md-8","col-sm-offset-1","col-md-offset","2"],["routerLink","/proveedores",1,"btn","btn-primary","float-md-right"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","nombre"],["class","fa fa-check-circle check",4,"ngIf"],["class","fa fa-exclamation-circle uncheck",4,"ngIf"],["type","text","id","nombre","formControlName","nombre",1,"form-control",3,"ngModel","ngModelChange"],["class","alert alert-danger",4,"ngIf"],["for","cif"],["type","text","id","cif","formControlName","cif",1,"form-control",3,"ngModel","ngModelChange"],["for","direccion"],["type","text","id","direccion","formControlName","direccion",1,"form-control",3,"ngModel","ngModelChange"],["for","cp"],["type","number","id","cp","formControlName","cp",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","localidad","formControlName","localidad",1,"form-control",3,"ngModel","ngModelChange"],["for","provincia"],["id","provincia","ngModelname","provincia","formControlName","provincia",1,"form-control",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","telefono"],["type","number","id","telefono","formControlName","telefono",1,"form-control",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","formControlName","email",1,"form-control",3,"ngModel","ngModelChange"],["for","contacto"],["type","text","id","contacto","formControlName","contacto",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary",3,"disabled"],["routerLink","/proveedores",1,"btn","btn-danger"],[1,"fa","fa-check-circle","check"],[1,"fa","fa-exclamation-circle","uncheck"],[1,"alert","alert-danger"],[3,"value"]],template:function(t,e){1&t&&(Ko(0,"div",0),Ko(1,"div",1),Ko(2,"h2"),ha(3,"Editar Proveedor"),Go(),Ko(4,"a",2),ha(5,"Regresar al listado"),Go(),Ko(6,"form",3),$o("ngSubmit",(function(){return e.onSubmit()})),Ko(7,"div",4),Ko(8,"label",5),ha(9,"Nombre"),Go(),qo(10,wD,1,0,"i",6),qo(11,ED,1,0,"i",7),Ko(12,"input",8),$o("ngModelChange",(function(t){return e.proveedor.nombre=t})),Go(),qo(13,kD,2,0,"p",9),Go(),Ko(14,"div",4),Ko(15,"label",10),ha(16,"C.I.F."),Go(),qo(17,ID,1,0,"i",6),qo(18,CD,1,0,"i",7),Ko(19,"input",11),$o("ngModelChange",(function(t){return e.proveedor.cif=t})),Go(),qo(20,TD,2,0,"p",9),Go(),Ko(21,"div",4),Ko(22,"label",12),ha(23,"Direcci\xf3n"),Go(),qo(24,SD,1,0,"i",6),qo(25,OD,1,0,"i",7),Ko(26,"input",13),$o("ngModelChange",(function(t){return e.proveedor.direccion=t})),Go(),qo(27,AD,2,0,"p",9),Go(),Ko(28,"div",4),Ko(29,"label",14),ha(30,"C\xf3digo Postal"),Go(),qo(31,ND,1,0,"i",6),qo(32,PD,1,0,"i",7),Ko(33,"input",15),$o("ngModelChange",(function(t){return e.proveedor.cp=t})),Go(),qo(34,xD,2,0,"p",9),Go(),Ko(35,"div",4),Ko(36,"label",14),ha(37,"Localidad"),Go(),qo(38,RD,1,0,"i",6),qo(39,jD,1,0,"i",7),Ko(40,"input",16),$o("ngModelChange",(function(t){return e.proveedor.localidad=t})),Go(),qo(41,DD,2,0,"p",9),Go(),Ko(42,"div",4),Ko(43,"label",17),ha(44,"Provincia"),Go(),Ko(45,"select",18),$o("ngModelChange",(function(t){return e.proveedor.provincia=t})),Ko(46,"option",19),ha(47,"Seleccione la provincia"),Go(),qo(48,LD,2,2,"option",20),Go(),Go(),Ko(49,"div",4),Ko(50,"label",21),ha(51,"Tel\xe9fono"),Go(),qo(52,FD,1,0,"i",6),qo(53,MD,1,0,"i",7),Ko(54,"input",22),$o("ngModelChange",(function(t){return e.proveedor.telefono=t})),Go(),qo(55,UD,2,0,"p",9),Go(),Ko(56,"div",4),Ko(57,"label",23),ha(58,"Correo Electr\xf3nico"),Go(),qo(59,VD,1,0,"i",6),qo(60,qD,1,0,"i",7),Ko(61,"input",24),$o("ngModelChange",(function(t){return e.proveedor.email=t})),Go(),qo(62,BD,2,0,"p",9),Go(),Ko(63,"div",4),Ko(64,"label",25),ha(65,"Persona de Contacto"),Go(),qo(66,HD,1,0,"i",6),qo(67,zD,1,0,"i",7),Ko(68,"input",26),$o("ngModelChange",(function(t){return e.proveedor.contacto=t})),Go(),qo(69,WD,2,0,"p",9),Go(),Ko(70,"button",27),ha(71,"Guardar Cambios"),Go(),Ko(72,"a",28),ha(73,"Cancelar"),Go(),qo(74,KD,2,0,"p",9),Go(),Qo(75,"hr"),Go(),Go()),2&t&&(Hr(6),zo("formGroup",e.proveedorForm),Hr(4),zo("ngIf",e.proveedorForm.controls.nombre.valid),Hr(1),zo("ngIf",e.proveedorForm.controls.nombre.invalid&&e.proveedorForm.controls.nombre.touched),Hr(1),zo("ngModel",e.proveedor.nombre),Hr(1),zo("ngIf",e.proveedorForm.controls.nombre.invalid&&e.proveedorForm.controls.nombre.touched),Hr(4),zo("ngIf",e.proveedorForm.controls.cif.valid),Hr(1),zo("ngIf",e.proveedorForm.controls.cif.invalid&&e.proveedorForm.controls.cif.touched),Hr(1),zo("ngModel",e.proveedor.cif),Hr(1),zo("ngIf",e.proveedorForm.controls.cif.invalid&&e.proveedorForm.controls.cif.touched),Hr(4),zo("ngIf",e.proveedorForm.controls.direccion.valid),Hr(1),zo("ngIf",e.proveedorForm.controls.direccion.invalid&&e.proveedorForm.controls.direccion.touched),Hr(1),zo("ngModel",e.proveedor.direccion),Hr(1),zo("ngIf",e.proveedorForm.controls.direccion.invalid&&e.proveedorForm.controls.direccion.touched),Hr(4),zo("ngIf",e.proveedorForm.controls.cp.valid),Hr(1),zo("ngIf",e.proveedorForm.controls.cp.invalid&&e.proveedorForm.controls.cp.touched),Hr(1),zo("ngModel",e.proveedor.cp),Hr(1),zo("ngIf",e.proveedorForm.controls.cp.invalid&&e.proveedorForm.controls.cp.touched),Hr(4),zo("ngIf",e.proveedorForm.controls.localidad.valid),Hr(1),zo("ngIf",e.proveedorForm.controls.localidad.invalid&&e.proveedorForm.controls.localidad.touched),Hr(1),zo("ngModel",e.proveedor.localidad),Hr(1),zo("ngIf",e.proveedorForm.controls.localidad.invalid&&e.proveedorForm.controls.localidad.touched),Hr(4),zo("ngModel",e.proveedor.provincia),Hr(3),zo("ngForOf",e.provincias),Hr(4),zo("ngIf",e.proveedorForm.controls.telefono.valid),Hr(1),zo("ngIf",e.proveedorForm.controls.telefono.invalid&&e.proveedorForm.controls.telefono.touched),Hr(1),zo("ngModel",e.proveedor.telefono),Hr(1),zo("ngIf",e.proveedorForm.controls.telefono.invalid&&e.proveedorForm.controls.telefono.touched),Hr(4),zo("ngIf",e.proveedorForm.controls.email.valid),Hr(1),zo("ngIf",e.proveedorForm.controls.email.invalid&&e.proveedorForm.controls.email.touched),Hr(1),zo("ngModel",e.proveedor.email),Hr(1),zo("ngIf",e.proveedorForm.controls.email.invalid&&e.proveedorForm.controls.email.touched),Hr(4),zo("ngIf",e.proveedorForm.controls.contacto.valid),Hr(1),zo("ngIf",e.proveedorForm.controls.contacto.invalid&&e.proveedorForm.controls.contacto.touched),Hr(1),zo("ngModel",e.proveedor.contacto),Hr(1),zo("ngIf",e.proveedorForm.controls.contacto.invalid&&e.proveedorForm.controls.contacto.touched),Hr(1),zo("disabled",!e.proveedorForm.valid),Hr(4),zo("ngIf",!e.proveedorForm.valid))},directives:[FN,LR,xx,UR,uc,Cx,Px,qR,Yx,oR,aR,fR,ac],styles:[".btn[_ngcontent-%COMP%]{margin-top:5px;margin-right:20px}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-left:5px solid #a94442}input.ng-valid.ng-dirty[_ngcontent-%COMP%]{border-left:5px solid #42a948}select.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-left:5px solid #a94442}select.ng-valid.ng-dirty[_ngcontent-%COMP%]{border-left:5px solid #42a948}.check[_ngcontent-%COMP%]{color:#42a948}.uncheck[_ngcontent-%COMP%]{color:#a94442}"]}),GD);function YD(t,e){1&t&&(Ko(0,"div",2),Ko(1,"span",3),ha(2,"Cargando...."),Go(),Go())}function XD(t,e){if(1&t){var n=Yo();Ko(0,"tr"),Ko(1,"td"),ha(2),Go(),Ko(3,"td"),ha(4),Go(),Ko(5,"td"),ha(6),Go(),Ko(7,"td"),ha(8),Go(),Ko(9,"td"),ha(10),Go(),Ko(11,"td"),ha(12),Go(),Ko(13,"td"),ha(14),Go(),Ko(15,"td"),Ko(16,"a",8),ha(17),Go(),Go(),Ko(18,"td"),Ko(19,"button",9),ha(20,"Editar"),Go(),Go(),Ko(21,"td"),Ko(22,"button",10),$o("click",(function(){ln(n);var t=e.$implicit;return ea(2).eliminarProveedor(t.id$)})),ha(23,"Eliminar"),Go(),Go(),Go()}if(2&t){var r=e.$implicit;Hr(2),fa(r.nombre),Hr(2),fa(r.cif),Hr(2),fa(r.direccion),Hr(2),fa(r.cp),Hr(2),fa(r.localidad),Hr(2),fa(r.provincia),Hr(2),fa(r.telefono),Hr(2),na("href","mailto:",r.email,"",Tr),Hr(1),fa(r.email),Hr(2),na("routerLink","/editprovee/",r.id$,"")}}function JD(t,e){if(1&t&&(Ko(0,"div"),Ko(1,"a",4),ha(2,"A\xf1adir nuevo proveedor"),Go(),Qo(3,"br"),Ko(4,"table",5),Ko(5,"thead"),Ko(6,"tr",6),Ko(7,"th"),ha(8,"Nombre"),Go(),Ko(9,"th"),ha(10,"C.I.F"),Go(),Ko(11,"th"),ha(12,"Direcci\xf3n"),Go(),Ko(13,"th"),ha(14,"C\xf3digo Postal"),Go(),Ko(15,"th"),ha(16,"Localidad"),Go(),Ko(17,"th"),ha(18,"Provincia"),Go(),Ko(19,"th"),ha(20,"Tel\xe9fono"),Go(),Ko(21,"th"),ha(22,"Correo Electr\xf3nico"),Go(),Ko(23,"th"),ha(24,"Editar"),Go(),Ko(25,"th"),ha(26,"Eliminar"),Go(),Go(),Go(),Ko(27,"tbody"),qo(28,XD,24,10,"tr",7),Go(),Go(),Go()),2&t){var n=ea();Hr(28),zo("ngForOf",n.proveedores)}}var $D,ZD,tL,eL,nL=((ZD=function(){function t(e){var n=this;d(this,t),this.proveedoresService=e,this.proveedores=[],this.charged=!1,this.proveedoresService.getProveedores().subscribe((function(t){for(var e in t)t[e].id$=e,n.proveedores.push(t[e]);setTimeout((function(){n.charged=!0}),1500)}))}return g(t,[{key:"ngOnInit",value:function(){}},{key:"eliminarProveedor",value:function(t){var e=this;this.proveedoresService.delProveedor(t).subscribe((function(t){e.proveedores=[],e.proveedoresService.getProveedores().subscribe((function(t){for(var n in t)t[n].id$=n,e.proveedores.push(t[n])}))}))}}]),t}()).\u0275fac=function(t){return new(t||ZD)(Bo(hx))},ZD.\u0275cmp=Ee({type:ZD,selectors:[["app-proveedores"]],decls:4,vars:2,consts:[["class","spinner-grow text-primary text-center","role","status",4,"ngIf"],[4,"ngIf"],["role","status",1,"spinner-grow","text-primary","text-center"],[1,"sr-only"],["routerLink","/addprovee",1,"btn","btn-primary","float-md-right"],[1,"table","table-bordered","table-striped","tabla",2,"margin-top","40px"],[1,"filters"],[4,"ngFor","ngForOf"],[3,"href"],["type","button",1,"btn","btn-success",3,"routerLink"],[1,"btn","btn-danger",3,"click"]],template:function(t,e){1&t&&(Ko(0,"h3"),ha(1,"Listado de Proveedores"),Go(),qo(2,YD,3,0,"div",0),qo(3,JD,29,1,"div",1)),2&t&&(Hr(2),zo("ngIf",!e.charged),Hr(1),zo("ngIf",e.charged))},directives:[uc,FN,ac,LN],styles:[""]}),ZD),rL=(($D=function(){function t(e){d(this,t),this.autenticacionService=e}return g(t,[{key:"canActivate",value:function(t,e){return this.autenticacionService.isAuthenticated()}}]),t}()).\u0275fac=function(t){return new(t||$D)(oe(fP))},$D.\u0275prov=wt({token:$D,factory:$D.\u0275fac,providedIn:"root"}),$D),iL=[{path:"",component:ij,canActivate:[rL]},{path:"proveedores",component:nL,canActivate:[rL]},{path:"addprovee",component:_D,canActivate:[rL]},{path:"addpres",component:kj,canActivate:[rL]},{path:"presupuestos",component:Kj,canActivate:[rL]},{path:"editpres/:id",component:qj,canActivate:[rL]},{path:"editprovee/:id",component:QD,canActivate:[rL]},{path:"registro",component:rj},{path:"iniciosesion",component:JR},{path:"**",component:ij}],oL=((eL=function t(){d(this,t)}).\u0275mod=Te({type:eL}),eL.\u0275inj=Et({factory:function(t){return new(t||eL)},imports:[[eP.forRoot(iL)],eP]}),eL),aL=((tL=function t(){d(this,t)}).\u0275mod=Te({type:tL,bootstrap:[EP]}),tL.\u0275inj=Et({factory:function(t){return new(t||tL)},providers:[hx,oj,fP,rL],imports:[[tl,oL,KR,GR,lx]]}),tL);(function(){if(wr)throw new Error("Cannot enable prod mode after platform setup.");_r=!1})(),$c().bootstrapModule(aL).catch((function(t){return console.error(t)}))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]])}();